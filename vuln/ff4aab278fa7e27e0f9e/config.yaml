id: ff4aab278fa7e27e0f9e
bug_link: https://syzkaller.appspot.com/bug?extid=ff4aab278fa7e27e0f9e
title: general protection fault in account_kernel_stack (3)
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: ebefac5647968679f6ef5803e5d35a71997d20fa
fix_commit: 4db3d750ac7e894278ef1cb1c53cc7d883060496
datetime: '2024-12-27T13:14:31-08:00'
fix_commit_message: 'nvmet: Don''t overflow subsysnqn


  nvmet_root_discovery_nqn_store treats the subsysnqn string like a fixed

  size buffer, even though it is dynamically allocated to the size of the

  string.


  Create a new string with kstrndup instead of using the old buffer.


  Reported-by: syzbot+ff4aab278fa7e27e0f9e@syzkaller.appspotmail.com

  Closes: https://syzkaller.appspot.com/bug?extid=ff4aab278fa7e27e0f9e

  Fixes: 95409e277d83 ("nvmet: implement unique discovery NQN")

  Signed-off-by: Leo Stone <leocstone@gmail.com>

  Reviewed-by: Sagi Grimberg <sagi@grimberg.me>

  Reviewed-by: Christoph Hellwig <hch@lst.de>

  Signed-off-by: Keith Busch <kbusch@kernel.org>

  '
submodule:
- drivers/nvme/target
hunk_count: 2
covered_count: 0
