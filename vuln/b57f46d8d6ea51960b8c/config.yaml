id: b57f46d8d6ea51960b8c
bug_link: https://syzkaller.appspot.com/bug?extid=b57f46d8d6ea51960b8c
title: 'KASAN: use-after-free Read in ceph_mdsc_destroy'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 8e298deb8d8c449d87acceab8c8bfef71b67b08d
fix_commit: a7caa88f8b72c136f9a401f498471b8a8e35370d
datetime: '2020-08-03T11:05:27+02:00'
fix_commit_message: 'ceph: fix use-after-free for fsc->mdsc


  If the ceph_mdsc_init() fails, it will free the mdsc already.


  Reported-by: syzbot+b57f46d8d6ea51960b8c@syzkaller.appspotmail.com

  Signed-off-by: Xiubo Li <xiubli@redhat.com>

  Reviewed-by: Jeff Layton <jlayton@kernel.org>

  Signed-off-by: Ilya Dryomov <idryomov@gmail.com>

  '
submodule:
- fs/ceph
hunk_count: 2
covered_count: 1
