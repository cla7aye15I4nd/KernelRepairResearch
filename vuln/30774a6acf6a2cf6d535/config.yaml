id: 30774a6acf6a2cf6d535
bug_link: https://syzkaller.appspot.com/bug?extid=30774a6acf6a2cf6d535
title: 'KCSAN: data-race in start_this_handle / start_this_handle'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 6810fad956df9e5467e8e8a5ac66fda0836c71fa
fix_commit: 3b1833e92baba135923af4a07e73fe6e54be5a2f
datetime: '2021-04-09T21:19:32-04:00'
fix_commit_message: 'ext4: annotate data race in start_this_handle()


  Access to journal->j_running_transaction is not protected by appropriate

  lock and thus is racy. We are well aware of that and the code handles

  the race properly. Just add a comment and data_race() annotation.


  Cc: stable@kernel.org

  Reported-by: syzbot+30774a6acf6a2cf6d535@syzkaller.appspotmail.com

  Signed-off-by: Jan Kara <jack@suse.cz>

  Link: https://lore.kernel.org/r/20210406161804.20150-1-jack@suse.cz

  Signed-off-by: Theodore Ts''o <tytso@mit.edu>

  '
submodule:
- fs/jbd2
hunk_count: 1
covered_count: 1
