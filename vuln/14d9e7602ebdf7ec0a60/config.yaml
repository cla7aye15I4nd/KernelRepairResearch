id: 14d9e7602ebdf7ec0a60
bug_link: https://syzkaller.appspot.com/bug?extid=14d9e7602ebdf7ec0a60
title: 'KMSAN: uninit-value in longest_match'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 3c538de0f2a74d50aff7278c092f88ae59cee688
fix_commit: eadd7deca0ad8a83edb2b894d8326c78e78635d6
datetime: '2023-01-25T20:11:08+01:00'
fix_commit_message: 'btrfs: zlib: zero-initialize zlib workspace


  KMSAN reports uses of uninitialized memory in zlib''s longest_match()

  called on memory originating from zlib_alloc_workspace().

  This issue is known by zlib maintainers and is claimed to be harmless,

  but to be on the safe side we''d better initialize the memory.


  Link: https://zlib.net/zlib_faq.html#faq36

  Reported-by: syzbot+14d9e7602ebdf7ec0a60@syzkaller.appspotmail.com

  CC: stable@vger.kernel.org # 5.4+

  Signed-off-by: Alexander Potapenko <glider@google.com>

  Reviewed-by: David Sterba <dsterba@suse.com>

  Signed-off-by: David Sterba <dsterba@suse.com>

  '
submodule:
- fs/btrfs
hunk_count: 1
covered_count: 1
