id: 73fd8b0aa60c67fa4b60
bug_link: https://syzkaller.appspot.com/bug?extid=73fd8b0aa60c67fa4b60
title: WARNING in wiphy_register (3)
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 8a7fa0c35027d1a3ec3c3e8612800a1b4738e3c3
fix_commit: 9c5d3afac436beef91b7a6312068e9360c7d8446
datetime: '2019-01-19T09:10:30+01:00'
fix_commit_message: 'mac80211_hwsim: check that n_limits makes sense


  Under certain circumstances, radios created via netlink could

  have n_limits be zero and no possible interface types, which

  makes no sense. Reject this early to prevent a WARN_ON() in

  cfg80211.


  Fixes: 99e3a44bac37 ("mac80211_hwsim: allow setting iftype support")

  Reported-by: syzbot+73fd8b0aa60c67fa4b60@syzkaller.appspotmail.com

  Signed-off-by: Johannes Berg <johannes.berg@intel.com>

  '
submodule:
- drivers/net/wireless
hunk_count: 1
covered_count: 0
