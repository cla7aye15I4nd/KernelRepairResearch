id: 2e9616288940d15a6476
bug_link: https://syzkaller.appspot.com/bug?extid=2e9616288940d15a6476
title: general protection fault in inet_accept
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: e183d4e414b64711baf7a04e214b61969ca08dfa
fix_commit: 07603b230895a74ebb1e2a1231ac45c29c2a8cd3
datetime: '2019-04-11T11:04:08-07:00'
fix_commit_message: 'net/smc: propagate file from SMC to TCP socket


  fcntl(fd, F_SETOWN, getpid()) selects the recipient of SIGURG signals

  that are delivered when out-of-band data arrives on socket fd.

  If an SMC socket program makes use of such an fcntl() call, it fails

  in case of fallback to TCP-mode. In case of fallback the traffic is

  processed with the internal TCP socket. Propagating field "file" from the

  SMC socket to the internal TCP socket fixes the issue.


  Reviewed-by: Karsten Graul <kgraul@linux.ibm.com>

  Signed-off-by: Ursula Braun <ubraun@linux.ibm.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- include/net
- net/smc
hunk_count: 8
covered_count: 2
