id: 8425ccfb599521edb153
bug_link: https://syzkaller.appspot.com/bug?extid=8425ccfb599521edb153
title: WARNING in rxe_skb_tx_dtor
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 8f5ae30d69d7543eee0d70083daf4de8fe15d585
fix_commit: 3c3e9a9f2972b364e8c2cfbfdeb23c6d6be4f87f
datetime: '2025-08-13T06:20:00-04:00'
fix_commit_message: 'RDMA/rxe: Flush delayed SKBs while releasing RXE resources


  When skb packets are sent out, these skb packets still depends on

  the rxe resources, for example, QP, sk, when these packets are

  destroyed.


  If these rxe resources are released when the skb packets are destroyed,

  the call traces will appear.


  To avoid skb packets hang too long time in some network devices,

  a timestamp is added when these skb packets are created. If these

  skb packets hang too long time in network devices, these network

  devices can free these skb packets to release rxe resources.


  Reported-by: syzbot+8425ccfb599521edb153@syzkaller.appspotmail.com

  Closes: https://syzkaller.appspot.com/bug?extid=8425ccfb599521edb153

  Tested-by: syzbot+8425ccfb599521edb153@syzkaller.appspotmail.com

  Fixes: 1a633bdc8fd9 ("RDMA/rxe: Let destroy qp succeed with stuck packet")

  Signed-off-by: Zhu Yanjun <yanjun.zhu@linux.dev>

  Link: https://patch.msgid.link/20250726013104.463570-1-yanjun.zhu@linux.dev

  Signed-off-by: Leon Romanovsky <leon@kernel.org>

  '
submodule:
- drivers/infiniband/sw/rxe
hunk_count: 5
covered_count: 4
