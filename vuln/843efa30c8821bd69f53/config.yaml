id: 843efa30c8821bd69f53
bug_link: https://syzkaller.appspot.com/bug?extid=843efa30c8821bd69f53
title: WARNING in usb_submit_urb (2)
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: e871db8d78df1c411032cbb3acfdf8930509360e
fix_commit: 7a68d9fb851012829c29e770621905529bd9490b
datetime: '2018-09-20T12:48:39+02:00'
fix_commit_message: 'USB: usbdevfs: sanitize flags more


  Requesting a ZERO_PACKET or not is sensible only for output.

  In the input direction the device decides.

  Likewise accepting short packets makes sense only for input.


  This allows operation with panic_on_warn without opening up

  a local DOS.


  Signed-off-by: Oliver Neukum <oneukum@suse.com>

  Reported-by: syzbot+843efa30c8821bd69f53@syzkaller.appspotmail.com

  Fixes: 0cb54a3e47cb ("USB: debugging code shouldn''t alter control flow")

  Cc: stable <stable@vger.kernel.org>

  Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

  '
submodule:
- drivers/usb/core
hunk_count: 5
covered_count: 0
