id: f95d90c454864b3b5bc9
bug_link: https://syzkaller.appspot.com/bug?extid=f95d90c454864b3b5bc9
title: memory leak in tipc_group_create_member
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 1869e226a7b3ef75b4f70ede2f1b7229f7157fa4
fix_commit: bb3a420d47ab00d7e1e5083286cab15235a96680
datetime: '2020-09-14T16:36:20-07:00'
fix_commit_message: 'tipc: Fix memory leak in tipc_group_create_member()


  tipc_group_add_to_tree() returns silently if `key` matches `nkey` of an

  existing node, causing tipc_group_create_member() to leak memory. Let

  tipc_group_add_to_tree() return an error in such a case, so that

  tipc_group_create_member() can handle it properly.


  Fixes: 75da2163dbb6 ("tipc: introduce communication groups")

  Reported-and-tested-by: syzbot+f95d90c454864b3b5bc9@syzkaller.appspotmail.com

  Cc: Hillf Danton <hdanton@sina.com>

  Link: https://syzkaller.appspot.com/bug?id=048390604fe1b60df34150265479202f10e13aff

  Signed-off-by: Peilin Ye <yepeilin.cs@gmail.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/tipc
hunk_count: 4
covered_count: 4
