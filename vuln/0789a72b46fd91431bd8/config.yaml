id: 0789a72b46fd91431bd8
bug_link: https://syzkaller.appspot.com/bug?extid=0789a72b46fd91431bd8
title: 'KCSAN: data-race in tomoyo_domain_quota_is_ok / tomoyo_merge_path_acl (4)'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 1048ba83fb1c00cd24172e23e8263972f6b5d9ac
fix_commit: 5797e861e402fff2bedce4ec8b7c89f4248b6073
datetime: '2021-02-01T11:52:11+09:00'
fix_commit_message: 'tomoyo: ignore data race while checking quota


  syzbot is reporting that tomoyo''s quota check is racy [1]. But this check

  is tolerant of some degree of inaccuracy. Thus, teach KCSAN to ignore

  this data race.


  [1] https://syzkaller.appspot.com/bug?id=999533deec7ba6337f8aa25d8bd1a4d5f7e50476


  Reported-by: syzbot <syzbot+0789a72b46fd91431bd8@syzkaller.appspotmail.com>

  Signed-off-by: Tetsuo Handa <penguin-kernel@I-love.SAKURA.ne.jp>

  '
submodule:
- security/tomoyo
hunk_count: 9
covered_count: 4
