id: 1234691fec1b8ceba8b1
bug_link: https://syzkaller.appspot.com/bug?extid=1234691fec1b8ceba8b1
title: 'KMSAN: uninit-value in lg4ff_set_autocenter_default'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: fe2199cfd1516e90e03c033c52c9a28da09d9986
fix_commit: d9d4b1e46d9543a82c23f6df03f4ad697dab361b
datetime: '2019-10-03T15:36:40-04:00'
fix_commit_message: 'HID: Fix assumption that devices have inputs


  The syzbot fuzzer found a slab-out-of-bounds write bug in the hid-gaff

  driver.  The problem is caused by the driver''s assumption that the

  device must have an input report.  While this will be true for all

  normal HID input devices, a suitably malicious device can violate the

  assumption.


  The same assumption is present in over a dozen other HID drivers.

  This patch fixes them by checking that the list of hid_inputs for the

  hid_device is nonempty before allowing it to be used.


  Reported-and-tested-by: syzbot+403741a091bf41d4ae79@syzkaller.appspotmail.com

  Signed-off-by: Alan Stern <stern@rowland.harvard.edu>

  CC: <stable@vger.kernel.org>

  Signed-off-by: Benjamin Tissoires <benjamin.tissoires@redhat.com>

  '
submodule:
- drivers/hid
hunk_count: 16
covered_count: 0
