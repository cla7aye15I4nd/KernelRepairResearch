id: 182ce46596c3f2e1eb24
bug_link: https://syzkaller.appspot.com/bug?extid=182ce46596c3f2e1eb24
title: memory leak in binder_transaction
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 21f010b110c58f4e77d5a35244f42169c8d33e9a
fix_commit: 1909a671dbc3606685b1daf8b22a16f65ea7edda
datetime: '2019-06-22T11:49:16+02:00'
fix_commit_message: 'binder: fix memory leak in error path


  syzkallar found a 32-byte memory leak in a rarely executed error

  case. The transaction complete work item was not freed if put_user()

  failed when writing the BR_TRANSACTION_COMPLETE to the user command

  buffer. Fixed by freeing it before put_user() is called.


  Reported-by: syzbot+182ce46596c3f2e1eb24@syzkaller.appspotmail.com

  Signed-off-by: Todd Kjos <tkjos@google.com>

  Cc: stable <stable@vger.kernel.org>

  Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

  '
submodule:
- drivers/android
hunk_count: 2
covered_count: 0
