id: c51e6736a1bf614b3272
bug_link: https://syzkaller.appspot.com/bug?extid=c51e6736a1bf614b3272
title: 'KASAN: use-after-free Read in iotlb_access_ok'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 0dcb82254d65f72333aa50ad626d1e9665ad093b
fix_commit: b13f9c6364373a1b9f71e9846dc4fb199296f926
datetime: '2018-08-08T09:44:39-07:00'
fix_commit_message: 'vhost: reset metadata cache when initializing new IOTLB


  We need to reset metadata cache during new IOTLB initialization,

  otherwise the stale pointers to previous IOTLB may be still accessed

  which will lead a use after free.


  Reported-by: syzbot+c51e6736a1bf614b3272@syzkaller.appspotmail.com

  Fixes: f88949138058 ("vhost: introduce O(1) vq metadata cache")

  Signed-off-by: Jason Wang <jasowang@redhat.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- drivers/vhost
hunk_count: 1
covered_count: 1
