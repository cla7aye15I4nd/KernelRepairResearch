id: 04a8437497bcfb4afa95
bug_link: https://syzkaller.appspot.com/bug?extid=04a8437497bcfb4afa95
title: WARNING in remove_proc_entry (5)
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: dcd779dc46540e174a6ac8d52fbed23593407317
fix_commit: 2172e84ea00b0164666cf8de971c8b8b02a5938b
datetime: '2023-02-20T09:20:57-05:00'
fix_commit_message: 'SUNRPC: Fix occasional warning when destroying gss_krb5_enctypes


  I''m guessing that the warning fired because there''s some code path

  that is called on module unload where the gss_krb5_enctypes file

  was never set up.


  name ''gss_krb5_enctypes''

  WARNING: CPU: 0 PID: 6187 at fs/proc/generic.c:712 remove_proc_entry+0x38d/0x460
  fs/proc/generic.c:712


  destroy_krb5_enctypes_proc_entry net/sunrpc/auth_gss/svcauth_gss.c:1543 [inline]

  gss_svc_shutdown_net+0x7d/0x2b0 net/sunrpc/auth_gss/svcauth_gss.c:2120

  ops_exit_list+0xb0/0x170 net/core/net_namespace.c:169

  setup_net+0x9bd/0xe60 net/core/net_namespace.c:356

  copy_net_ns+0x320/0x6b0 net/core/net_namespace.c:483

  create_new_namespaces+0x3f6/0xb20 kernel/nsproxy.c:110

  copy_namespaces+0x410/0x500 kernel/nsproxy.c:179

  copy_process+0x311d/0x76b0 kernel/fork.c:2272

  kernel_clone+0xeb/0x9a0 kernel/fork.c:2684

  __do_sys_clone+0xba/0x100 kernel/fork.c:2825

  do_syscall_x64 arch/x86/entry/common.c:50 [inline]

  do_syscall_64+0x39/0xb0 arch/x86/entry/common.c:80

  entry_SYSCALL_64_after_hwframe+0x63/0xcd


  Reported-by: syzbot+04a8437497bcfb4afa95@syzkaller.appspotmail.com

  Signed-off-by: Chuck Lever <chuck.lever@oracle.com>

  '
submodule:
- net/sunrpc
hunk_count: 2
covered_count: 0
