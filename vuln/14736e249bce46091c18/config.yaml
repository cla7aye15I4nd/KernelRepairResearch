id: 14736e249bce46091c18
bug_link: https://syzkaller.appspot.com/bug?extid=14736e249bce46091c18
title: 'WARNING: ODEBUG bug in tcx_uninstall'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 5322a27c0d461ab3938dd513b1672b86ee722da7
fix_commit: dc644b540a2d2874112706591234be3d3fbf9ef7
datetime: '2023-07-24T11:42:35-07:00'
fix_commit_message: 'tcx: Fix splat in ingress_destroy upon tcx_entry_free


  On qdisc destruction, the ingress_destroy() needs to update the correct

  entry, that is, tcx_entry_update must NULL the dev->tcx_ingress pointer.

  Therefore, fix the typo.


  Fixes: e420bed02507 ("bpf: Add fd-based tcx multi-prog infra with link support")

  Reported-by: syzbot+bdcf141f362ef83335cf@syzkaller.appspotmail.com

  Reported-by: syzbot+b202b7208664142954fa@syzkaller.appspotmail.com

  Reported-by: syzbot+14736e249bce46091c18@syzkaller.appspotmail.com

  Signed-off-by: Daniel Borkmann <daniel@iogearbox.net>

  Tested-by: syzbot+bdcf141f362ef83335cf@syzkaller.appspotmail.com

  Tested-by: syzbot+b202b7208664142954fa@syzkaller.appspotmail.com

  Tested-by: syzbot+14736e249bce46091c18@syzkaller.appspotmail.com

  Tested-by: Petr Machata <petrm@nvidia.com>

  Link: https://lore.kernel.org/r/20230721233330.5678-1-daniel@iogearbox.net

  Signed-off-by: Jakub Kicinski <kuba@kernel.org>

  '
submodule:
- net/sched
hunk_count: 1
covered_count: 0
