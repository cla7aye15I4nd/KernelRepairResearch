id: b2098bc44728a4efb3e9
bug_link: https://syzkaller.appspot.com/bug?extid=b2098bc44728a4efb3e9
title: memory leak in dma_buf_ioctl
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 2be30d34a387b8d97cc1b4be1223bfe0b75a0812
fix_commit: d1f37226431f5d9657aa144a40f2383adbcf27e1
datetime: '2020-02-27T18:01:58+05:30'
fix_commit_message: 'dma-buf: free dmabuf->name in dma_buf_release()


  dma-buf name can be set via DMA_BUF_SET_NAME ioctl, but once set

  it never gets freed.


  Free it in dma_buf_release().


  Fixes: bb2bb9030425 ("dma-buf: add DMA_BUF_SET_NAME ioctls")

  Reported-by: syzbot+b2098bc44728a4efb3e9@syzkaller.appspotmail.com

  Cc: Greg Hackmann <ghackmann@google.com>

  Cc: Chenbo Feng <fengc@google.com>

  Cc: Sumit Semwal <sumit.semwal@linaro.org>

  Signed-off-by: Cong Wang <xiyou.wangcong@gmail.com>

  Acked-by: Chenbo Feng <fengc@google.com>

  Signed-off-by: Sumit Semwal <sumit.semwal@linaro.org>

  Link: https://patchwork.freedesktop.org/patch/msgid/20191227063204.5813-1-xiyou.wangcong@gmail.com

  '
submodule:
- drivers/dma-buf
hunk_count: 1
covered_count: 0
