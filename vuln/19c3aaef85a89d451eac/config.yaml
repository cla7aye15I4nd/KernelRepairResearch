id: 19c3aaef85a89d451eac
bug_link: https://syzkaller.appspot.com/bug?extid=19c3aaef85a89d451eac
title: general protection fault in usb_find_alt_setting (2)
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: bd729f9d67aa9a303d8925bb8c4f06af25f407d1
fix_commit: c9a4cb204e9eb7fa7dfbe3f7d3a674fa530aa193
datetime: '2018-09-20T12:49:12+02:00'
fix_commit_message: 'USB: handle NULL config in usb_find_alt_setting()


  usb_find_alt_setting() takes a pointer to a struct usb_host_config as

  an argument; it searches for an interface with specified interface and

  alternate setting numbers in that config.  However, it crashes if the

  usb_host_config pointer argument is NULL.


  Since this is a general-purpose routine, available for use in many

  places, we want to to be more robust.  This patch makes it return NULL

  whenever the config argument is NULL.


  Signed-off-by: Alan Stern <stern@rowland.harvard.edu>

  Reported-by: syzbot+19c3aaef85a89d451eac@syzkaller.appspotmail.com

  CC: <stable@vger.kernel.org>

  Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

  '
submodule:
- drivers/usb/core
hunk_count: 1
covered_count: 1
