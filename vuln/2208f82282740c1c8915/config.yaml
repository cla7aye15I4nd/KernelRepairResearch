id: 2208f82282740c1c8915
bug_link: https://syzkaller.appspot.com/bug?extid=2208f82282740c1c8915
title: general protection fault in ovl_encode_real_fh
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: a535116d80339dbfe50b9b81b2f808c69eefbbc3
fix_commit: c7242a45cb8cad5b6cd840fd4661315b45b1e841
datetime: '2023-10-03T09:24:11+03:00'
fix_commit_message: 'ovl: fix NULL pointer defer when encoding non-decodable lower
  fid


  A wrong return value from ovl_check_encode_origin() would cause

  ovl_dentry_to_fid() to try to encode fid from NULL upper dentry.


  Reported-by: syzbot+2208f82282740c1c8915@syzkaller.appspotmail.com

  Fixes: 16aac5ad1fa9 ("ovl: support encoding non-decodable file handles")

  Signed-off-by: Amir Goldstein <amir73il@gmail.com>

  '
submodule:
- fs/overlayfs
hunk_count: 1
covered_count: 1
