id: a0ddc9873c280a4cb18f
bug_link: https://syzkaller.appspot.com/bug?extid=a0ddc9873c280a4cb18f
title: 'KASAN: slab-use-after-free Read in evict_inodes'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: cd3b31f9d4174cccafd8da615d73f40c1ce48939
fix_commit: d93ff5fa40b9db5f505d508336bc171f54db862e
datetime: '2024-05-22T20:37:47-04:00'
fix_commit_message: 'bcachefs: Fix race path in bch2_inode_insert()


  __destroy_new_inode() is appropriate when we have _just_allocated the

  inode, but not when it''s been fully initialized and on i_sb_list.


  Reported-by: syzbot+a0ddc9873c280a4cb18f@syzkaller.appspotmail.com

  Signed-off-by: Kent Overstreet <kent.overstreet@linux.dev>

  '
submodule:
- fs/bcachefs
hunk_count: 1
covered_count: 1
