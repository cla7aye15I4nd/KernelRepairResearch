id: 04ee0cb4caccaed12d78
bug_link: https://syzkaller.appspot.com/bug?extid=04ee0cb4caccaed12d78
title: WARNING in pegasus_open/usb_submit_urb
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: cbedf1a33970c9b825ae75b81fbd3e88e224a418
fix_commit: b3d80fd27a3c2d8715a40cbf876139b56195f162
datetime: '2023-04-09T19:19:14-07:00'
fix_commit_message: 'Input: pegasus-notetaker - check pipe type when probing


  Fix WARNING in pegasus_open/usb_submit_urb

  Syzbot bug: https://syzkaller.appspot.com/bug?id=bbc107584dcf3262253ce93183e51f3612aaeb13


  Warning raised because pegasus_driver submits transfer request for

  bogus URB (pipe type does not match endpoint type). Add sanity check at

  probe time for pipe value extracted from endpoint descriptor. Probe

  will fail if sanity check fails.


  Reported-and-tested-by: syzbot+04ee0cb4caccaed12d78@syzkaller.appspotmail.com

  Signed-off-by: Soumya Negi <soumya.negi97@gmail.com>

  Link: https://lore.kernel.org/r/20230404074145.11523-1-soumya.negi97@gmail.com

  Signed-off-by: Dmitry Torokhov <dmitry.torokhov@gmail.com>

  '
submodule:
- drivers/input/tablet
hunk_count: 1
covered_count: 0
