id: abf9f7002b9814b9fdcfb6259dc318cc17babf14
bug_link: https://syzkaller.appspot.com/bug?extid=abf9f7002b9814b9fdcfb6259dc318cc17babf14
title: 'KASAN: stack-out-of-bounds Read in csum_and_copy_from_iter_full'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 93c647643b48f0131f02e45da3bd367d80443291
fix_commit: 8f659a03a0ba9289b9aeb9b4470e6fb263d6f483
datetime: '2017-12-11T14:05:31-05:00'
fix_commit_message: 'net: ipv4: fix for a race condition in raw_sendmsg


  inet->hdrincl is racy, and could lead to uninitialized stack pointer

  usage, so its value should be read only once.


  Fixes: c008ba5bdc9f ("ipv4: Avoid reading user iov twice after raw_probe_proto_opt")

  Signed-off-by: Mohamed Ghannam <simo.ghannam@gmail.com>

  Reviewed-by: Eric Dumazet <edumazet@google.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/ipv4
hunk_count: 4
covered_count: 3
