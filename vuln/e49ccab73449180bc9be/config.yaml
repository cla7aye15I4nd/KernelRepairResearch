id: e49ccab73449180bc9be
bug_link: https://syzkaller.appspot.com/bug?extid=e49ccab73449180bc9be
title: 'KASAN: slab-out-of-bounds Read in bch2_sb_downgrade_to_text'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: a5c3e265d3b61ab661df4f259a97b57840cb041e
fix_commit: 692aa7a54b2b28d59f24b3bf8250837805484b99
datetime: '2024-05-09T16:23:36-04:00'
fix_commit_message: "bcachefs: Fix sb_field_downgrade validation\n\n- bch2_sb_downgrade_validate()\
  \ wasn't checking for a downgrade entry\n  extending past the end of the superblock\
  \ section\n\n- for_each_downgrade_entry() is used in to_text() and needs to work\
  \ on\n  malformed input; it also was missing a check for a field extending\n  past\
  \ the end of the section\n\nReported-by: syzbot+e49ccab73449180bc9be@syzkaller.appspotmail.com\n\
  Fixes: 84f1638795da (\"bcachefs: bch_sb_field_downgrade\")\nSigned-off-by: Kent\
  \ Overstreet <kent.overstreet@linux.dev>\n"
submodule:
- fs/bcachefs
hunk_count: 2
covered_count: 2
