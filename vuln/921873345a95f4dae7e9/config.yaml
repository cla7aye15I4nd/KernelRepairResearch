id: 921873345a95f4dae7e9
bug_link: https://syzkaller.appspot.com/bug?extid=921873345a95f4dae7e9
title: 'KMSAN: uninit-value in netfs_clear_buffer'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 0d24852bd71ec85ca0016b6d6fc997e6a3381552
fix_commit: f6023535b52f5a066fa52fcfd0dc51c7f7894ce6
datetime: '2024-10-01T16:02:42+02:00'
fix_commit_message: 'netfs: Fix a KMSAN uninit-value error in netfs_clear_buffer


  Use folioq_count instead of folioq_nr_slots to fix a KMSAN uninit-value

  error in netfs_clear_buffer


  Signed-off-by: Chang Yu <marcus.yu.56@gmail.com>

  Link: https://lore.kernel.org/r/ZvuXWC2bYpvQsWgS@gmail.com

  Fixes: cd0277ed0c18 ("netfs: Use new folio_queue data type and iterator instead
  of xarray iter")

  Acked-by: David Howells <dhowells@redhat.com>

  Reported-by: syzbot+921873345a95f4dae7e9@syzkaller.appspotmail.com

  Closes: https://syzkaller.appspot.com/bug?extid=921873345a95f4dae7e9

  Signed-off-by: Christian Brauner <brauner@kernel.org>

  '
submodule:
- fs/netfs
hunk_count: 1
covered_count: 1
