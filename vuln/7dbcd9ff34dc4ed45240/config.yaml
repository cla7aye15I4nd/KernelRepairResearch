id: 7dbcd9ff34dc4ed45240
bug_link: https://syzkaller.appspot.com/bug?extid=7dbcd9ff34dc4ed45240
title: WARNING in usb_new_device/usb_submit_urb
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 307462a6f5c5a563ec084bb315f4e0279dfb2026
fix_commit: 60dfe484cef45293e631b3a6e8995f1689818172
datetime: '2021-06-09T11:11:39+02:00'
fix_commit_message: 'USB: core: Avoid WARNings for 0-length descriptor requests


  The USB core has utility routines to retrieve various types of

  descriptors.  These routines will now provoke a WARN if they are asked

  to retrieve 0 bytes (USB "receive" requests must not have zero

  length), so avert this by checking the size argument at the start.


  CC: Johan Hovold <johan@kernel.org>

  Reported-and-tested-by: syzbot+7dbcd9ff34dc4ed45240@syzkaller.appspotmail.com

  Reviewed-by: Johan Hovold <johan@kernel.org>

  Signed-off-by: Alan Stern <stern@rowland.harvard.edu>

  Link: https://lore.kernel.org/r/20210607152307.GD1768031@rowland.harvard.edu

  Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

  '
submodule:
- drivers/usb/core
hunk_count: 2
covered_count: 2
