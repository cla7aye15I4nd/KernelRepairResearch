id: 001306cd9c92ce0df23f
bug_link: https://syzkaller.appspot.com/bug?extid=001306cd9c92ce0df23f
title: 'BUG: unable to handle kernel NULL pointer dereference in filemap_read_folio
  (3)'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 9852d85ec9d492ebef56dc5f229416c925758edc
fix_commit: 416a8b2c02fe2a5a9fbdf2a35ea294b78d939f84
datetime: '2024-10-11T13:36:41+08:00'
fix_commit_message: 'erofs: ensure regular inodes for file-backed mounts


  Only regular inodes are allowed for file-backed mounts, not directories

  (as seen in the original syzbot case) or special inodes.


  Also ensure that .read_folio() is implemented on the underlying fs

  for the primary device.


  Fixes: fb176750266a ("erofs: add file-backed mount support")

  Reported-by: syzbot+001306cd9c92ce0df23f@syzkaller.appspotmail.com

  Closes: https://lore.kernel.org/r/00000000000011bdde0622498ee3@google.com

  Tested-by: syzbot+001306cd9c92ce0df23f@syzkaller.appspotmail.com

  Reviewed-by: Chao Yu <chao@kernel.org>

  Signed-off-by: Gao Xiang <hsiangkao@linux.alibaba.com>

  Link: https://lore.kernel.org/r/20240917130803.32418-1-hsiangkao@linux.alibaba.com

  '
submodule:
- fs/erofs
hunk_count: 2
covered_count: 0
