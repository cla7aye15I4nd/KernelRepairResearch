id: b890b3335a4d8c608963
bug_link: https://syzkaller.appspot.com/bug?extid=b890b3335a4d8c608963
title: 'KASAN: global-out-of-bounds Write in string'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: ffe075132af8b7967089c361e506d4fa747efd14
fix_commit: fe10e398e860955bac4d28ec031b701d358465e4
datetime: '2018-07-14T11:11:10-07:00'
fix_commit_message: 'reiserfs: fix buffer overflow with long warning messages


  ReiserFS prepares log messages into a 1024-byte buffer with no bounds

  checks.  Long messages, such as the "unknown mount option" warning when

  userspace passes a crafted mount options string, overflow this buffer.

  This causes KASAN to report a global-out-of-bounds write.


  Fix it by truncating messages to the buffer size.


  Link: http://lkml.kernel.org/r/20180707203621.30922-1-ebiggers3@gmail.com

  Fixes: 1da177e4c3f4 ("Linux-2.6.12-rc2")

  Reported-by: syzbot+b890b3335a4d8c608963@syzkaller.appspotmail.com

  Signed-off-by: Eric Biggers <ebiggers@google.com>

  Reviewed-by: Andrew Morton <akpm@linux-foundation.org>

  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>

  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

  '
submodule:
- fs/reiserfs
hunk_count: 2
covered_count: 2
