id: f5066e369b2d5fff630f
bug_link: https://syzkaller.appspot.com/bug?extid=f5066e369b2d5fff630f
title: 'BUG: unable to handle kernel NULL pointer dereference in corrupted'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 760a6ed6b6f29c48f97ff5a94ba0dbc639a2e677
fix_commit: c0129a0614428e5e4350fa963eecd1fbe19e57e9
datetime: '2018-06-12T15:37:09-07:00'
fix_commit_message: 'smc: convert to ->poll_mask


  smc->clcsock is an internal TCP socket, after TCP socket

  converts to ->poll_mask, ->poll doesn''t exist any more.

  So just convert smc socket to ->poll_mask too.


  Fixes: 2c7d3dacebd4 ("net/tcp: convert to ->poll_mask")

  Reported-by: syzbot+f5066e369b2d5fff630f@syzkaller.appspotmail.com

  Cc: Christoph Hellwig <hch@lst.de>

  Cc: Ursula Braun <ubraun@linux.ibm.com>

  Signed-off-by: Cong Wang <xiyou.wangcong@gmail.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/smc
hunk_count: 4
covered_count: 0
