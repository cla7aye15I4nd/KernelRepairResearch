id: 56a40ceee5fb35932f4d
bug_link: https://syzkaller.appspot.com/bug?extid=56a40ceee5fb35932f4d
title: 'KASAN: use-after-free Read in sctp_outq_select_transport'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 2b0ab72799c29ac63f889f3ccb14d6e22a8ac6bb
fix_commit: df132eff463873e14e019a07f387b4d577d6d1f9
datetime: '2018-10-29T20:49:44-07:00'
fix_commit_message: 'sctp: clear the transport of some out_chunk_list chunks in sctp_assoc_rm_peer


  If a transport is removed by asconf but there still are some chunks with

  this transport queuing on out_chunk_list, later an use-after-free issue

  will be caused when accessing this transport from these chunks in

  sctp_outq_flush().


  This is an old bug, we fix it by clearing the transport of these chunks

  in out_chunk_list when removing a transport in sctp_assoc_rm_peer().


  Reported-by: syzbot+56a40ceee5fb35932f4d@syzkaller.appspotmail.com

  Signed-off-by: Xin Long <lucien.xin@gmail.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/sctp
hunk_count: 3
covered_count: 1
