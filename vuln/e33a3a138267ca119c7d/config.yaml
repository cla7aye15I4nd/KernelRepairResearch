id: e33a3a138267ca119c7d
bug_link: https://syzkaller.appspot.com/bug?extid=e33a3a138267ca119c7d
title: general protection fault in sctp_sched_dequeue_common
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 8dfb8d2cceb76b74ad5b58cc65c75994329b4d5e
fix_commit: cfe4bd7a257f6d6f81d3458d8c9d9ec4957539e6
datetime: '2019-02-03T14:27:47-08:00'
fix_commit_message: "sctp: check and update stream->out_curr when allocating stream_out\n\
  \nNow when using stream reconfig to add out streams, stream->out\nwill get re-allocated,\
  \ and all old streams' information will\nbe copied to the new ones and the old ones\
  \ will be freed.\n\nSo without stream->out_curr updated, next time when trying to\n\
  send from stream->out_curr stream, a panic would be caused.\n\nThis patch is to\
  \ check and update stream->out_curr when\nallocating stream_out.\n\nv1->v2:\n  -\
  \ define fa_index() to get elem index from stream->out_curr.\nv2->v3:\n  - repost\
  \ with no change.\n\nFixes: 5bbbbe32a431 (\"sctp: introduce stream scheduler foundations\"\
  )\nReported-by: Ying Xu <yinxu@redhat.com>\nReported-by: syzbot+e33a3a138267ca119c7d@syzkaller.appspotmail.com\n\
  Signed-off-by: Xin Long <lucien.xin@gmail.com>\nAcked-by: Neil Horman <nhorman@tuxdriver.com>\n\
  Signed-off-by: David S. Miller <davem@davemloft.net>\n"
submodule:
- net/sctp
hunk_count: 2
covered_count: 0
