id: 3af9daea347788b15213
bug_link: https://syzkaller.appspot.com/bug?extid=3af9daea347788b15213
title: general protection fault in poll_state_synchronize_srcu
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 2195b755ebd23992c5758d2d02a8080eac2baeca
fix_commit: d293ece108104967ec3465f253834c0511170f04
datetime: '2024-05-22T19:54:03-04:00'
fix_commit_message: 'bcachefs: Fix shutdown ordering


  the btree key cache uses the srcu struct created/destroyed by

  btree_iter.c; btree_iter needs to be exited last.


  Reported-by: syzbot+3af9daea347788b15213@syzkaller.appspotmail.com

  Signed-off-by: Kent Overstreet <kent.overstreet@linux.dev>

  '
submodule:
- fs/bcachefs
hunk_count: 2
covered_count: 0
