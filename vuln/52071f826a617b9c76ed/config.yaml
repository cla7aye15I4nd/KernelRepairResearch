id: 52071f826a617b9c76ed
bug_link: https://syzkaller.appspot.com/bug?extid=52071f826a617b9c76ed
title: kernel BUG at net/rxrpc/conn_object.c:LINE!
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 8806245a3e7ad6aafc5bd8c58b0f0dea82a8e4c5
fix_commit: 546a42410bf76075e157dbdd94c097b3bc44b25a
datetime: '2020-09-14T16:18:59+01:00'
fix_commit_message: "rxrpc: Fix conn bundle leak in net-namespace exit\n\nWhen the\
  \ network namespace exits, rxrpc_clean_up_local_conns() needs to\nunbundle each\
  \ client connection it evicts.  Fix it to do this.\n\nkernel BUG at net/rxrpc/conn_object.c:481!\n\
  RIP: 0010:rxrpc_destroy_all_connections.cold+0x11/0x13 net/rxrpc/conn_object.c:481\n\
  Call Trace:\n rxrpc_exit_net+0x1a4/0x2e0 net/rxrpc/net_ns.c:119\n ops_exit_list+0xb0/0x160\
  \ net/core/net_namespace.c:186\n cleanup_net+0x4ea/0xa00 net/core/net_namespace.c:603\n\
  \ process_one_work+0x94c/0x1670 kernel/workqueue.c:2269\n worker_thread+0x64c/0x1120\
  \ kernel/workqueue.c:2415\n kthread+0x3b5/0x4a0 kernel/kthread.c:292\n ret_from_fork+0x1f/0x30\
  \ arch/x86/entry/entry_64.S:294\n\nFixes: 245500d853e9 (\"rxrpc: Rewrite the client\
  \ connection manager\")\nReported-by: syzbot+52071f826a617b9c76ed@syzkaller.appspotmail.com\n\
  Signed-off-by: David Howells <dhowells@redhat.com>\n"
submodule:
- net/rxrpc
hunk_count: 1
covered_count: 0
