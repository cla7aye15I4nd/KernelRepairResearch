id: d952e5e28f5fb7718d23
bug_link: https://syzkaller.appspot.com/bug?extid=d952e5e28f5fb7718d23
title: WARNING in snd_usb_motu_microbookii_communicate/usb_submit_urb
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: c5dfd4b885284e4eaaf66172b918894fdde7eb06
fix_commit: 801ebf1043ae7b182588554cc9b9ad3c14bc2ab5
datetime: '2019-06-24T15:11:06+02:00'
fix_commit_message: 'ALSA: usb-audio: Sanity checks for each pipe and EP types


  The recent USB core code performs sanity checks for the given pipe and

  EP types, and it can be hit by manipulated USB descriptors by syzbot.

  For making syzbot happier, this patch introduces a local helper for a

  sanity check in the driver side and calls it at each place before the

  message handling, so that we can avoid the WARNING splats.


  Reported-by: syzbot+d952e5e28f5fb7718d23@syzkaller.appspotmail.com

  Signed-off-by: Takashi Iwai <tiwai@suse.de>

  '
submodule:
- sound/usb
hunk_count: 8
covered_count: 3
