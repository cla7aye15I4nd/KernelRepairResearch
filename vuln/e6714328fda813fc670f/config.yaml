id: e6714328fda813fc670f
bug_link: https://syzkaller.appspot.com/bug?extid=e6714328fda813fc670f
title: general protection fault in smc_ioctl
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 8156b0ba7413238e473ef567ebecd755f92275c5
fix_commit: 2351abe6f8736167a187cec867933bc66c3284c0
datetime: '2018-05-23T16:02:35-04:00'
fix_commit_message: 'net/smc: return 0 for ioctl calls in states INIT and CLOSED


  A connected SMC-socket contains addresses of descriptors for the

  send buffer and the rmb (receive buffer). Fields of these descriptors

  are used to determine the answer for certain ioctl requests.

  Add extra handling for unconnected SMC socket states without valid

  buffer descriptor addresses.


  Signed-off-by: Ursula Braun <ubraun@linux.ibm.com>

  Reported-by: syzbot+e6714328fda813fc670f@syzkaller.appspotmail.com

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/smc
hunk_count: 1
covered_count: 1
