id: e3eeae78ea88b8d6d858
bug_link: https://syzkaller.appspot.com/bug?extid=e3eeae78ea88b8d6d858
title: 'KASAN: use-after-free Read in rb_first_postorder'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 2c76b34898e5a202f0acbbfb6a228539eb1de9a9
fix_commit: febafc8455fdbb0ba53d596075068a683b75f355
datetime: '2018-01-15T13:43:51-05:00'
fix_commit_message: 'tipc: fix a potental access after delete in tipc_sk_join()


  In commit d12d2e12cec2 "tipc: send out join messages as soon as new

  member is discovered") we added a call to the function tipc_group_join()

  without considering the case that the preceding tipc_sk_publish() might

  have failed, and the group item already deleted.


  We fix this by returning from tipc_sk_join() directly after the

  failed tipc_sk_publish.


  Reported-by: syzbot+e3eeae78ea88b8d6d858@syzkaller.appspotmail.com

  Signed-off-by: Jon Maloy <jon.maloy@ericsson.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/tipc
hunk_count: 1
covered_count: 1
