id: cb3fbcfb417448cfd278
bug_link: https://syzkaller.appspot.com/bug?extid=cb3fbcfb417448cfd278
title: kernel BUG in bch2_bio_compress (2)
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: e1702b989151649b27a73b776fc5bc494d03f725
fix_commit: 3d0b3b51c5abaf27e35d9eeca880eed44c8690b0
datetime: '2024-12-21T01:36:18-05:00'
fix_commit_message: 'bcachefs: Don''t BUG_ON() when superblock feature wasn''t set
  for compressed data


  We don''t allocate the mempools for compression/decompression unless we

  need them - but that means there''s an inconsistency to check for.


  Reported-by: syzbot+cb3fbcfb417448cfd278@syzkaller.appspotmail.com

  Signed-off-by: Kent Overstreet <kent.overstreet@linux.dev>

  '
submodule:
- fs/bcachefs
hunk_count: 9
covered_count: 3
