id: d3402c47f680ff24b29c
bug_link: https://syzkaller.appspot.com/bug?extid=d3402c47f680ff24b29c
title: 'KMSAN: uninit-value in memcmp (2)'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: b13dda9f9aa7caceeee61c080c2e544d5f5d85e5
fix_commit: 77d36398d99f2565c0a8d43a86fd520a82e64bb8
datetime: '2018-04-07T22:32:31-04:00'
fix_commit_message: "net: fix uninit-value in __hw_addr_add_ex()\n\nsyzbot complained\
  \ :\n\nBUG: KMSAN: uninit-value in memcmp+0x119/0x180 lib/string.c:861\nCPU: 0 PID:\
  \ 3 Comm: kworker/0:0 Not tainted 4.16.0+ #82\nHardware name: Google Google Compute\
  \ Engine/Google Compute Engine, BIOS Google 01/01/2011\nWorkqueue: ipv6_addrconf\
  \ addrconf_dad_work\nCall Trace:\n __dump_stack lib/dump_stack.c:17 [inline]\n dump_stack+0x185/0x1d0\
  \ lib/dump_stack.c:53\n kmsan_report+0x142/0x240 mm/kmsan/kmsan.c:1067\n __msan_warning_32+0x6c/0xb0\
  \ mm/kmsan/kmsan_instr.c:676\n memcmp+0x119/0x180 lib/string.c:861\n __hw_addr_add_ex\
  \ net/core/dev_addr_lists.c:60 [inline]\n __dev_mc_add+0x1c2/0x8e0 net/core/dev_addr_lists.c:670\n\
  \ dev_mc_add+0x6d/0x80 net/core/dev_addr_lists.c:687\n igmp6_group_added+0x2db/0xa00\
  \ net/ipv6/mcast.c:662\n ipv6_dev_mc_inc+0xe9e/0x1130 net/ipv6/mcast.c:914\n addrconf_join_solict\
  \ net/ipv6/addrconf.c:2078 [inline]\n addrconf_dad_begin net/ipv6/addrconf.c:3828\
  \ [inline]\n addrconf_dad_work+0x427/0x2150 net/ipv6/addrconf.c:3954\n process_one_work+0x12c6/0x1f60\
  \ kernel/workqueue.c:2113\n worker_thread+0x113c/0x24f0 kernel/workqueue.c:2247\n\
  \ kthread+0x539/0x720 kernel/kthread.c:239\n\nFixes: f001fde5eadd (\"net: introduce\
  \ a list of device addresses dev_addr_list (v6)\")\nSigned-off-by: Eric Dumazet\
  \ <edumazet@google.com>\nReported-by: syzbot <syzkaller@googlegroups.com>\nSigned-off-by:\
  \ David S. Miller <davem@davemloft.net>\n"
submodule:
- net/core
hunk_count: 1
covered_count: 1
