id: 9d82b8de2992579da5d0
bug_link: https://syzkaller.appspot.com/bug?extid=9d82b8de2992579da5d0
title: 'KMSAN: uninit-value in fat_evict_inode'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: c3e5ea6ee574ae5e845a40ac8198de1fb63bb3ab
fix_commit: bc87302a093f0eab45cd4e250c2021299f712ec6
datetime: '2020-03-06T07:06:09-06:00'
fix_commit_message: 'fat: fix uninit-memory access for partial initialized inode


  When get an error in the middle of reading an inode, some fields in the

  inode might be still not initialized.  And then the evict_inode path may

  access those fields via iput().


  To fix, this makes sure that inode fields are initialized.


  Reported-by: syzbot+9d82b8de2992579da5d0@syzkaller.appspotmail.com

  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>

  Signed-off-by: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>

  Cc: <stable@vger.kernel.org>

  Link: http://lkml.kernel.org/r/871rqnreqx.fsf@mail.parknet.co.jp

  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

  '
submodule:
- fs/fat
hunk_count: 3
covered_count: 2
