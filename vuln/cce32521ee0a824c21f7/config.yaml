id: cce32521ee0a824c21f7
bug_link: https://syzkaller.appspot.com/bug?extid=cce32521ee0a824c21f7
title: 'BUG: soft lockup in sys_exit_group'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: f2ecf903ef06eb1bbbfa969db9889643d487e73a
fix_commit: d683469b3c93d7e2afd39e6e1970f24700eb7a68
datetime: '2020-03-09T11:00:45+01:00'
fix_commit_message: 'ALSA: line6: Fix endless MIDI read loop


  The MIDI input event parser of the LINE6 driver may enter into an

  endless loop when the unexpected data sequence is given, as it tries

  to continue the secondary bytes without termination.  Also, when the

  input data is too short, the parser returns a negative error, while

  the caller doesn''t handle it properly.  This would lead to the

  unexpected behavior as well.


  This patch addresses those issues by checking the return value

  correctly and handling the one-byte event in the parser properly.


  The bug was reported by syzkaller.


  Reported-by: syzbot+cce32521ee0a824c21f7@syzkaller.appspotmail.com

  Cc: <stable@vger.kernel.org>

  Link: https://lore.kernel.org/r/000000000000033087059f8f8fa3@google.com

  Link: https://lore.kernel.org/r/20200309095922.30269-1-tiwai@suse.de

  Signed-off-by: Takashi Iwai <tiwai@suse.de>

  '
submodule:
- sound/usb/line6
hunk_count: 2
covered_count: 1
