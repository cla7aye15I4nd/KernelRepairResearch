id: 08936936fe8132f91f1a
bug_link: https://syzkaller.appspot.com/bug?extid=08936936fe8132f91f1a
title: WARNING in dev_xdp_install
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 367579274f60cb23c570ae5348966ab51e1509a4
fix_commit: d996e412b2dfc079bd44bff5b3bc743fdb6d7c90
datetime: '2025-04-02T16:06:15-07:00'
fix_commit_message: 'bpf: add missing ops lock around dev_xdp_attach_link


  Syzkaller points out that create_link path doesn''t grab ops lock,

  add it.


  Reported-by: syzbot+08936936fe8132f91f1a@syzkaller.appspotmail.com

  Closes: https://lore.kernel.org/bpf/67e6b3e8.050a0220.2f068f.0079.GAE@google.com/

  Fixes: 97246d6d21c2 ("net: hold netdev instance lock during ndo_bpf")

  Signed-off-by: Stanislav Fomichev <sdf@fomichev.me>

  Link: https://patch.msgid.link/20250331142814.1887506-1-sdf@fomichev.me

  Signed-off-by: Jakub Kicinski <kuba@kernel.org>

  '
submodule:
- net/core
hunk_count: 1
covered_count: 1
