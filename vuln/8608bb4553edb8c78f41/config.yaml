id: 8608bb4553edb8c78f41
bug_link: https://syzkaller.appspot.com/bug?extid=8608bb4553edb8c78f41
title: 'BUG: Dentry still in use in unmount'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 98b1cc82c4affc16f5598d4fa14b1858671b2263
fix_commit: 413ba91089c74207313b315e04cf381ffb5b20e4
datetime: '2023-12-17T13:33:46+02:00'
fix_commit_message: 'ovl: fix dentry reference leak after changes to underlying layers


  syzbot excercised the forbidden practice of moving the workdir under

  lowerdir while overlayfs is mounted and tripped a dentry reference leak.


  Fixes: c63e56a4a652 ("ovl: do not open/llseek lower file with upper sb_writers held")

  Reported-and-tested-by: syzbot+8608bb4553edb8c78f41@syzkaller.appspotmail.com

  Signed-off-by: Amir Goldstein <amir73il@gmail.com>

  '
submodule:
- fs/overlayfs
hunk_count: 1
covered_count: 0
