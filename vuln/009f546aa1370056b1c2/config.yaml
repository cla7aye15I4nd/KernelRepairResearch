id: 009f546aa1370056b1c2
bug_link: https://syzkaller.appspot.com/bug?extid=009f546aa1370056b1c2
title: general protection fault in vmk80xx_write_packet
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 868fd970e187d39c586565c875837e530c6f7e1b
fix_commit: e1f13c879a7c21bd207dc6242455e8e3a1e88b40
datetime: '2020-10-10T12:37:46+02:00'
fix_commit_message: 'staging: comedi: check validity of wMaxPacketSize of usb endpoints
  found


  While finding usb endpoints in vmk80xx_find_usb_endpoints(), check if

  wMaxPacketSize = 0 for the endpoints found.


  Some devices have isochronous endpoints that have wMaxPacketSize = 0

  (as required by the USB-2 spec).

  However, since this doesn''t apply here, wMaxPacketSize = 0 can be

  considered to be invalid.


  Reported-by: syzbot+009f546aa1370056b1c2@syzkaller.appspotmail.com

  Tested-by: syzbot+009f546aa1370056b1c2@syzkaller.appspotmail.com

  Signed-off-by: Anant Thazhemadam <anant.thazhemadam@gmail.com>

  Cc: stable <stable@vger.kernel.org>

  Link: https://lore.kernel.org/r/20201010082933.5417-1-anant.thazhemadam@gmail.com

  Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

  '
submodule:
- drivers/staging/comedi/drivers
hunk_count: 1
covered_count: 0
