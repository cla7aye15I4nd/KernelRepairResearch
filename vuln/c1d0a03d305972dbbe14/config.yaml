id: c1d0a03d305972dbbe14
bug_link: https://syzkaller.appspot.com/bug?extid=c1d0a03d305972dbbe14
title: 'BUG: corrupted list in nfc_llcp_register_device'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 8957261cd8149ed9d0738c01c0320bcbff989407
fix_commit: dfc7f7a988dad34c3bf4c053124fb26aa6c5f916
datetime: '2023-10-03T07:39:31-07:00'
fix_commit_message: 'net: nfc: llcp: Add lock when modifying device list


  The device list needs its associated lock held when modifying it, or the

  list could become corrupted, as syzbot discovered.


  Reported-and-tested-by: syzbot+c1d0a03d305972dbbe14@syzkaller.appspotmail.com

  Closes: https://syzkaller.appspot.com/bug?extid=c1d0a03d305972dbbe14

  Signed-off-by: Jeremy Cline <jeremy@jcline.org>

  Reviewed-by: Simon Horman <horms@kernel.org>

  Fixes: 6709d4b7bc2e ("net: nfc: Fix use-after-free caused by nfc_llcp_find_local")

  Link: https://lore.kernel.org/r/20230908235853.1319596-1-jeremy@jcline.org

  Signed-off-by: Jakub Kicinski <kuba@kernel.org>

  '
submodule:
- net/nfc
hunk_count: 1
covered_count: 1
