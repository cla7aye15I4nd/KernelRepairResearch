id: 50f7e8d06c3768dd97f3
bug_link: https://syzkaller.appspot.com/bug?extid=50f7e8d06c3768dd97f3
title: possible deadlock in p9_req_put
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: b90cb1053190353cc30f0fef0ef1f378ccc063c5
fix_commit: 52f1c45dde9136f964d63a77d19826c8a74e2c7f
datetime: '2022-10-05T07:05:40+09:00'
fix_commit_message: '9p: trans_fd/p9_conn_cancel: drop client lock earlier


  syzbot reported a double-lock here and we no longer need this

  lock after requests have been moved off to local list:

  just drop the lock earlier.


  Link: https://lkml.kernel.org/r/20220904064028.1305220-1-asmadeus@codewreck.org

  Reported-by: syzbot+50f7e8d06c3768dd97f3@syzkaller.appspotmail.com

  Signed-off-by: Dominique Martinet <asmadeus@codewreck.org>

  Tested-by: Schspa Shi <schspa@gmail.com>

  '
submodule:
- net/9p
hunk_count: 2
covered_count: 2
