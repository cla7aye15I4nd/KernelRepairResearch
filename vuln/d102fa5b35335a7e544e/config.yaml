id: d102fa5b35335a7e544e
bug_link: https://syzkaller.appspot.com/bug?extid=d102fa5b35335a7e544e
title: 'UBSAN: shift-out-of-bounds in snd_timer_user_ccallback'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 3ae72f6ab9c1f688bd578cdc252dabce65fdaf57
fix_commit: 9c1fe96bded935369f8340c2ac2e9e189f697d5d
datetime: '2021-06-03T09:39:58+02:00'
fix_commit_message: 'ALSA: timer: Fix master timer notification


  snd_timer_notify1() calls the notification to each slave for a master

  event, but it passes a wrong event number.  It should be +10 offset,

  corresponding to SNDRV_TIMER_EVENT_MXXX, but it''s incorrectly with

  +100 offset.  Casually this was spotted by UBSAN check via syzkaller.


  Reported-by: syzbot+d102fa5b35335a7e544e@syzkaller.appspotmail.com

  Reviewed-by: Jaroslav Kysela <perex@perex.cz>

  Cc: <stable@vger.kernel.org>

  Link: https://lore.kernel.org/r/000000000000e5560e05c3bd1d63@google.com

  Link: https://lore.kernel.org/r/20210602113823.23777-1-tiwai@suse.de

  Signed-off-by: Takashi Iwai <tiwai@suse.de>

  '
submodule:
- sound/core
hunk_count: 1
covered_count: 1
