id: 999fac712d84878a7379
bug_link: https://syzkaller.appspot.com/bug?extid=999fac712d84878a7379
title: WARNING in ieee80211_probe_client
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: abc76cf552e13cfa88a204b362a86b0e08e95228
fix_commit: 67dfa589aa8806c7959cbca2f4613b8d41c75a06
datetime: '2023-08-22T21:40:39+02:00'
fix_commit_message: 'wifi: mac80211: check for station first in client probe


  When probing a client, first check if we have it, and then

  check for the channel context, otherwise you can trigger

  the warning there easily by probing when the AP isn''t even

  started yet. Since a client existing means the AP is also

  operating, we can then keep the warning.


  Also simplify the moved code a bit.


  Reported-by: syzbot+999fac712d84878a7379@syzkaller.appspotmail.com

  Signed-off-by: Johannes Berg <johannes.berg@intel.com>

  '
submodule:
- net/mac80211
hunk_count: 1
covered_count: 1
