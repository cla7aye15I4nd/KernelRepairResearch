id: 7bb81dfa9cda07d9cd9d
bug_link: https://syzkaller.appspot.com/bug?extid=7bb81dfa9cda07d9cd9d
title: WARNING in iomap_read_inline_data
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 7db354444ad8429e660b0f8145d425285d4f90ff
fix_commit: 70376c7ff31221f1d21db5611d8209e677781d3a
datetime: '2022-12-06T16:06:31+01:00'
fix_commit_message: 'gfs2: Always check inode size of inline inodes


  Check if the inode size of stuffed (inline) inodes is within the allowed

  range when reading inodes from disk (gfs2_dinode_in()).  This prevents

  us from on-disk corruption.


  The two checks in stuffed_readpage() and gfs2_unstuffer_page() that just

  truncate inline data to the maximum allowed size don''t actually make

  sense, and they can be removed now as well.


  Reported-by: syzbot+7bb81dfa9cda07d9cd9d@syzkaller.appspotmail.com

  Signed-off-by: Andreas Gruenbacher <agruenba@redhat.com>

  '
submodule:
- fs/gfs2
hunk_count: 3
covered_count: 1
