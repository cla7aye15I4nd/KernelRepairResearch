id: ffb0b3ffa6cfbc7d7b3f
bug_link: https://syzkaller.appspot.com/bug?extid=ffb0b3ffa6cfbc7d7b3f
title: WARNING in __i2c_transfer
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: fd6c3f45bf300b57e45b1b87786907bcb61f61e1
fix_commit: 71581562ee36032d2d574a9b23ad4af6d6a64cf7
datetime: '2021-03-18T12:15:29+01:00'
fix_commit_message: 'i2c: bail out early when RDWR parameters are wrong


  The buggy parameters currently get caught later, but emit a noisy WARN.

  Userspace should not be able to trigger this, so add similar checks much

  earlier. Also avoids some unneeded code paths, of course. Apply kernel

  coding stlye to a comment while here.


  Reported-by: syzbot+ffb0b3ffa6cfbc7d7b3f@syzkaller.appspotmail.com

  Tested-by: syzbot+ffb0b3ffa6cfbc7d7b3f@syzkaller.appspotmail.com

  Signed-off-by: Wolfram Sang <wsa+renesas@sang-engineering.com>

  Signed-off-by: Wolfram Sang <wsa@kernel.org>

  '
submodule:
- drivers/i2c
hunk_count: 1
covered_count: 1
