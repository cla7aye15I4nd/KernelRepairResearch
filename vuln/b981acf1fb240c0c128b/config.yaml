id: b981acf1fb240c0c128b
bug_link: https://syzkaller.appspot.com/bug?extid=b981acf1fb240c0c128b
title: 'WARNING: ODEBUG bug in tipc_enable_bearer'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: b71acb0e372160167bf6d5500b88b30b52ccef6e
fix_commit: dc4501ff287547dea7ca10f1c580c741291a8760
datetime: '2018-12-27T16:16:17-08:00'
fix_commit_message: 'tipc: fix a double free in tipc_enable_bearer()


  bearer_disable() already calls kfree_rcu() to free struct tipc_bearer,

  we don''t need to call kfree() again.


  Fixes: cb30a63384bc ("tipc: refactor function tipc_enable_bearer()")

  Reported-by: syzbot+b981acf1fb240c0c128b@syzkaller.appspotmail.com

  Cc: Ying Xue <ying.xue@windriver.com>

  Cc: Jon Maloy <jon.maloy@ericsson.com>

  Signed-off-by: Cong Wang <xiyou.wangcong@gmail.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/tipc
hunk_count: 1
covered_count: 1
