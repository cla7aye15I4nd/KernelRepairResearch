id: 70ce058e01259de7bb1d
bug_link: https://syzkaller.appspot.com/bug?extid=70ce058e01259de7bb1d
title: 'KASAN: use-after-free Read in mac80211_hwsim_del_radio'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 796e1112176ada7ebc084491458dfbfbe3a193b6
fix_commit: 8cfd36a0b53aeb4ec21d81eb79706697b84dfc3d
datetime: '2018-03-21T10:57:33+01:00'
fix_commit_message: 'mac80211_hwsim: fix use-after-free bug in hwsim_exit_net


  When destroying a net namespace, all hwsim interfaces, which are not

  created in default namespace are deleted. But the async deletion of the

  interfaces could last longer than the actual destruction of the

  namespace, which results to an use after free bug. Therefore use

  synchronous deletion in this case.


  Fixes: 100cb9ff40e0 ("mac80211_hwsim: Allow managing radios from non-initial namespaces")

  Reported-by: syzbot+70ce058e01259de7bb1d@syzkaller.appspotmail.com

  Signed-off-by: Benjamin Beichler <benjamin.beichler@uni-rostock.de>

  Signed-off-by: Johannes Berg <johannes.berg@intel.com>

  '
submodule:
- drivers/net/wireless
hunk_count: 1
covered_count: 0
