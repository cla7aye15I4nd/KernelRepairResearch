id: aa0801b6b32dca9dda82
bug_link: https://syzkaller.appspot.com/bug?extid=aa0801b6b32dca9dda82
title: general protection fault in wb_timer_fn
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 61a35cfc26334fe1c8e970ca8fafeae2daae257d
fix_commit: d152c682f03ceb65c0d9663d4ba6ee2d46aa784d
datetime: '2021-08-23T12:54:31-06:00'
fix_commit_message: 'block: add an explicit ->disk backpointer to the request_queue


  Replace the magic lookup through the kobject tree with an explicit

  backpointer, given that the device model links are set up and torn

  down at times when I/O is still possible, leading to potential

  NULL or invalid pointer dereferences.


  Fixes: edb0872f44ec ("block: move the bdi from the request_queue to the gendisk")

  Reported-by: syzbot <syzbot+aa0801b6b32dca9dda82@syzkaller.appspotmail.com>

  Signed-off-by: Christoph Hellwig <hch@lst.de>

  Tested-by: Sven Schnelle <svens@linux.ibm.com>

  Link: https://lore.kernel.org/r/20210816134624.GA24234@lst.de

  Signed-off-by: Jens Axboe <axboe@kernel.dk>

  '
submodule:
- block
- include/linux
- include/trace/events
hunk_count: 19
covered_count: 3
