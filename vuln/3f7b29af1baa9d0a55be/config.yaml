id: 3f7b29af1baa9d0a55be
bug_link: https://syzkaller.appspot.com/bug?extid=3f7b29af1baa9d0a55be
title: 'WARNING: lock held when returning to user space in fuse_lock_inode'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: e8f3bd773d22f488724dffb886a1618da85c2966
fix_commit: 63576c13bd17848376c8ba4a98f5d5151140c4ac
datetime: '2018-07-26T16:13:11+02:00'
fix_commit_message: 'fuse: fix initial parallel dirops


  If parallel dirops are enabled in FUSE_INIT reply, then first operation may

  leave fi->mutex held.


  Reported-by: syzbot <syzbot+3f7b29af1baa9d0a55be@syzkaller.appspotmail.com>

  Fixes: 5c672ab3f0ee ("fuse: serialize dirops by default")

  Cc: <stable@vger.kernel.org> # v4.7

  Signed-off-by: Miklos Szeredi <mszeredi@redhat.com>

  '
submodule:
- fs/fuse
hunk_count: 5
covered_count: 1
