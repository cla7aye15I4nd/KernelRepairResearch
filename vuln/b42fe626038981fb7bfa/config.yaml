id: b42fe626038981fb7bfa
bug_link: https://syzkaller.appspot.com/bug?extid=b42fe626038981fb7bfa
title: possible deadlock in mnt_want_write (2)
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 94f6f0550c625fab1f373bb86a6669b45e9748b3
fix_commit: e044374a8a0a99e46f4e6d6751d3042b6d9cc12e
datetime: '2023-10-31T08:20:09-04:00'
fix_commit_message: 'ima: annotate iint mutex to avoid lockdep false positive warnings


  It is not clear that IMA should be nested at all, but as long is it

  measures files both on overlayfs and on underlying fs, we need to

  annotate the iint mutex to avoid lockdep false positives related to

  IMA + overlayfs, same as overlayfs annotates the inode mutex.


  Reported-and-tested-by: syzbot+b42fe626038981fb7bfa@syzkaller.appspotmail.com

  Signed-off-by: Amir Goldstein <amir73il@gmail.com>

  Cc: stable@vger.kernel.org

  Signed-off-by: Mimi Zohar <zohar@linux.ibm.com>

  '
submodule:
- security/integrity
hunk_count: 4
covered_count: 0
