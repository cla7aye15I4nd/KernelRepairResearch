id: f44badb06036334e867a
bug_link: https://syzkaller.appspot.com/bug?extid=f44badb06036334e867a
title: 'KMSAN: uninit-value in asix_mdio_read (2)'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 9b8bdd1eb5890aeeab7391dddcf8bd51f7b07216
fix_commit: 8035b1a2a37a29d8c717ef84fca8fe7278bc9f03
datetime: '2021-12-22T14:52:18-08:00'
fix_commit_message: "asix: fix uninit-value in asix_mdio_read()\n\nasix_read_cmd()\
  \ may read less than sizeof(smsr) bytes and in this case\nsmsr will be uninitialized.\n\
  \nFail log:\nBUG: KMSAN: uninit-value in asix_check_host_enable drivers/net/usb/asix_common.c:82\
  \ [inline]\nBUG: KMSAN: uninit-value in asix_check_host_enable drivers/net/usb/asix_common.c:82\
  \ [inline] drivers/net/usb/asix_common.c:497\nBUG: KMSAN: uninit-value in asix_mdio_read+0x3c1/0xb00\
  \ drivers/net/usb/asix_common.c:497 drivers/net/usb/asix_common.c:497\n asix_check_host_enable\
  \ drivers/net/usb/asix_common.c:82 [inline]\n asix_check_host_enable drivers/net/usb/asix_common.c:82\
  \ [inline] drivers/net/usb/asix_common.c:497\n asix_mdio_read+0x3c1/0xb00 drivers/net/usb/asix_common.c:497\
  \ drivers/net/usb/asix_common.c:497\n\nFixes: d9fe64e51114 (\"net: asix: Add in_pm\
  \ parameter\")\nReported-and-tested-by: syzbot+f44badb06036334e867a@syzkaller.appspotmail.com\n\
  Reviewed-by: Andrew Lunn <andrew@lunn.ch>\nSigned-off-by: Pavel Skripkin <paskripkin@gmail.com>\n\
  Link: https://lore.kernel.org/r/8966e3b514edf39857dd93603fc79ec02e000a75.1640117288.git.paskripkin@gmail.com\n\
  Signed-off-by: Jakub Kicinski <kuba@kernel.org>\n"
submodule:
- drivers/net/usb
hunk_count: 1
covered_count: 1
