id: b563b7f8dbe8223a51e8
bug_link: https://syzkaller.appspot.com/bug?extid=b563b7f8dbe8223a51e8
title: 'KASAN: use-after-free Read in rsi_rx_done_handler'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 2d52378a0ad0c2c3e8a2572aa883da46ddfaac4e
fix_commit: e93cd35101b61e4c79149be2cfc927c4b28dc60c
datetime: '2019-12-18T20:57:03+02:00'
fix_commit_message: 'rsi: fix use-after-free on failed probe and unbind


  Make sure to stop both URBs before returning after failed probe as well

  as on disconnect to avoid use-after-free in the completion handler.


  Reported-by: syzbot+b563b7f8dbe8223a51e8@syzkaller.appspotmail.com

  Fixes: a4302bff28e2 ("rsi: add bluetooth rx endpoint")

  Fixes: dad0d04fa7ba ("rsi: Add RS9113 wireless driver")

  Cc: stable <stable@vger.kernel.org>     # 3.15

  Cc: Siva Rebbagondla <siva.rebbagondla@redpinesignals.com>

  Cc: Prameela Rani Garnepudi <prameela.j04cs@gmail.com>

  Cc: Amitkumar Karwar <amit.karwar@redpinesignals.com>

  Cc: Fariya Fatima <fariyaf@gmail.com>

  Signed-off-by: Johan Hovold <johan@kernel.org>

  Signed-off-by: Kalle Valo <kvalo@codeaurora.org>

  '
submodule:
- drivers/net/wireless/rsi
hunk_count: 3
covered_count: 1
