id: f76f3c62dfadce022fd1c1deff15a61e09ac708a
bug_link: https://syzkaller.appspot.com/bug?extid=f76f3c62dfadce022fd1c1deff15a61e09ac708a
title: 'BUG: soft lockup (2)'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 898dfe4687f460ba337a01c11549f87269a13fa2
fix_commit: 29159a4ed7044c52e3e2cf1a9fb55cec4745c60b
datetime: '2018-01-08T15:16:52+01:00'
fix_commit_message: 'ALSA: pcm: Abort properly at pending signal in OSS read/write
  loops


  The loops for read and write in PCM OSS emulation have no proper check

  of pending signals, and they keep processing even after user tries to

  break.  This results in a very long delay, often seen as RCU stall

  when a huge unprocessed bytes remain queued.  The bug could be easily

  triggered by syzkaller.


  As a simple workaround, this patch adds the proper check of pending

  signals and aborts the loop appropriately.


  Reported-by: syzbot+993cb4cfcbbff3947c21@syzkaller.appspotmail.com

  Cc: <stable@vger.kernel.org>

  Signed-off-by: Takashi Iwai <tiwai@suse.de>

  '
submodule:
- sound/core/oss
hunk_count: 2
covered_count: 1
