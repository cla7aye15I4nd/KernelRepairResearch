id: 20191dc583eff8602d2d
bug_link: https://syzkaller.appspot.com/bug?extid=20191dc583eff8602d2d
title: 'BUG: scheduling while atomic: syz-executor/ADDR'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: cedcf527d59bcca5f87f52ea34a157bbc6e7a3a8
fix_commit: 72ff2bf04db2a48840df93a461b7115900f46c05
datetime: '2021-08-27T16:30:19+08:00'
fix_commit_message: 'crypto: aesni - xts_crypt() return if walk.nbytes is 0


  xts_crypt() code doesn''t call kernel_fpu_end() after calling

  kernel_fpu_begin() if walk.nbytes is 0. The correct behavior should be

  not calling kernel_fpu_begin() if walk.nbytes is 0.


  Reported-by: syzbot+20191dc583eff8602d2d@syzkaller.appspotmail.com

  Signed-off-by: Shreyansh Chouhan <chouhan.shreyansh630@gmail.com>

  Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

  '
submodule:
- arch/x86/crypto
hunk_count: 1
covered_count: 0
