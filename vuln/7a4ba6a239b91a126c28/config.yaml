id: 7a4ba6a239b91a126c28
bug_link: https://syzkaller.appspot.com/bug?extid=7a4ba6a239b91a126c28
title: 'BUG: sleeping function called from invalid context in ext4_superblock_csum_set'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: a72b38eebea4661d4d67b194353124e63ce48f66
fix_commit: d196e229a80c39254f4adbc312f55f5198e98941
datetime: '2020-11-11T14:24:18-05:00'
fix_commit_message: 'Revert "ext4: fix superblock checksum calculation race"


  This reverts commit acaa532687cdc3a03757defafece9c27aa667546 which can

  result in a ext4_superblock_csum_set() trying to sleep while a

  spinlock is being held.


  For more discussion of this issue, please see:


  https://lore.kernel.org/r/000000000000f50cb705b313ed70@google.com


  Reported-by: syzbot+7a4ba6a239b91a126c28@syzkaller.appspotmail.com

  Signed-off-by: Theodore Ts''o <tytso@mit.edu>

  '
submodule:
- fs/ext4
hunk_count: 1
covered_count: 1
