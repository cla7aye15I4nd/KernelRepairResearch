id: 904752567107eefb728c
bug_link: https://syzkaller.appspot.com/bug?extid=904752567107eefb728c
title: kernel BUG at arch/x86/kvm/mmu/mmu.c:LINE! (2)
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 6c0238c4a62b3a0b1201aeb7e33a4636d552a436
fix_commit: 7d2e8748af62b0de7c7bbcb0d62f937e88fd7027
datetime: '2020-05-27T13:11:11-04:00'
fix_commit_message: 'KVM: x86: Initialize tdp_level during vCPU creation


  Initialize vcpu->arch.tdp_level during vCPU creation to avoid consuming

  garbage if userspace calls KVM_RUN without first calling KVM_SET_CPUID.


  Fixes: e93fd3b3e89e9 ("KVM: x86/mmu: Capture TDP level when updating CPUID")

  Reported-by: syzbot+904752567107eefb728c@syzkaller.appspotmail.com

  Signed-off-by: Sean Christopherson <sean.j.christopherson@intel.com>

  Message-Id: <20200527085400.23759-1-sean.j.christopherson@intel.com>

  Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>

  '
submodule:
- arch/x86/kvm
hunk_count: 1
covered_count: 0
