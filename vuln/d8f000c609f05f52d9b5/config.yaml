id: d8f000c609f05f52d9b5
bug_link: https://syzkaller.appspot.com/bug?extid=d8f000c609f05f52d9b5
title: WARNING in iomap_iter (5)
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 30b58444807c93bffeaba7d776110f2a909d2f9a
fix_commit: 7869738b6908eec7755818aaf6f3aa068b2f0e1b
datetime: '2025-06-19T13:01:38+08:00'
fix_commit_message: 'erofs: refuse crafted out-of-file-range encoded extents


  Crafted encoded extents could record out-of-range `lstart`, which should

  not happen in normal cases.


  It caused an iomap_iter_done() complaint [1] reported by syzbot.


  [1] https://lore.kernel.org/r/684cb499.a00a0220.c6bd7.0010.GAE@google.com


  Fixes: 1d191b4ca51d ("erofs: implement encoded extent metadata")

  Reported-and-tested-by: syzbot+d8f000c609f05f52d9b5@syzkaller.appspotmail.com

  Closes: https://syzkaller.appspot.com/bug?extid=d8f000c609f05f52d9b5

  Signed-off-by: Gao Xiang <hsiangkao@linux.alibaba.com>

  Link: https://lore.kernel.org/r/20250619032839.2642193-1-hsiangkao@linux.alibaba.com

  '
submodule:
- fs/erofs
hunk_count: 1
covered_count: 0
