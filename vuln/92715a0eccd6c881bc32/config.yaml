id: 92715a0eccd6c881bc32
bug_link: https://syzkaller.appspot.com/bug?extid=92715a0eccd6c881bc32
title: WARNING in ieee80211_s1g_channel_width
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 12bf8fad4ca3cf712f80766be017a521757e14c7
fix_commit: c1cd35c6060140cebf85f43f8c702abef9eca997
datetime: '2020-10-08T10:41:24+02:00'
fix_commit_message: 'cfg80211: only allow S1G channels on S1G band


  As discovered by syzbot, cfg80211 was accepting S1G

  channel widths on non-S1G bands. Add a check for this, and

  consolidate the 1MHz frequency check as it ends up being a

  subset of the others.


  Reported-by: syzbot+92715a0eccd6c881bc32@syzkaller.appspotmail.com

  Fixes: 11b34737b18a ("nl80211: support setting S1G channels")

  Signed-off-by: Thomas Pedersen <thomas@adapt-ip.com>

  Link: https://lore.kernel.org/r/20201005165122.17583-1-thomas@adapt-ip.com

  Signed-off-by: Johannes Berg <johannes.berg@intel.com>

  '
submodule:
- net/wireless
hunk_count: 2
covered_count: 2
