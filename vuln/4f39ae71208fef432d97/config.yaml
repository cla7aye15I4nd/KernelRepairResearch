id: 4f39ae71208fef432d97
bug_link: https://syzkaller.appspot.com/bug?extid=4f39ae71208fef432d97
title: 'BUG: unable to handle kernel paging request in dput'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 888e2b03ef56694290e58bd9ac23f8033bf6369f
fix_commit: d85b399b64e85a311c09205c675d4ae1c5af6246
datetime: '2018-06-08T01:17:11-04:00'
fix_commit_message: 'fix proc_fill_cache() in case of d_alloc_parallel() failure


  If d_alloc_parallel() returns ERR_PTR(...), we don''t want to dput()

  that.  Small reorganization allows to have all error-in-lookup

  cases rejoin the main codepath after dput(child), avoiding the

  entire problem.


  Spotted-by: Tetsuo Handa <penguin-kernel@i-love.sakura.ne.jp>

  Fixes: 0168b9e38c42 "procfs: switch instantiate_t to d_splice_alias()"

  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>

  '
submodule:
- fs/proc
hunk_count: 1
covered_count: 1
