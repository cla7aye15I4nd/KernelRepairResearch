id: 825f0f9657d4e528046e
bug_link: https://syzkaller.appspot.com/bug?extid=825f0f9657d4e528046e
title: 'KASAN: use-after-free Read in disk_part_iter_next'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 6d4d273588378c65915acaf7b2ee74e9dd9c130a
fix_commit: aebf5db917055b38f4945ed6d621d9f07a44ff30
datetime: '2021-01-05T11:35:17-07:00'
fix_commit_message: 'block: fix use-after-free in disk_part_iter_next


  Make sure that bdgrab() is done on the ''block_device'' instance before

  referring to it for avoiding use-after-free.


  Cc: <stable@vger.kernel.org>

  Reported-by: syzbot+825f0f9657d4e528046e@syzkaller.appspotmail.com

  Signed-off-by: Ming Lei <ming.lei@redhat.com>

  Reviewed-by: Christoph Hellwig <hch@lst.de>

  Signed-off-by: Jens Axboe <axboe@kernel.dk>

  '
submodule:
- block
hunk_count: 1
covered_count: 1
