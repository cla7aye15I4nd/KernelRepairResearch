id: df7dc146ebdd6435eea3
bug_link: https://syzkaller.appspot.com/bug?extid=df7dc146ebdd6435eea3
title: 'UBSAN: shift-out-of-bounds in parse_audio_format_i'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 43d5ca88dfcd35e43010fdd818e067aa9a55f5ba
fix_commit: 175b8d89fe292796811fdee87fa39799a5b6b87a
datetime: '2020-12-14T09:10:39+01:00'
fix_commit_message: 'ALSA: pcm: oss: Fix potential out-of-bounds shift


  syzbot spotted a potential out-of-bounds shift in the PCM OSS layer

  where it calculates the buffer size with the arbitrary shift value

  given via an ioctl.


  Add a range check for avoiding the undefined behavior.

  As the value can be treated by a signed integer, the max shift should

  be 30.


  Reported-by: syzbot+df7dc146ebdd6435eea3@syzkaller.appspotmail.com

  Cc: <stable@vger.kernel.org>

  Link: https://lore.kernel.org/r/20201209084552.17109-2-tiwai@suse.de

  Signed-off-by: Takashi Iwai <tiwai@suse.de>

  '
submodule:
- sound/core/oss
hunk_count: 1
covered_count: 0
