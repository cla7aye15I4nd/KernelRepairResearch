id: 5c943fe38e86d615cac2
bug_link: https://syzkaller.appspot.com/bug?extid=5c943fe38e86d615cac2
title: general protection fault in dma_fence_array_first
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 519f490db07e1a539490612f376487f61e48e39c
fix_commit: 21d139d73f776aed1e86f3175a1e9fb8a10930c7
datetime: '2022-03-29T09:14:10+02:00'
fix_commit_message: 'dma-buf/sync-file: fix logic error in new fence merge code


  When the array is empty because everything is signaled we can''t use

  add_fence() to add something because that would filter the signaled

  fence again.


  Signed-off-by: Christian König <christian.koenig@amd.com>

  Fixes: 519f490db07e ("dma-buf/sync-file: fix warning about fence containers")

  Reviewed-by: Thomas Hellström <thomas.hellstrom@linux.intel.com>

  Link: https://patchwork.freedesktop.org/patch/msgid/20220329070001.134180-1-christian.koenig@amd.com

  '
submodule:
- drivers/dma-buf
hunk_count: 1
covered_count: 0
