id: 01cf2dbcbe2022454388
bug_link: https://syzkaller.appspot.com/bug?extid=01cf2dbcbe2022454388
title: 'KASAN: slab-use-after-free Read in jfs_evict_inode'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 74ecdda68242b174920fe7c6133a856fb7d8559b
fix_commit: e0e1958f4c365e380b17ccb35617345b31ef7bf3
datetime: '2023-11-21T15:26:33-06:00'
fix_commit_message: 'jfs: fix uaf in jfs_evict_inode


  When the execution of diMount(ipimap) fails, the object ipimap that has been

  released may be accessed in diFreeSpecial(). Asynchronous ipimap release occurs

  when rcu_core() calls jfs_free_node().


  Therefore, when diMount(ipimap) fails, sbi->ipimap should not be initialized as

  ipimap.


  Reported-and-tested-by: syzbot+01cf2dbcbe2022454388@syzkaller.appspotmail.com

  Signed-off-by: Edward Adam Davis <eadavis@qq.com>

  Signed-off-by: Dave Kleikamp <dave.kleikamp@oracle.com>

  '
submodule:
- fs/jfs
hunk_count: 1
covered_count: 1
