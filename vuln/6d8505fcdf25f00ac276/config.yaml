id: 6d8505fcdf25f00ac276
bug_link: https://syzkaller.appspot.com/bug?extid=6d8505fcdf25f00ac276
title: 'KASAN: use-after-free Read in chaoskey_disconnect'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 123a0f125fa3d2104043697baa62899d9e549272
fix_commit: 93ddb1f56ae102f14f9e46a9a9c8017faa970003
datetime: '2019-10-10T12:43:19+02:00'
fix_commit_message: 'USB: chaoskey: fix use-after-free on release


  The driver was accessing its struct usb_interface in its release()

  callback without holding a reference. This would lead to a

  use-after-free whenever the device was disconnected while the character

  device was still open.


  Fixes: 66e3e591891d ("usb: Add driver for Altus Metrum ChaosKey device (v2)")

  Cc: stable <stable@vger.kernel.org>     # 4.1

  Signed-off-by: Johan Hovold <johan@kernel.org>

  Link: https://lore.kernel.org/r/20191009153848.8664-3-johan@kernel.org

  Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

  '
submodule:
- drivers/usb/misc
hunk_count: 3
covered_count: 0
