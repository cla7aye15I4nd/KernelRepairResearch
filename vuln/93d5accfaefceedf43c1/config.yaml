id: 93d5accfaefceedf43c1
bug_link: https://syzkaller.appspot.com/bug?extid=93d5accfaefceedf43c1
title: WARNING in nsim_dev_reload_destroy
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 6487c819393ed1678ef847fd260ea86edccc0bb3
fix_commit: fb9d19c2d844c415d612bb93c231abf2ccf2a821
datetime: '2021-10-27T11:58:07-07:00'
fix_commit_message: 'Revert "devlink: Remove not-executed trap group notifications"


  This reverts commit 8bbeed4858239ac956a78e5cbaf778bd6f3baef8 as it

  revealed that mlxsw and netdevsim (copy/paste from mlxsw) reregisters

  devlink objects during another devlink user triggered command.


  Fixes: 22849b5ea595 ("devlink: Remove not-executed trap policer notifications")

  Reported-by: syzbot+93d5accfaefceedf43c1@syzkaller.appspotmail.com

  Signed-off-by: Leon Romanovsky <leonro@nvidia.com>

  Signed-off-by: Jakub Kicinski <kuba@kernel.org>

  '
submodule:
- net/core
hunk_count: 5
covered_count: 2
