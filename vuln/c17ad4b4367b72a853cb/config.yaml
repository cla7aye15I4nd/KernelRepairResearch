id: c17ad4b4367b72a853cb
bug_link: https://syzkaller.appspot.com/bug?extid=c17ad4b4367b72a853cb
title: 'KMSAN: uninit-value in bch2_write_inode'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 3a04334d6282d08fbdd6201e374db17d31927ba3
fix_commit: 58517f4df8424ec28dfe7290ccc61908eda57aae
datetime: '2025-03-11T11:19:33-04:00'
fix_commit_message: 'bcachefs: Initialize from_inode members for bch_io_opts


  When there is no inode source, all "from_inode" members in the structure

  bhc_io_opts should be set false.


  Fixes: 7a7c43a0c1ecf ("bcachefs: Add bch_io_opts fields for indicating whether the
  opts came from the inode")

  Reported-by: syzbot+c17ad4b4367b72a853cb@syzkaller.appspotmail.com

  Closes: https://syzkaller.appspot.com/bug?extid=c17ad4b4367b72a853cb

  Signed-off-by: Roxana Nicolescu <nicolescu.roxana@protonmail.com>

  Signed-off-by: Kent Overstreet <kent.overstreet@linux.dev>

  '
submodule:
- fs/bcachefs
hunk_count: 1
covered_count: 0
