id: ea40e4294e58b0292f74
bug_link: https://syzkaller.appspot.com/bug?extid=ea40e4294e58b0292f74
title: WARNING in nsim_dev_health_break_write
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 2d5df3a680ffdaf606baa10636bdb1daf757832e
fix_commit: ee76746387f6233bdfa93d7406990f923641568f
datetime: '2024-12-15T13:26:47-08:00'
fix_commit_message: 'netdevsim: prevent bad user input in nsim_dev_health_break_write()


  If either a zero count or a large one is provided, kernel can crash.


  Fixes: 82c93a87bf8b ("netdevsim: implement couple of testing devlink health reporters")

  Reported-by: syzbot+ea40e4294e58b0292f74@syzkaller.appspotmail.com

  Closes: https://lore.kernel.org/netdev/675c6862.050a0220.37aaf.00b1.GAE@google.com/T/#u

  Signed-off-by: Eric Dumazet <edumazet@google.com>

  Cc: Jiri Pirko <jiri@nvidia.com>

  Reviewed-by: Joe Damato <jdamato@fastly.com>

  Link: https://patch.msgid.link/20241213172518.2415666-1-edumazet@google.com

  Signed-off-by: Jakub Kicinski <kuba@kernel.org>

  '
submodule:
- drivers/net/netdevsim
hunk_count: 1
covered_count: 1
