id: 75397ee3df5c70164154
bug_link: https://syzkaller.appspot.com/bug?extid=75397ee3df5c70164154
title: WARNING in kmem_cache_free
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: b346e492d7127e4332d5a9989b844b2095cc4fcd
fix_commit: eea0d3ea7546961f69f55b26714ac8fd71c7c020
datetime: '2018-04-21T00:57:00+08:00'
fix_commit_message: 'crypto: drbg - set freed buffers to NULL


  During freeing of the internal buffers used by the DRBG, set the pointer

  to NULL. It is possible that the context with the freed buffers is

  reused. In case of an error during initialization where the pointers

  do not yet point to allocated memory, the NULL value prevents a double

  free.


  Cc: stable@vger.kernel.org

  Fixes: 3cfc3b9721123 ("crypto: drbg - use aligned buffers")

  Signed-off-by: Stephan Mueller <smueller@chronox.de>

  Reported-by: syzbot+75397ee3df5c70164154@syzkaller.appspotmail.com

  Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

  '
submodule:
- crypto
hunk_count: 1
covered_count: 0
