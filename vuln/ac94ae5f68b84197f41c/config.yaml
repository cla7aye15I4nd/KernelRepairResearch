id: ac94ae5f68b84197f41c
bug_link: https://syzkaller.appspot.com/bug?extid=ac94ae5f68b84197f41c
title: 'KMSAN: uninit-value in fat_subdirs'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: fd9f4e62a39f09a7c014d7415c2b9d1390aa0504
fix_commit: 3ee859e384d453d6ac68bfd5971f630d9fa46ad3
datetime: '2022-01-20T06:30:12-07:00'
fix_commit_message: 'block: Fix wrong offset in bio_truncate()


  bio_truncate() clears the buffer outside of last block of bdev, however

  current bio_truncate() is using the wrong offset of page. So it can

  return the uninitialized data.


  This happened when both of truncated/corrupted FS and userspace (via

  bdev) are trying to read the last of bdev.


  Reported-by: syzbot+ac94ae5f68b84197f41c@syzkaller.appspotmail.com

  Signed-off-by: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>

  Reviewed-by: Ming Lei <ming.lei@redhat.com>

  Link: https://lore.kernel.org/r/875yqt1c9g.fsf@mail.parknet.co.jp

  Signed-off-by: Jens Axboe <axboe@kernel.dk>

  '
submodule:
- block
hunk_count: 1
covered_count: 0
