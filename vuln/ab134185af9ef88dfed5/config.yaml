id: ab134185af9ef88dfed5
bug_link: https://syzkaller.appspot.com/bug?extid=ab134185af9ef88dfed5
title: 'WARNING: bad unlock balance in ocfs2_read_blocks'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 5784d9fcfd43bd853654bb80c87ef293b9e8e80a
fix_commit: c03a82b4a0c935774afa01fd6d128b444fd930a1
datetime: '2024-09-09T15:15:53-07:00'
fix_commit_message: "ocfs2: remove unreasonable unlock in ocfs2_read_blocks\n\nPatch\
  \ series \"Misc fixes for ocfs2_read_blocks\", v5.\n\nThis series contains 2 fixes\
  \ for ocfs2_read_blocks().  The first patch fix\nthe issue reported by syzbot, which\
  \ detects bad unlock balance in\nocfs2_read_blocks().  The second patch fixes an\
  \ issue reported by Heming\nZhao when reviewing above fix.\n\n\nThis patch (of 2):\n\
  \nThere was a lock release before exiting, so remove the unreasonable unlock.\n\n\
  Link: https://lkml.kernel.org/r/20240902023636.1843422-1-joseph.qi@linux.alibaba.com\n\
  Link: https://lkml.kernel.org/r/20240902023636.1843422-2-joseph.qi@linux.alibaba.com\n\
  Fixes: cf76c78595ca (\"ocfs2: don't put and assigning null to bh allocated outside\"\
  )\nSigned-off-by: Lizhi Xu <lizhi.xu@windriver.com>\nSigned-off-by: Joseph Qi <joseph.qi@linux.alibaba.com>\n\
  Reviewed-by: Heming Zhao <heming.zhao@suse.com>\nReviewed-by: Joseph Qi <joseph.qi@linux.alibaba.com>\n\
  Reported-by: syzbot+ab134185af9ef88dfed5@syzkaller.appspotmail.com\nCloses: https://syzkaller.appspot.com/bug?extid=ab134185af9ef88dfed5\n\
  Tested-by: syzbot+ab134185af9ef88dfed5@syzkaller.appspotmail.com\nCc: Mark Fasheh\
  \ <mark@fasheh.com>\nCc: Joel Becker <jlbec@evilplan.org>\nCc: Junxiao Bi <junxiao.bi@oracle.com>\n\
  Cc: Changwei Ge <gechangwei@live.cn>\nCc: Gang He <ghe@suse.com>\nCc: Jun Piao <piaojun@huawei.com>\n\
  Cc: <stable@vger.kernel.org>\t[4.20+]\nSigned-off-by: Andrew Morton <akpm@linux-foundation.org>\n"
submodule:
- fs/ocfs2
hunk_count: 1
covered_count: 0
