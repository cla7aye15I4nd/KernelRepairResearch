id: 823000d23b3400619f7c
bug_link: https://syzkaller.appspot.com/bug?extid=823000d23b3400619f7c
title: 'KASAN: use-after-free Read in __update_extent_tree_range'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 7e986855fe13de2c8290c1102292d8e5f29dd769
fix_commit: a46bebd502fe1a3bd1d22f64cedd93e7e7702693
datetime: '2023-02-14T10:08:59-08:00'
fix_commit_message: 'f2fs: synchronize atomic write aborts


  To fix a race condition between atomic write aborts, I use the inode

  lock and make COW inode to be re-usable thoroughout the whole

  atomic file inode lifetime.


  Reported-by: syzbot+823000d23b3400619f7c@syzkaller.appspotmail.com

  Fixes: 3db1de0e582c ("f2fs: change the current atomic write way")

  Signed-off-by: Daeho Jeong <daehojeong@google.com>

  Reviewed-by: Chao Yu <chao@kernel.org>

  Signed-off-by: Jaegeuk Kim <jaegeuk@kernel.org>

  '
submodule:
- fs/f2fs
hunk_count: 8
covered_count: 6
