id: 6c95df01470a47fc3af4
bug_link: https://syzkaller.appspot.com/bug?extid=6c95df01470a47fc3af4
title: memory leak in io_submit_sqes (4)
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: e6db6f9398dadcbc06318a133d4c44a2d3844e61
fix_commit: febb985c06cb6f5fac63598c0bffd4fd823d110d
datetime: '2023-01-09T15:46:57-07:00'
fix_commit_message: 'io_uring/poll: add hash if ready poll request can''t complete
  inline


  If we don''t, then we may lose access to it completely, leading to a

  request leak. This will eventually stall the ring exit process as

  well.


  Cc: stable@vger.kernel.org

  Fixes: 49f1c68e048f ("io_uring: optimise submission side poll_refs")

  Reported-and-tested-by: syzbot+6c95df01470a47fc3af4@syzkaller.appspotmail.com

  Link: https://lore.kernel.org/io-uring/0000000000009f829805f1ce87b2@google.com/

  Suggested-by: Pavel Begunkov <asml.silence@gmail.com>

  Signed-off-by: Jens Axboe <axboe@kernel.dk>

  '
submodule:
- io_uring
hunk_count: 2
covered_count: 1
