id: 33ef0b6639a8d2d42b4c
bug_link: https://syzkaller.appspot.com/bug?extid=33ef0b6639a8d2d42b4c
title: 'UBSAN: shift-out-of-bounds in snd_pcm_oss_change_params_locked'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 618de0f4ef11acd8cf26902e65493d46cc20cc89
fix_commit: 11cb881bf075cea41092a20236ba708b18e1dbb2
datetime: '2020-12-18T17:31:02+01:00'
fix_commit_message: 'ALSA: pcm: oss: Fix a few more UBSAN fixes


  There are a few places that call round{up|down}_pow_of_two() with the

  value zero, and this causes undefined behavior warnings.  Avoid

  calling those macros if such a nonsense value is passed; it''s a minor

  optimization as well, as we handle it as either an error or a value to

  be skipped, instead.


  Reported-by: syzbot+33ef0b6639a8d2d42b4c@syzkaller.appspotmail.com

  Cc: <stable@vger.kernel.org>

  Link: https://lore.kernel.org/r/20201218161730.26596-1-tiwai@suse.de

  Signed-off-by: Takashi Iwai <tiwai@suse.de>

  '
submodule:
- sound/core/oss
hunk_count: 2
covered_count: 2
