id: 1ec5c5ec949c4adaa0c4
bug_link: https://syzkaller.appspot.com/bug?extid=1ec5c5ec949c4adaa0c4
title: WARNING in format_decode (2)
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 813961de3ee6474dd5703e883471fd941d6c8f69
fix_commit: 1efb6ee3edea57f57f9fb05dba8dcb3f7333f61f
datetime: '2018-11-23T21:54:14+01:00'
fix_commit_message: 'bpf: fix check of allowed specifiers in bpf_trace_printk


  A format string consisting of "%p" or "%s" followed by an invalid

  specifier (e.g. "%p%\n" or "%s%") could pass the check which

  would make format_decode (lib/vsprintf.c) to warn.


  Fixes: 9c959c863f82 ("tracing: Allow BPF programs to call bpf_trace_printk()")

  Reported-by: syzbot+1ec5c5ec949c4adaa0c4@syzkaller.appspotmail.com

  Signed-off-by: Martynas Pumputis <m@lambda.lt>

  Signed-off-by: Daniel Borkmann <daniel@iogearbox.net>

  '
submodule:
- kernel/trace
hunk_count: 1
covered_count: 1
