id: ef4ca92d9d6f5ba2f880
bug_link: https://syzkaller.appspot.com/bug?extid=ef4ca92d9d6f5ba2f880
title: WARNING in sta_info_insert_rcu
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: fe94bac626d9c1c5bc98ab32707be8a9d7f8adba
fix_commit: a6555f844549cd190eb060daef595f94d3de1582
datetime: '2021-09-23T13:05:38+02:00'
fix_commit_message: "mac80211: Drop frames from invalid MAC address in ad-hoc mode\n\
  \nWARNING: CPU: 1 PID: 9 at net/mac80211/sta_info.c:554\nsta_info_insert_rcu+0x121/0x12a0\n\
  Modules linked in:\nCPU: 1 PID: 9 Comm: kworker/u8:1 Not tainted 5.14.0-rc7+ #253\n\
  Workqueue: phy3 ieee80211_iface_work\nRIP: 0010:sta_info_insert_rcu+0x121/0x12a0\n\
  ...\nCall Trace:\n ieee80211_ibss_finish_sta+0xbc/0x170\n ieee80211_ibss_work+0x13f/0x7d0\n\
  \ ieee80211_iface_work+0x37a/0x500\n process_one_work+0x357/0x850\n worker_thread+0x41/0x4d0\n\
  \nIf an Ad-Hoc node receives packets with invalid source MAC address,\nit hits a\
  \ WARN_ON in sta_info_insert_check(), this can spam the log.\n\nSigned-off-by: YueHaibing\
  \ <yuehaibing@huawei.com>\nLink: https://lore.kernel.org/r/20210827144230.39944-1-yuehaibing@huawei.com\n\
  Signed-off-by: Johannes Berg <johannes.berg@intel.com>\n"
submodule:
- net/mac80211
hunk_count: 1
covered_count: 0
