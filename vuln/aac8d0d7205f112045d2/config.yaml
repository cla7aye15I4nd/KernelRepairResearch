id: aac8d0d7205f112045d2
bug_link: https://syzkaller.appspot.com/bug?extid=aac8d0d7205f112045d2
title: 'KASAN: global-out-of-bounds Read in hdpvr_probe'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 9e037bdf743cc081858423ad4123824e846b2358
fix_commit: d4a6a9537bc32811486282206ecfb7c53754b74d
datetime: '2019-07-25T06:23:35-04:00'
fix_commit_message: 'media: hdpvr: Add device num check and handling


  Add hdpvr device num check and error handling


  We need to increment the device count atomically before we checkout a

  device to make sure that we do not reach the max count, otherwise we get

  out-of-bounds errors as reported by syzbot.


  Reported-and-tested-by: syzbot+aac8d0d7205f112045d2@syzkaller.appspotmail.com


  Signed-off-by: Luke Nowakowski-Krijger <lnowakow@eng.ucsd.edu>

  Signed-off-by: Hans Verkuil <hverkuil-cisco@xs4all.nl>

  Signed-off-by: Mauro Carvalho Chehab <mchehab+samsung@kernel.org>

  '
submodule:
- drivers/media/usb/hdpvr
hunk_count: 2
covered_count: 1
