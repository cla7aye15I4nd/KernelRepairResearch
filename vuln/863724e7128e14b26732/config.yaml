id: 863724e7128e14b26732
bug_link: https://syzkaller.appspot.com/bug?extid=863724e7128e14b26732
title: 'KMSAN: kernel-usb-infoleak in pcan_usb_wait_rsp'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: de280f403f2996679e2607384980703710576fed
fix_commit: f7a1337f0d29b98733c8824e165fca3371d7d4fd
datetime: '2019-11-04T21:47:20+01:00'
fix_commit_message: 'can: peak_usb: fix slab info leak


  Fix a small slab info leak due to a failure to clear the command buffer

  at allocation.


  The first 16 bytes of the command buffer are always sent to the device

  in pcan_usb_send_cmd() even though only the first two may have been

  initialised in case no argument payload is provided (e.g. when waiting

  for a response).


  Fixes: bb4785551f64 ("can: usb: PEAK-System Technik USB adapters driver core")

  Cc: stable <stable@vger.kernel.org>     # 3.4

  Reported-by: syzbot+863724e7128e14b26732@syzkaller.appspotmail.com

  Signed-off-by: Johan Hovold <johan@kernel.org>

  Signed-off-by: Marc Kleine-Budde <mkl@pengutronix.de>

  '
submodule:
- drivers/net/can/usb/peak_usb
hunk_count: 1
covered_count: 1
