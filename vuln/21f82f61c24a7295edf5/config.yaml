id: 21f82f61c24a7295edf5
bug_link: https://syzkaller.appspot.com/bug?extid=21f82f61c24a7295edf5
title: 'linux-next test error: WARNING: suspicious RCU usage in ipmr_device_event'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 95f59bf88bb75281cc626e283ecefdd5d5641427
fix_commit: a14fbcd4f157a5a97b6013289205559d246c5021
datetime: '2020-05-14T18:01:07-07:00'
fix_commit_message: 'ipmr: Fix RCU list debugging warning


  ipmr_for_each_table() macro uses list_for_each_entry_rcu()

  for traversing outside of an RCU read side critical section

  but under the protection of rtnl_mutex. Hence, add the

  corresponding lockdep expression to silence the following

  false-positive warning at boot:


  [    4.319347] =============================

  [    4.319349] WARNING: suspicious RCU usage

  [    4.319351] 5.5.4-stable #17 Tainted: G            E

  [    4.319352] -----------------------------

  [    4.319354] net/ipv4/ipmr.c:1757 RCU-list traversed in non-reader section!!


  Fixes: f0ad0860d01e ("ipv4: ipmr: support multiple tables")

  Signed-off-by: Amol Grover <frextrite@gmail.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/ipv4
hunk_count: 1
covered_count: 0
