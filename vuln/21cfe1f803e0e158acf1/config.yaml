id: 21cfe1f803e0e158acf1
bug_link: https://syzkaller.appspot.com/bug?extid=21cfe1f803e0e158acf1
title: WARNING in generic_make_request_checks
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: bc811f05d77f47059c197a98b6ad242eb03999cb
fix_commit: 8b2ded1c94c06f841f8c1612bcfa33c85012a36b
datetime: '2018-09-05T16:14:36-06:00'
fix_commit_message: "block: don't warn when doing fsync on read-only devices\n\nIt\
  \ is possible to call fsync on a read-only handle (for example, fsck.ext2\ndoes\
  \ it when doing read-only check), and this call results in kernel\nwarning.\n\n\
  The patch b089cfd95d32 (\"block: don't warn for flush on read-only device\")\nattempted\
  \ to disable the warning, but it is buggy and it doesn't\n(op_is_flush tests flags,\
  \ but bio_op strips off the flags).\n\nSigned-off-by: Mikulas Patocka <mpatocka@redhat.com>\n\
  Fixes: 721c7fc701c7 (\"block: fail op_is_write() requests to read-only partitions\"\
  )\nCc: stable@vger.kernel.org\t# 4.18\nSigned-off-by: Jens Axboe <axboe@kernel.dk>\n"
submodule:
- block
hunk_count: 1
covered_count: 0
