id: dcb847a3e1e0ecd191ab
bug_link: https://syzkaller.appspot.com/bug?extid=dcb847a3e1e0ecd191ab
title: kernel BUG at include/linux/highmem.h:LINE!
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 5e5dda81a0dfb82de1757ab878d9ffd2339c9b2a
fix_commit: 0060ef3b4e6dd1410da164d48a595eadb2fb02f7
datetime: '2020-12-15T12:13:45-08:00'
fix_commit_message: 'mm: support THPs in zero_user_segments


  We can only kmap() one subpage of a THP at a time, so loop over all

  relevant subpages, skipping ones which don''t need to be zeroed.  This is

  too large to inline when THPs are enabled and we actually need highmem, so

  put it in highmem.c.


  [willy@infradead.org: start1 was allowed to be less than start2]


  Link: https://lkml.kernel.org/r/20201124041507.28996-1-willy@infradead.org

  Signed-off-by: Matthew Wilcox (Oracle) <willy@infradead.org>

  Cc: Yang Shi <shy828301@gmail.com>

  Cc: Jan Kara <jack@suse.cz>

  Cc: Michal Hocko <mhocko@suse.com>

  Cc: Zi Yan <ziy@nvidia.com>

  Cc: Song Liu <songliubraving@fb.com>

  Cc: Mel Gorman <mgorman@suse.de>

  Cc: Naresh Kamboju <naresh.kamboju@linaro.org>

  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>

  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

  '
submodule:
- include/linux
- mm
hunk_count: 3
covered_count: 0
