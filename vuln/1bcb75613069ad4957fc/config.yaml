id: 1bcb75613069ad4957fc
bug_link: https://syzkaller.appspot.com/bug?extid=1bcb75613069ad4957fc
title: WARNING in __io_submit_flush_completions
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: c83c846231db8b153bfcb44d552d373c34f78245
fix_commit: 60495b08cf7a6920035c5172a22655ca2001270b
datetime: '2025-01-07T07:19:44-07:00'
fix_commit_message: 'io_uring: silence false positive warnings


  If we kill a ring and then immediately exit the task, we''ll get

  cancellattion running by the task and a kthread in io_ring_exit_work.

  For DEFER_TASKRUN, we do want to limit it to only one entity executing

  it, however it''s currently not an issue as it''s protected by uring_lock.


  Silence lockdep assertions for now, we''ll return to it later.


  Reported-by: syzbot+1bcb75613069ad4957fc@syzkaller.appspotmail.com

  Signed-off-by: Pavel Begunkov <asml.silence@gmail.com>

  Link: https://lore.kernel.org/r/7e5f68281acb0f081f65fde435833c68a3b7e02f.1736257837.git.asml.silence@gmail.com

  Signed-off-by: Jens Axboe <axboe@kernel.dk>

  '
submodule:
- io_uring
hunk_count: 2
covered_count: 2
