id: d168ec0caca4697e03b1
bug_link: https://syzkaller.appspot.com/bug?extid=d168ec0caca4697e03b1
title: 'KMSAN: uninit-value in can_send'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 866337865f3747c68a3e7bb837611e39cec1ecd6
fix_commit: 3eb3d283e8579a22b81dd2ac3987b77465b2a22f
datetime: '2022-11-07T14:00:27+01:00'
fix_commit_message: 'can: j1939: j1939_send_one(): fix missing CAN header initialization


  The read access to struct canxl_frame::len inside of a j1939 created

  skbuff revealed a missing initialization of reserved and later filled

  elements in struct can_frame.


  This patch initializes the 8 byte CAN header with zero.


  Fixes: 9d71dd0c7009 ("can: add support of SAE J1939 protocol")

  Cc: Oleksij Rempel <o.rempel@pengutronix.de>

  Link: https://lore.kernel.org/linux-can/20221104052235.GA6474@pengutronix.de

  Reported-by: syzbot+d168ec0caca4697e03b1@syzkaller.appspotmail.com

  Signed-off-by: Oliver Hartkopp <socketcan@hartkopp.net>

  Link: https://lore.kernel.org/all/20221104075000.105414-1-socketcan@hartkopp.net

  Cc: stable@vger.kernel.org

  Signed-off-by: Marc Kleine-Budde <mkl@pengutronix.de>

  '
submodule:
- net/can
hunk_count: 1
covered_count: 1
