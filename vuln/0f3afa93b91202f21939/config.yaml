id: 0f3afa93b91202f21939
bug_link: https://syzkaller.appspot.com/bug?extid=0f3afa93b91202f21939
title: 'KMSAN: uninit-value in cfg80211_inform_bss_frame_data'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: baeaabf970b9a90999f62ae27edf63f6cb86c023
fix_commit: 6873cc4416078202882691b424fcca5b5fb1a94d
datetime: '2024-07-26T12:32:47+02:00'
fix_commit_message: 'wifi: cfg80211: correct S1G beacon length calculation


  The minimum header length calculation (equivalent to the start

  of the elements) for the S1G long beacon erroneously required

  only up to the start of u.s1g_beacon rather than the start of

  u.s1g_beacon.variable. Fix that, and also shuffle the branches

  around a bit to not assign useless values that are overwritten

  later.


  Reported-by: syzbot+0f3afa93b91202f21939@syzkaller.appspotmail.com

  Fixes: 9eaffe5078ca ("cfg80211: convert S1G beacon to scan results")

  Link: https://patch.msgid.link/20240724132912.9662972db7c1.I8779675b5bbda4994cc66f876b6b87a2361c3c0b@changeid

  Signed-off-by: Johannes Berg <johannes.berg@intel.com>

  '
submodule:
- net/wireless
hunk_count: 2
covered_count: 2
