id: 730517f1d3fbe54a17c7
bug_link: https://syzkaller.appspot.com/bug?extid=730517f1d3fbe54a17c7
title: 'KASAN: slab-out-of-bounds Read in __ext4_check_dir_entry'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 54dd0e0a1b255f115f8647fc6fb93273251b01b9
fix_commit: e40ff213898502d299351cc2fe1e350cd186f0d3
datetime: '2018-04-01T23:21:03-04:00'
fix_commit_message: 'ext4: force revalidation of directory pointer after seekdir(2)


  A malicious user could force the directory pointer to be in an invalid

  spot by using seekdir(2).  Use the mechanism we already have to notice

  if the directory has changed since the last time we called

  ext4_readdir() to force a revalidation of the pointer.


  Reported-by: syzbot+1236ce66f79263e8a862@syzkaller.appspotmail.com

  Signed-off-by: Theodore Ts''o <tytso@mit.edu>

  Cc: stable@vger.kernel.org


  '
submodule:
- fs/ext4
hunk_count: 1
covered_count: 0
