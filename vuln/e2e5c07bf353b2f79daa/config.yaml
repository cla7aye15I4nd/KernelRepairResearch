id: e2e5c07bf353b2f79daa
bug_link: https://syzkaller.appspot.com/bug?extid=e2e5c07bf353b2f79daa
title: general protection fault in virtio_transport_release
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: f3c9a666b28572b1a0ae691a47d9a7de4d9cefb3
fix_commit: 039fcccaed338b2ff6587178c1219c1ef383a1d9
datetime: '2019-11-21T11:37:16-08:00'
fix_commit_message: 'vsock: avoid to assign transport if its initialization fails


  If transport->init() fails, we can''t assign the transport to the

  socket, because it''s not initialized correctly, and any future

  calls to the transport callbacks would have an unexpected behavior.


  Fixes: c0cfa2d8a788 ("vsock: add multi-transports support")

  Reported-and-tested-by: syzbot+e2e5c07bf353b2f79daa@syzkaller.appspotmail.com

  Signed-off-by: Stefano Garzarella <sgarzare@redhat.com>

  Reviewed-by: Jorgen Hansen <jhansen@vmware.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/vmw_vsock
hunk_count: 2
covered_count: 0
