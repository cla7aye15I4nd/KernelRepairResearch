id: d59c4387bfb6eced94e2
bug_link: https://syzkaller.appspot.com/bug?extid=d59c4387bfb6eced94e2
title: general protection fault in snd_usb_pipe_sanity_check
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 37151a41df800493cfcbbef4f7208ffe04feb959
fix_commit: 5d78e1c2b7f4be00bbe62141603a631dc7812f35
datetime: '2019-07-30T12:32:21+02:00'
fix_commit_message: "ALSA: usb-audio: Fix gpf in snd_usb_pipe_sanity_check\n\nsyzbot\
  \ found the following crash on:\n\n  general protection fault: 0000 [#1] SMP KASAN\n\
  \  RIP: 0010:snd_usb_pipe_sanity_check+0x80/0x130 sound/usb/helper.c:75\n  Call\
  \ Trace:\n    snd_usb_motu_microbookii_communicate.constprop.0+0xa0/0x2fb  sound/usb/quirks.c:1007\n\
  \    snd_usb_motu_microbookii_boot_quirk sound/usb/quirks.c:1051 [inline]\n    snd_usb_apply_boot_quirk.cold+0x163/0x370\
  \ sound/usb/quirks.c:1280\n    usb_audio_probe+0x2ec/0x2010 sound/usb/card.c:576\n\
  \    usb_probe_interface+0x305/0x7a0 drivers/usb/core/driver.c:361\n    really_probe+0x281/0x650\
  \ drivers/base/dd.c:548\n    ....\n\nIt was introduced in commit 801ebf1043ae for\
  \ checking pipe and endpoint\ntypes. It is fixed by adding a check of the ep pointer\
  \ in question.\n\nBugLink: https://syzkaller.appspot.com/bug?extid=d59c4387bfb6eced94e2\n\
  Reported-by: syzbot <syzbot+d59c4387bfb6eced94e2@syzkaller.appspotmail.com>\nFixes:\
  \ 801ebf1043ae (\"ALSA: usb-audio: Sanity checks for each pipe and EP types\")\n\
  Cc: Andrey Konovalov <andreyknvl@google.com>\nSigned-off-by: Hillf Danton <hdanton@sina.com>\n\
  Signed-off-by: Takashi Iwai <tiwai@suse.de>\n"
submodule:
- sound/usb
hunk_count: 1
covered_count: 1
