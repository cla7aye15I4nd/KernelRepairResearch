id: ea2f1484cffe5109dc10
bug_link: https://syzkaller.appspot.com/bug?extid=ea2f1484cffe5109dc10
title: WARNING in io_wqe_enqueue
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: fe76421d1da1dcdb3a2cd8428ac40106bff28bc0
fix_commit: e6ab8991c5d0b0deae0961dc22c0edd1dee328f5
datetime: '2021-06-18T09:22:02-06:00'
fix_commit_message: 'io_uring: fix false WARN_ONCE


  WARNING: CPU: 1 PID: 11749 at fs/io-wq.c:244 io_wqe_wake_worker fs/io-wq.c:244 [inline]

  WARNING: CPU: 1 PID: 11749 at fs/io-wq.c:244 io_wqe_enqueue+0x7f6/0x910 fs/io-wq.c:751


  A WARN_ON_ONCE() in io_wqe_wake_worker() can be triggered by a valid

  userspace setup. Replace it with pr_warn.


  Reported-by: syzbot+ea2f1484cffe5109dc10@syzkaller.appspotmail.com

  Signed-off-by: Pavel Begunkov <asml.silence@gmail.com>

  Link: https://lore.kernel.org/r/f7ede342c3342c4c26668f5168e2993e38bbd99c.1623949695.git.asml.silence@gmail.com

  Signed-off-by: Jens Axboe <axboe@kernel.dk>

  '
submodule:
- fs
hunk_count: 2
covered_count: 1
