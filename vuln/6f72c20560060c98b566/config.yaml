id: 6f72c20560060c98b566
bug_link: https://syzkaller.appspot.com/bug?extid=6f72c20560060c98b566
title: 'BUG: sleeping function called from invalid context at crypto/skcipher.c:LINE'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 678cce4019d746da6c680c48ba9e6d417803e127
fix_commit: 44427c0fbc09b448b22410978a4ef6ee37599d25
datetime: '2019-04-18T22:13:46+08:00'
fix_commit_message: 'crypto: xts - Fix atomic sleep when walking skcipher


  When we perform a walk in the completion function, we need to ensure

  that it is atomic.


  Reported-by: syzbot+6f72c20560060c98b566@syzkaller.appspotmail.com

  Fixes: 78105c7e769b ("crypto: xts - Drop use of auxiliary buffer")

  Cc: <stable@vger.kernel.org>

  Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

  Acked-by: Ondrej Mosnacek <omosnace@redhat.com>

  Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

  '
submodule:
- crypto
hunk_count: 1
covered_count: 1
