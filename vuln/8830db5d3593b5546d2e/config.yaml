id: 8830db5d3593b5546d2e
bug_link: https://syzkaller.appspot.com/bug?extid=8830db5d3593b5546d2e
title: WARNING in ieee80211_rx_list
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 02c665f048a439c0d58cc45334c94634bd7c18e6
fix_commit: 177c6ae9725d783f9e96f02593ce8fb2639be22f
datetime: '2024-05-29T15:25:10+02:00'
fix_commit_message: 'wifi: mac80211: handle tasklet frames before stopping


  The code itself doesn''t want to handle frames from the driver

  if it''s already stopped, but if the tasklet was queued before

  and runs after the stop, then all bets are off. Flush queues

  before actually stopping, RX should be off at this point since

  all the interfaces are removed already, etc.


  Reported-by: syzbot+8830db5d3593b5546d2e@syzkaller.appspotmail.com

  Link: https://msgid.link/20240515135318.b05f11385c9a.I41c1b33a2e1814c3a7ef352cd7f2951b91785617@changeid

  Signed-off-by: Johannes Berg <johannes.berg@intel.com>

  '
submodule:
- net/mac80211
hunk_count: 4
covered_count: 0
