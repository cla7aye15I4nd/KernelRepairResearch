id: 53d5b2df0d9744411e2e
bug_link: https://syzkaller.appspot.com/bug?extid=53d5b2df0d9744411e2e
title: 'KASAN: null-ptr-deref Write in kthread_stop'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: da411ab10cc13dde4673608142cbd8c290505235
fix_commit: 701f49bc028edb19ffccd101997dd84f0d71e279
datetime: '2018-11-23T06:06:03-05:00'
fix_commit_message: 'media: vivid: fix error handling of kthread_run


  kthread_run returns an error pointer, but elsewhere in the code

  dev->kthread_vid_cap/out is checked against NULL.


  If kthread_run returns an error, then set the pointer to NULL.


  I chose this method over changing all kthread_vid_cap/out tests

  elsewhere since this is more robust.


  Signed-off-by: Hans Verkuil <hverkuil-cisco@xs4all.nl>

  Reported-by: syzbot+53d5b2df0d9744411e2e@syzkaller.appspotmail.com

  Signed-off-by: Mauro Carvalho Chehab <mchehab+samsung@kernel.org>

  '
submodule:
- drivers/media/platform/vivid
hunk_count: 2
covered_count: 1
