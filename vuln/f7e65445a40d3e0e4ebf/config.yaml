id: f7e65445a40d3e0e4ebf
bug_link: https://syzkaller.appspot.com/bug?extid=f7e65445a40d3e0e4ebf
title: general protection fault in vcpu_enter_guest (2)
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 76d58e0f07ec203bbdfcaabd9a9fc10a5a3ed5ea
fix_commit: b904cb8dff824b79233e82c078837627ebd52717
datetime: '2019-04-30T21:22:15+02:00'
fix_commit_message: 'KVM: lapic: Check for in-kernel LAPIC before deferencing apic
  pointer


  ...to avoid dereferencing a null pointer when querying the per-vCPU

  timer advance.


  Fixes: 39497d7660d98 ("KVM: lapic: Track lapic timer advance per vCPU")

  Reported-by: syzbot+f7e65445a40d3e0e4ebf@syzkaller.appspotmail.com

  Signed-off-by: Sean Christopherson <sean.j.christopherson@intel.com>

  Reviewed-by: Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>

  Signed-off-by: Paolo Bonzini <pbonzini@redhat.com>

  '
submodule:
- arch/x86/kvm
hunk_count: 2
covered_count: 1
