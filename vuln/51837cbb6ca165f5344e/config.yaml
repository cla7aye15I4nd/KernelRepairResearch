id: 51837cbb6ca165f5344e
bug_link: https://syzkaller.appspot.com/bug?extid=51837cbb6ca165f5344e
title: 'UBSAN: array-index-out-of-bounds in bch2_bkey_swab_key'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: f770a6e9a3d7a90f77863b51325614f37a57fef5
fix_commit: d47df4f616d523b4ef832d03ec28b2e6d838067b
datetime: '2024-06-19T18:27:23-04:00'
fix_commit_message: 'bcachefs: Fix array-index-out-of-bounds


  We use 0 size arrays as markers, but ubsan doesn''t know that - cast them

  to a pointer to fix the splat.


  Also, make sure this code gets tested a bit more.


  Signed-off-by: Kent Overstreet <kent.overstreet@linux.dev>

  '
submodule:
- fs/bcachefs
hunk_count: 3
covered_count: 3
