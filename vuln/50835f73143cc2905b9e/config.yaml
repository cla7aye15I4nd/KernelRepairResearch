id: 50835f73143cc2905b9e
bug_link: https://syzkaller.appspot.com/bug?extid=50835f73143cc2905b9e
title: WARNING in __fortify_report
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 7c73ddb7589fb8ddb1136b6306dfb72089c81511
fix_commit: be27cd64461c45a6088a91a04eba5cd44e1767ef
datetime: '2024-07-05T13:14:51-04:00'
fix_commit_message: 'ext4: use memtostr_pad() for s_volume_name


  As with the other strings in struct ext4_super_block, s_volume_name is

  not NUL terminated. The other strings were marked in commit 072ebb3bffe6

  ("ext4: add nonstring annotations to ext4.h"). Using strscpy() isn''t

  the right replacement for strncpy(); it should use memtostr_pad()

  instead.


  Reported-by: syzbot+50835f73143cc2905b9e@syzkaller.appspotmail.com

  Closes: https://lore.kernel.org/all/00000000000019f4c00619192c05@google.com/

  Fixes: 744a56389f73 ("ext4: replace deprecated strncpy with alternatives")

  Signed-off-by: Kees Cook <keescook@chromium.org>

  Link: https://patch.msgid.link/20240523225408.work.904-kees@kernel.org

  Signed-off-by: Theodore Ts''o <tytso@mit.edu>

  '
submodule:
- fs/ext4
hunk_count: 2
covered_count: 1
