id: bb25f85e5aa482864dc0
bug_link: https://syzkaller.appspot.com/bug?extid=bb25f85e5aa482864dc0
title: memory leak in airspy_probe
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: d682869daa23938b5e8919db45c4b5b227749712
fix_commit: 23bc5eb55f8c9607965c20d9ddcc13cb1ae59568
datetime: '2022-08-30T07:31:42+02:00'
fix_commit_message: "media: airspy: fix memory leak in airspy probe\n\nThe commit\
  \ ca9dc8d06ab6 (\"media: airspy: respect the DMA coherency\n rules\") moves variable\
  \ buf from stack to heap, however, it only frees\nbuf in the error handling code,\
  \ missing deallocation in the success\npath.\n\nFix this by freeing buf in the success\
  \ path since this variable does not\nhave any references in other code.\n\nFixes:\
  \ ca9dc8d06ab6 (\"media: airspy: respect the DMA coherency rules\")\nReported-by:\
  \ syzbot+bb25f85e5aa482864dc0@syzkaller.appspotmail.com\nSigned-off-by: Dongliang\
  \ Mu <mudongliangabcd@gmail.com>\nReviewed-by: Tommaso Merciai <tommaso.merciai@amarulasolution.com>\n\
  Signed-off-by: Hans Verkuil <hverkuil-cisco@xs4all.nl>\nSigned-off-by: Mauro Carvalho\
  \ Chehab <mchehab@kernel.org>\n"
submodule:
- drivers/media/usb/airspy
hunk_count: 1
covered_count: 0
