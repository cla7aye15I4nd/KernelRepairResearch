id: cd24df4d075c319ebfc5
bug_link: https://syzkaller.appspot.com/bug?extid=cd24df4d075c319ebfc5
title: 'KASAN: use-after-free Read in usb_autopm_put_interface'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: b987b66ac3a2bc2f7b03a0ba48a07dc553100c07
fix_commit: 7a759197974894213621aa65f0571b51904733d6
datetime: '2019-10-15T20:19:19+02:00'
fix_commit_message: 'USB: usblp: fix use-after-free on disconnect


  A recent commit addressing a runtime PM use-count regression, introduced

  a use-after-free by not making sure we held a reference to the struct

  usb_interface for the lifetime of the driver data.


  Fixes: 9a31535859bf ("USB: usblp: fix runtime PM after driver unbind")

  Cc: stable <stable@vger.kernel.org>

  Reported-by: syzbot+cd24df4d075c319ebfc5@syzkaller.appspotmail.com

  Signed-off-by: Johan Hovold <johan@kernel.org>

  Link: https://lore.kernel.org/r/20191015175522.18490-1-johan@kernel.org

  Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

  '
submodule:
- drivers/usb/class
hunk_count: 3
covered_count: 1
