id: 36bb70085ef6edc2ebb9
bug_link: https://syzkaller.appspot.com/bug?extid=36bb70085ef6edc2ebb9
title: possible deadlock in attr_data_get_block
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: eb95678ee930d67d79fc83f0a700245ae7230455
fix_commit: d57431c6f511bf020e474026d9f3123d7bfbea8c
datetime: '2024-07-11T12:19:43+03:00'
fix_commit_message: 'fs/ntfs3: Do copy_to_user out of run_lock


  In order not to call copy_to_user (from fiemap_fill_next_extent)

  we allocate memory in the kernel, fill it and copy it to user memory

  after up_read(run_lock).


  Reported-by: syzbot+36bb70085ef6edc2ebb9@syzkaller.appspotmail.com

  Signed-off-by: Konstantin Komarov <almaz.alexandrovich@paragon-software.com>

  '
submodule:
- fs/ntfs3
hunk_count: 6
covered_count: 3
