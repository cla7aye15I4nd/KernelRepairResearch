id: 0a884bc2d304ce4af70f
bug_link: https://syzkaller.appspot.com/bug?extid=0a884bc2d304ce4af70f
title: WARNING in __dev_queue_xmit (5)
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 16f027cd40eeedd2325f7e720689462ca8d9d13e
fix_commit: 5eb70dbebf32c2fd1f2814c654ae17fc47d6e859
datetime: '2024-12-18T19:22:51-08:00'
fix_commit_message: 'netdev-genl: avoid empty messages in queue dump


  Empty netlink responses from do() are not correct (as opposed to

  dump() where not dumping anything is perfectly fine).

  We should return an error if the target object does not exist,

  in this case if the netdev is down it has no queues.


  Fixes: 6b6171db7fc8 ("netdev-genl: Add netlink framework functions for queue")

  Reported-by: syzbot+0a884bc2d304ce4af70f@syzkaller.appspotmail.com

  Reviewed-by: Eric Dumazet <edumazet@google.com>

  Reviewed-by: Joe Damato <jdamato@fastly.com>

  Link: https://patch.msgid.link/20241218022508.815344-1-kuba@kernel.org

  Signed-off-by: Jakub Kicinski <kuba@kernel.org>

  '
submodule:
- net/core
hunk_count: 1
covered_count: 1
