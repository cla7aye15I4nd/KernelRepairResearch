id: e267bed19bfc5478fb33
bug_link: https://syzkaller.appspot.com/bug?extid=e267bed19bfc5478fb33
title: 'KMSAN: uninit-value in hsr_fill_frame_info'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: f282df0391267fb2b263da1cc3233aa6fb81defc
fix_commit: 2e9f60932a2c19e8a11b4a69d419f107024b05a0
datetime: '2021-05-03T13:33:54-07:00'
fix_commit_message: 'net: hsr: check skb can contain struct hsr_ethhdr in fill_frame_info


  Check at start of fill_frame_info that the MAC header in the supplied

  skb is large enough to fit a struct hsr_ethhdr, as otherwise this is

  not a valid HSR frame. If it is too small, return an error which will

  then cause the callers to clean up the skb. Fixes a KMSAN-found

  uninit-value bug reported by syzbot at:

  https://syzkaller.appspot.com/bug?id=f7e9b601f1414f814f7602a82b6619a8d80bce3f


  Reported-by: syzbot+e267bed19bfc5478fb33@syzkaller.appspotmail.com

  Signed-off-by: Phillip Potter <phil@philpotter.co.uk>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/hsr
hunk_count: 1
covered_count: 1
