id: ae0c70c0c2d40c51bb92
bug_link: https://syzkaller.appspot.com/bug?extid=ae0c70c0c2d40c51bb92
title: 'KMSAN: kernel-infoleak in sctp_getsockopt (2)'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 20704bd1633dd5afb29a321d3a615c9c8e9c9d05
fix_commit: 400b8b9a2a17918f8ce00786f596f530e7f30d50
datetime: '2019-01-16T13:38:06-08:00'
fix_commit_message: 'sctp: allocate sctp_sockaddr_entry with kzalloc


  The similar issue as fixed in Commit 4a2eb0c37b47 ("sctp: initialize

  sin6_flowinfo for ipv6 addrs in sctp_inet6addr_event") also exists

  in sctp_inetaddr_event, as Alexander noticed.


  To fix it, allocate sctp_sockaddr_entry with kzalloc for both sctp

  ipv4 and ipv6 addresses, as does in sctp_v4/6_copy_addrlist().


  Reported-by: Alexander Potapenko <glider@google.com>

  Signed-off-by: Xin Long <lucien.xin@gmail.com>

  Reported-by: syzbot+ae0c70c0c2d40c51bb92@syzkaller.appspotmail.com

  Acked-by: Marcelo Ricardo Leitner <marcelo.leitner@gmail.com>

  Acked-by: Neil Horman <nhorman@tuxdriver.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/sctp
hunk_count: 4
covered_count: 2
