id: 1f202d4da221ec6ebf8e
bug_link: https://syzkaller.appspot.com/bug?extid=1f202d4da221ec6ebf8e
title: kernel BUG in bch2_btree_pos_to_text (2)
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 427db7ffe9a91bcad00a7bac4edcd74d75007a11
fix_commit: abf23afa36eb425fb75d47c26fc665dbab2a9ae1
datetime: '2024-12-21T01:36:19-05:00'
fix_commit_message: 'bcachefs: Fix btree node scan when unknown btree IDs are present


  btree_root entries for unknown btree IDs are created during recovery,

  before reading those btree roots.


  But btree_node_scan may find btree nodes with unknown btree IDs when we

  haven''t seen roots for those btrees.


  Reported-by: syzbot+1f202d4da221ec6ebf8e@syzkaller.appspotmail.com

  Signed-off-by: Kent Overstreet <kent.overstreet@linux.dev>

  '
submodule:
- fs/bcachefs
hunk_count: 2
covered_count: 2
