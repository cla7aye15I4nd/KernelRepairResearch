id: e24baf53dc389927a7c3
bug_link: https://syzkaller.appspot.com/bug?extid=e24baf53dc389927a7c3
title: general protection fault in sock_close
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 52c479697c9b73f628140dcdfcd39ea302d05482
fix_commit: 77f4689de17c0887775bb77896f4cc11a39bf848
datetime: '2020-09-02T11:30:48-04:00'
fix_commit_message: 'fix regression in "epoll: Keep a reference on files added to
  the check list"


  epoll_loop_check_proc() can run into a file already committed to destruction;

  we can''t grab a reference on those and don''t need to add them to the set for

  reverse path check anyway.


  Tested-by: Marc Zyngier <maz@kernel.org>

  Fixes: a9ed4a6560b8 ("epoll: Keep a reference on files added to the check list")

  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>

  '
submodule:
- fs
hunk_count: 1
covered_count: 0
