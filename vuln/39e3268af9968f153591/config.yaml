id: 39e3268af9968f153591
bug_link: https://syzkaller.appspot.com/bug?extid=39e3268af9968f153591
title: 'KASAN: use-after-free Read in snd_rawmidi_transmit'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 4c691a287d4ee0c308708c1d6f9e0cc7513463f8
fix_commit: 0125de38122f0f66bf61336158d12a1aabfe6425
datetime: '2022-05-25T15:13:29+02:00'
fix_commit_message: 'ALSA: usb-audio: Cancel pending work at closing a MIDI substream


  At closing a USB MIDI output substream, there might be still a pending

  work, which would eventually access the rawmidi runtime object that is

  being released.  For fixing the race, make sure to cancel the pending

  work at closing.


  Reported-by: syzbot+6912c9592caca7ca0e7d@syzkaller.appspotmail.com

  Cc: <stable@vger.kernel.org>

  Link: https://lore.kernel.org/r/000000000000e7e75005dfd07cf6@google.com

  Link: https://lore.kernel.org/r/20220525131203.11299-1-tiwai@suse.de

  Signed-off-by: Takashi Iwai <tiwai@suse.de>

  '
submodule:
- sound/usb
hunk_count: 1
covered_count: 0
