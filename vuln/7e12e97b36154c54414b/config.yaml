id: 7e12e97b36154c54414b
bug_link: https://syzkaller.appspot.com/bug?extid=7e12e97b36154c54414b
title: WARNING in bitmap_parselist_user
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 62e72d2cf702a5e2fb53d9c46ed900d9384e4a06
fix_commit: dd2a5b5514ab0e690f018595e34dd1fcb981d345
datetime: '2024-12-30T17:59:11-08:00'
fix_commit_message: 'mm/util: make memdup_user_nul() similar to memdup_user()


  Since the string data to copy from userspace is likely less than PAGE_SIZE

  bytes, replace GFP_KERNEL with GFP_USER like commit 6c2c97a24f09

  ("memdup_user(): switch to GFP_USER") does and add __GFP_NOWARN like

  commit 6c8fcc096be9 ("mm: don''t let userspace spam allocations warnings")

  does.  Also, use dedicated slab buckets like commit d73778e4b867

  ("mm/util: Use dedicated slab buckets for memdup_user()") does.


  Link: https://lkml.kernel.org/r/014cd694-cc27-4a07-a34a-2ae95d744515@I-love.SAKURA.ne.jp

  Reported-by: syzbot+7e12e97b36154c54414b@syzkaller.appspotmail.com

  Closes: https://syzkaller.appspot.com/bug?extid=7e12e97b36154c54414b

  Signed-off-by: Tetsuo Handa <penguin-kernel@I-love.SAKURA.ne.jp>

  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>

  '
submodule:
- mm
hunk_count: 1
covered_count: 1
