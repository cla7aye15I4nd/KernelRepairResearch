id: 4c0c011e71ae95a85ffe
bug_link: https://syzkaller.appspot.com/bug?extid=4c0c011e71ae95a85ffe
title: 'BUG: MAX_LOCKDEP_CHAINS too low! (2)'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: e49d033bddf5b565044e2abe4241353959bc9120
fix_commit: 5dc33592e95534dc8455ce3e9baaaf3dae0fff82
datetime: '2021-04-05T20:33:57+09:00'
fix_commit_message: 'lockdep: Allow tuning tracing capacity constants.


  Since syzkaller continues various test cases until the kernel crashes,

  syzkaller tends to examine more locking dependencies than normal systems.

  As a result, syzbot is reporting that the fuzz testing was terminated

  due to hitting upper limits lockdep can track [1] [2] [3]. Since analysis

  via /proc/lockdep* did not show any obvious culprit [4] [5], we have no

  choice but allow tuning tracing capacity constants.


  [1] https://syzkaller.appspot.com/bug?id=3d97ba93fb3566000c1c59691ea427370d33ea1b

  [2] https://syzkaller.appspot.com/bug?id=381cb436fe60dc03d7fd2a092b46d7f09542a72a

  [3] https://syzkaller.appspot.com/bug?id=a588183ac34c1437fc0785e8f220e88282e5a29f

  [4] https://lkml.kernel.org/r/4b8f7a57-fa20-47bd-48a0-ae35d860f233@i-love.sakura.ne.jp

  [5] https://lkml.kernel.org/r/1c351187-253b-2d49-acaf-4563c63ae7d2@i-love.sakura.ne.jp


  References: https://lkml.kernel.org/r/1595640639-9310-1-git-send-email-penguin-kernel@I-love.SAKURA.ne.jp

  Signed-off-by: Tetsuo Handa <penguin-kernel@I-love.SAKURA.ne.jp>

  Acked-by: Dmitry Vyukov <dvyukov@google.com>

  '
submodule:
- kernel/locking
- lib
hunk_count: 3
covered_count: 0
