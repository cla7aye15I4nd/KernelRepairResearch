id: 2e406a9ac75bb71d4b7a
bug_link: https://syzkaller.appspot.com/bug?extid=2e406a9ac75bb71d4b7a
title: 'KMSAN: uninit-value in ip_rcv_core'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 31457db3750c0b0ed229d836f2609fdb8a5b790e
fix_commit: 6628ddfec7580882f11fdc5c194a8ea781fdadfa
datetime: '2021-04-11T16:54:57-07:00'
fix_commit_message: 'net: geneve: check skb is large enough for IPv4/IPv6 header


  Check within geneve_xmit_skb/geneve6_xmit_skb that sk_buff structure

  is large enough to include IPv4 or IPv6 header, and reject if not. The

  geneve_xmit_skb portion and overall idea was contributed by Eric Dumazet.

  Fixes a KMSAN-found uninit-value bug reported by syzbot at:

  https://syzkaller.appspot.com/bug?id=abe95dc3e3e9667fc23b8d81f29ecad95c6f106f


  Suggested-by: Eric Dumazet <edumazet@google.com>

  Reported-by: syzbot+2e406a9ac75bb71d4b7a@syzkaller.appspotmail.com

  Signed-off-by: Phillip Potter <phil@philpotter.co.uk>

  Signed-off-by: Eric Dumazet <edumazet@google.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- drivers/net
hunk_count: 2
covered_count: 1
