id: f78380e4eae53c64125c
bug_link: https://syzkaller.appspot.com/bug?extid=f78380e4eae53c64125c
title: possible deadlock in console_flush_all (2)
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 7a2e8e30ad89f498b206977396d028e10174390a
fix_commit: ae01e52da244af5d650378ada1bfd2d946dc1b45
datetime: '2024-06-04T14:10:43+02:00'
fix_commit_message: "serial: drop debugging WARN_ON_ONCE() from uart_write()\n\nsyzbot\
  \ is reporting lockdep warning upon\n\n  int disc = 7;\n  ioctl(open(\"/dev/ttyS3\"\
  , O_RDONLY), TIOCSETD, &disc);\n\nsequence. Do like what commit 5f1149d2f4bf (\"\
  serial: drop debugging\nWARN_ON_ONCE() from uart_put_char()\") does.\n\nReported-by:\
  \ syzbot+f78380e4eae53c64125c@syzkaller.appspotmail.com\nCloses: https://syzkaller.appspot.com/bug?extid=f78380e4eae53c64125c\n\
  Signed-off-by: Tetsuo Handa <penguin-kernel@I-love.SAKURA.ne.jp>\nAcked-by: Jiri\
  \ Slaby <jirislaby@kernel.org>\nLink: https://lore.kernel.org/r/d775ae2d-a2ac-439e-8e2b-134749f60f30@I-love.SAKURA.ne.jp\n\
  Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>\n"
submodule:
- drivers/tty/serial
hunk_count: 1
covered_count: 1
