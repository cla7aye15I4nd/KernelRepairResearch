id: 2a99a1bb75e9116ec20c
bug_link: https://syzkaller.appspot.com/bug?extid=2a99a1bb75e9116ec20c
title: 'KASAN: use-after-free Read in blkdev_bio_end_io'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 99c79f6692ccdc42e04deea8a36e22bb48168a62
fix_commit: 7b6620d7db566a46f49b4b9deab9fa061fd4b59b
datetime: '2019-08-15T11:09:16-06:00'
fix_commit_message: 'block: remove REQ_NOWAIT_INLINE


  We had a few issues with this code, and there''s still a problem around

  how we deal with error handling for chained/split bios. For now, just

  revert the code and we''ll try again with a thoroug solution. This

  reverts commits:


  e15c2ffa1091 ("block: fix O_DIRECT error handling for bio fragments")

  0eb6ddfb865c ("block: Fix __blkdev_direct_IO() for bio fragments")

  6a43074e2f46 ("block: properly handle IOCB_NOWAIT for async O_DIRECT IO")

  893a1c97205a ("blk-mq: allow REQ_NOWAIT to return an error inline")


  Signed-off-by: Jens Axboe <axboe@kernel.dk>

  '
submodule:
- block
- fs
- include/linux
hunk_count: 11
covered_count: 6
