id: 3cca837c2183f8f6fcaf
bug_link: https://syzkaller.appspot.com/bug?extid=3cca837c2183f8f6fcaf
title: 'WARNING: locking bug in srcu_gp_start_if_needed'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 6ba59ff4227927d3a8530fc2973b80e94b54d58f
fix_commit: f770a6e9a3d7a90f77863b51325614f37a57fef5
datetime: '2024-06-19T18:27:23-04:00'
fix_commit_message: 'bcachefs: Fix initialization order for srcu barrier


  btree_iter_init() needs to happen before key_cache_init(), to initialize

  btree_trans_barrier


  Reported-by: syzbot+3cca837c2183f8f6fcaf@syzkaller.appspotmail.com

  Signed-off-by: Kent Overstreet <kent.overstreet@linux.dev>

  '
submodule:
- fs/bcachefs
hunk_count: 1
covered_count: 0
