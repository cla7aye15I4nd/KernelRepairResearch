id: 79e6bbabf3ce17357969
bug_link: https://syzkaller.appspot.com/bug?extid=79e6bbabf3ce17357969
title: possible deadlock in jbd2_journal_lock_updates
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 2b96b4a5d9443ca4cad58b0040be455803c05a42
fix_commit: 62913ae96de747091c4dacd06d158e7729c1a76d
datetime: '2023-03-11T00:44:24-05:00'
fix_commit_message: 'ext4, jbd2: add an optimized bmap for the journal inode


  The generic bmap() function exported by the VFS takes locks and does

  checks that are not necessary for the journal inode.  So allow the

  file system to set a journal-optimized bmap function in

  journal->j_bmap.


  Reported-by: syzbot+9543479984ae9e576000@syzkaller.appspotmail.com

  Link: https://syzkaller.appspot.com/bug?id=e4aaa78795e490421c79f76ec3679006c8ff4cf0

  Signed-off-by: Theodore Ts''o <tytso@mit.edu>

  '
submodule:
- fs/ext4
- fs/jbd2
- include/linux
hunk_count: 4
covered_count: 1
