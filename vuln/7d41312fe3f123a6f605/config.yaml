id: 7d41312fe3f123a6f605
bug_link: https://syzkaller.appspot.com/bug?extid=7d41312fe3f123a6f605
title: 'KASAN: null-ptr-deref Write in __pm_runtime_resume'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 8bba13b1d08d42e2e8308924fa5c1551a7b2b011
fix_commit: 2fc7acb69fa3573d4bf7a90c323296d840daf330
datetime: '2021-09-10T09:38:43+02:00'
fix_commit_message: 'Bluetooth: hci_uart: fix GPF in h5_recv


  Syzbot hit general protection fault in h5_recv(). The problem was in

  missing NULL check.


  hu->serdev can be NULL and we cannot blindly pass &serdev->dev

  somewhere, since it can cause GPF.


  Fixes: d9dd833cf6d2 ("Bluetooth: hci_h5: Add runtime suspend")

  Reported-and-tested-by: syzbot+7d41312fe3f123a6f605@syzkaller.appspotmail.com

  Signed-off-by: Pavel Skripkin <paskripkin@gmail.com>

  Signed-off-by: Marcel Holtmann <marcel@holtmann.org>

  '
submodule:
- drivers/bluetooth
hunk_count: 1
covered_count: 1
