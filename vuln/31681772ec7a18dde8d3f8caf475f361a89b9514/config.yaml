id: 31681772ec7a18dde8d3f8caf475f361a89b9514
bug_link: https://syzkaller.appspot.com/bug?extid=31681772ec7a18dde8d3f8caf475f361a89b9514
title: 'BUG: unable to handle kernel paging request in snd_seq_oss_readq_puts'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 3510c7aa069aa83a2de6dab2b41401a198317bdc
fix_commit: 132d358b183ac6ad8b3fea32ad5e0663456d18d1
datetime: '2017-11-07T16:05:24+01:00'
fix_commit_message: 'ALSA: seq: Fix OSS sysex delivery in OSS emulation


  The SYSEX event delivery in OSS sequencer emulation assumed that the

  event is encoded in the variable-length data with the straight

  buffering.  This was the normal behavior in the past, but during the

  development, the chained buffers were introduced for carrying more

  data, while the OSS code was left intact.  As a result, when a SYSEX

  event with the chained buffer data is passed to OSS sequencer port,

  it may end up with the wrong memory access, as if it were having a too

  large buffer.


  This patch addresses the bug, by applying the buffer data expansion by

  the generic snd_seq_dump_var_event() helper function.


  Reported-by: syzbot <syzkaller@googlegroups.com>

  Reported-by: Mark Salyzyn <salyzyn@android.com>

  Cc: <stable@vger.kernel.org>

  Signed-off-by: Takashi Iwai <tiwai@suse.de>

  '
submodule:
- sound/core/seq/oss
hunk_count: 3
covered_count: 2
