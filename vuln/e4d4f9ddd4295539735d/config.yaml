id: e4d4f9ddd4295539735d
bug_link: https://syzkaller.appspot.com/bug?extid=e4d4f9ddd4295539735d
title: 'WARNING: kmalloc bug in tun_device_event'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 909ebd5840d158670eb88b2f73e9d38a894f28e2
fix_commit: 6e6e41c3112276288ccaf80c70916779b84bb276
datetime: '2018-02-09T14:28:57-05:00'
fix_commit_message: 'ptr_ring: fail early if queue occupies more than KMALLOC_MAX_SIZE


  To avoid slab to warn about exceeded size, fail early if queue

  occupies more than KMALLOC_MAX_SIZE.


  Reported-by: syzbot+e4d4f9ddd4295539735d@syzkaller.appspotmail.com

  Fixes: 2e0ab8ca83c12 ("ptr_ring: array based FIFO for pointers")

  Signed-off-by: Jason Wang <jasowang@redhat.com>

  Acked-by: Michael S. Tsirkin <mst@redhat.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- include/linux
hunk_count: 1
covered_count: 1
