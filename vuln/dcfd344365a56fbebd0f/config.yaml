id: dcfd344365a56fbebd0f
bug_link: https://syzkaller.appspot.com/bug?extid=dcfd344365a56fbebd0f
title: 'KASAN: use-after-free Read in ucma_close'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 2975d5de6428ff6d9317e9948f0968f7d42e5d74
fix_commit: ed65a4dc22083e73bac599ded6a262318cad7baf
datetime: '2018-03-19T14:01:35-06:00'
fix_commit_message: 'RDMA/ucma: Fix use-after-free access in ucma_close


  The error in ucma_create_id() left ctx in the list of contexts belong

  to ucma file descriptor. The attempt to close this file descriptor causes

  to use-after-free accesses while iterating over such list.


  Fixes: 75216638572f ("RDMA/cma: Export rdma cm interface to userspace")

  Reported-by: <syzbot+dcfd344365a56fbebd0f@syzkaller.appspotmail.com>

  Signed-off-by: Leon Romanovsky <leonro@mellanox.com>

  Reviewed-by: Sean Hefty <sean.hefty@intel.com>

  Signed-off-by: Jason Gunthorpe <jgg@mellanox.com>

  '
submodule:
- drivers/infiniband/core
hunk_count: 1
covered_count: 1
