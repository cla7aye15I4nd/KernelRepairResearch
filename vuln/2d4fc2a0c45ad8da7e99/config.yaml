id: 2d4fc2a0c45ad8da7e99
bug_link: https://syzkaller.appspot.com/bug?extid=2d4fc2a0c45ad8da7e99
title: 'KASAN: use-after-free Read in si470x_int_in_callback'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 3cec570b6d9c371bef1688a00ceb039aa4221fb7
fix_commit: 0d616f2a3fdbf1304db44d451d9f07008556923b
datetime: '2019-08-19T12:08:06-03:00'
fix_commit_message: 'media: radio/si470x: kill urb on error


  In the probe() function radio->int_in_urb was not killed if an

  error occurred in the probe sequence. It was also missing in

  the disconnect.


  This caused this syzbot issue:


  https://syzkaller.appspot.com/bug?extid=2d4fc2a0c45ad8da7e99


  Reported-and-tested-by: syzbot+2d4fc2a0c45ad8da7e99@syzkaller.appspotmail.com


  Signed-off-by: Hans Verkuil <hverkuil-cisco@xs4all.nl>

  Signed-off-by: Mauro Carvalho Chehab <mchehab+samsung@kernel.org>

  '
submodule:
- drivers/media/radio/si470x
hunk_count: 3
covered_count: 2
