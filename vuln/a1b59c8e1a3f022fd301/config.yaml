id: a1b59c8e1a3f022fd301
bug_link: https://syzkaller.appspot.com/bug?extid=a1b59c8e1a3f022fd301
title: general protection fault in bch2_alloc_read
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 573ddcdc56077615f8db045cd06b44dd8fc01f4b
fix_commit: a319aeaebb6c7d8e68125943d454031b27d6b3ef
datetime: '2024-10-13T17:55:33-04:00'
fix_commit_message: 'bcachefs: Fix missing bounds checks in bch2_alloc_read()


  We were checking that the alloc key was for a valid device, but not a

  valid bucket.


  This is the upgrade path from versions prior to bcachefs being mainlined.


  Reported-by: syzbot+a1b59c8e1a3f022fd301@syzkaller.appspotmail.com

  Signed-off-by: Kent Overstreet <kent.overstreet@linux.dev>

  '
submodule:
- fs/bcachefs
hunk_count: 1
covered_count: 1
