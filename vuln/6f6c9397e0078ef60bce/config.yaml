id: 6f6c9397e0078ef60bce
bug_link: https://syzkaller.appspot.com/bug?extid=6f6c9397e0078ef60bce
title: general protection fault in exfat_init_ext_entry
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: feffde684ac29a3b7aec82d2df850fbdbdee55e4
fix_commit: 70465acbb0ce1bb69447acf32f136c8153cda0de
datetime: '2024-12-17T20:21:59+09:00'
fix_commit_message: 'exfat: fix exfat_find_empty_entry() not returning error on failure


  On failure, "dentry" is the error code. If the error code indicates

  that there is no space, a new cluster may need to be allocated; for

  other errors, it should be returned directly.


  Only on success, "dentry" is the index of the directory entry, and

  it needs to be converted into the directory entry index within the

  cluster where it is located.


  Fixes: 8a3f5711ad74 ("exfat: reduce FAT chain traversal")

  Reported-by: syzbot+6f6c9397e0078ef60bce@syzkaller.appspotmail.com

  Tested-by: syzbot+6f6c9397e0078ef60bce@syzkaller.appspotmail.com

  Signed-off-by: Yuezhang Mo <Yuezhang.Mo@sony.com>

  Reviewed-by: Sungjong Seo <sj1557.seo@samsung.com>

  Signed-off-by: Namjae Jeon <linkinjeon@kernel.org>

  '
submodule:
- fs/exfat
hunk_count: 1
covered_count: 0
