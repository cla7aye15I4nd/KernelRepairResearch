id: 95e4ef83a3024384ec7a
bug_link: https://syzkaller.appspot.com/bug?extid=95e4ef83a3024384ec7a
title: kernel BUG in trace_dma_unmap_sg
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: b348b6d17fd1d5d89b86db602f02bea54a754bd8
fix_commit: bfc4a245a794841cba5cf287034a0f60d3087402
datetime: '2024-09-26T20:08:12+02:00'
fix_commit_message: 'dma-mapping: fix DMA API tracing for chained scatterlists


  scatterlist allocations can be chained, and thus all iterations need to

  use the chain-aware iterators.  Switch the newly added tracing to use the

  proper iterators so that they work with chained scatterlists.


  Fixes: 038eb433dc14 ("dma-mapping: add tracing for dma-mapping API calls")

  Reported-by: syzbot+95e4ef83a3024384ec7a@syzkaller.appspotmail.com

  Signed-off-by: Christoph Hellwig <hch@lst.de>

  Reviewed-by: Sean Anderson <sean.anderson@linux.dev>

  Tested-by: syzbot+95e4ef83a3024384ec7a@syzkaller.appspotmail.com

  '
submodule:
- include/trace/events
hunk_count: 6
covered_count: 4
