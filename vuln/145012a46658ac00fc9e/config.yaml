id: 145012a46658ac00fc9e
bug_link: https://syzkaller.appspot.com/bug?extid=145012a46658ac00fc9e
title: 'KASAN: use-after-free Read in line6_submit_audio_in_all_urbs'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 6e8a914ad619042c5f25a4feb663357c4170fd8d
fix_commit: 68359a1ad8447c99732ebeab8c169bfed543667a
datetime: '2020-07-10T16:29:38+02:00'
fix_commit_message: 'ALSA: line6: Sync the pending work cancel at disconnection


  Recently syzkaller reported a UAF in LINE6 driver, and it''s likely

  because we call cancel_delayed_work() at the disconnect callback

  instead of cancel_delayed_work_sync().  Let''s use the correct one

  instead.


  Reported-by: syzbot+145012a46658ac00fc9e@syzkaller.appspotmail.com

  Suggested-by: Alan Stern <stern@rowland.harvard.edu>

  Cc: <stable@vger.kernel.org>

  Link: https://lore.kernel.org/r/s5hlfjr4gio.wl-tiwai@suse.de

  Signed-off-by: Takashi Iwai <tiwai@suse.de>

  '
submodule:
- sound/usb/line6
hunk_count: 1
covered_count: 1
