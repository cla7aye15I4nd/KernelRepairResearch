diff --git a/fs/f2fs/inline.c b/fs/f2fs/inline.c
index 0203c3baabb6..1fba5728be70 100644
--- a/fs/f2fs/inline.c
+++ b/fs/f2fs/inline.c
@@ -221,8 +221,10 @@ int f2fs_convert_inline_inode(struct inode *inode)
 	struct page *ipage, *page;
 	int err = 0;
 
-	if (!f2fs_has_inline_data(inode) ||
-			f2fs_hw_is_readonly(sbi) || f2fs_readonly(sbi->sb))
+	if (f2fs_hw_is_readonly(sbi) || f2fs_readonly(sbi->sb))
+		return -EROFS;
+
+	if (!f2fs_has_inline_data(inode))
 		return 0;
 
 	err = f2fs_dquot_initialize(inode);
