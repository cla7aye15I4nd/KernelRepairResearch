id: 017a32f149406df32703
bug_link: https://syzkaller.appspot.com/bug?extid=017a32f149406df32703
title: 'BUG: unable to handle kernel paging request in h4_recv_buf'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 37c589ec289bbf5c3a506c9da259986bd63c40e9
fix_commit: 1dc2d785156cbdc80806c32e8d2c7c735d0b4721
datetime: '2019-01-22T09:51:19+01:00'
fix_commit_message: 'Bluetooth: hci_uart: Check if socket buffer is ERR_PTR in h4_recv_buf()


  h4_recv_buf() callers store the return value to socket buffer and

  recursively pass the buffer to h4_recv_buf() without protection. So,

  ERR_PTR returned from h4_recv_buf() can be dereferenced, if called again

  before setting the socket buffer to NULL from previous error. Check if

  skb is ERR_PTR in h4_recv_buf().


  Reported-by: syzbot+017a32f149406df32703@syzkaller.appspotmail.com

  Signed-off-by: Myungho Jung <mhjungk@gmail.com>

  Signed-off-by: Marcel Holtmann <marcel@holtmann.org>

  '
submodule:
- drivers/bluetooth
hunk_count: 2
covered_count: 1
