id: 376cea2b0ef340db3dd4
bug_link: https://syzkaller.appspot.com/bug?extid=376cea2b0ef340db3dd4
title: 'KASAN: slab-out-of-bounds Read in string (2)'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 69383c5913a5d74b4aa7e2b78a5cf14ebfbba538
fix_commit: 601350ff58d5415a001769532f6b8333820e5786
datetime: '2018-10-04T14:49:10+02:00'
fix_commit_message: 'ovl: fix access beyond unterminated strings


  KASAN detected slab-out-of-bounds access in printk from overlayfs,

  because string format used %*s instead of %.*s.


  > BUG: KASAN: slab-out-of-bounds in string+0x298/0x2d0 lib/vsprintf.c:604

  > Read of size 1 at addr ffff8801c36c66ba by task syz-executor2/27811

  >

  > CPU: 0 PID: 27811 Comm: syz-executor2 Not tainted 4.19.0-rc5+ #36

  ...

  >  printk+0xa7/0xcf kernel/printk/printk.c:1996

  >  ovl_lookup_index.cold.15+0xe8/0x1f8 fs/overlayfs/namei.c:689


  Reported-by: syzbot+376cea2b0ef340db3dd4@syzkaller.appspotmail.com

  Signed-off-by: Amir Goldstein <amir73il@gmail.com>

  Signed-off-by: Miklos Szeredi <mszeredi@redhat.com>

  Fixes: 359f392ca53e ("ovl: lookup index entry for copy up origin")

  Cc: <stable@vger.kernel.org> # v4.13

  '
submodule:
- fs/overlayfs
hunk_count: 1
covered_count: 1
