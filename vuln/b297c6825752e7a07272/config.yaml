id: b297c6825752e7a07272
bug_link: https://syzkaller.appspot.com/bug?extid=b297c6825752e7a07272
title: 'WARNING: ODEBUG bug in smc_ib_remove_dev'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 60380488e4e0b95e9e82aa68aa9705baa86de84c
fix_commit: ece0d7bd74615773268475b6b64d6f1ebbd4b4c6
datetime: '2020-03-10T15:40:33-07:00'
fix_commit_message: 'net/smc: cancel event worker during device removal


  During IB device removal, cancel the event worker before the device

  structure is freed.


  Fixes: a4cf0443c414 ("smc: introduce SMC as an IB-client")

  Reported-by: syzbot+b297c6825752e7a07272@syzkaller.appspotmail.com

  Signed-off-by: Karsten Graul <kgraul@linux.ibm.com>

  Reviewed-by: Ursula Braun <ubraun@linux.ibm.com>

  Reviewed-by: Leon Romanovsky <leonro@mellanox.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/smc
hunk_count: 1
covered_count: 1
