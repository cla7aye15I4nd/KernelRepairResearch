id: abd45eb849b05194b1b6
bug_link: https://syzkaller.appspot.com/bug?extid=abd45eb849b05194b1b6
title: WARNING in tls_strp_done
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: de64b6b6fb6f369840d171b7c5a9baf31b8b2630
fix_commit: 849f16bbfb686cf75e67c536d196027fa8bfc803
datetime: '2022-08-17T10:24:00+01:00'
fix_commit_message: 'tls: rx: react to strparser initialization errors


  Even though the normal strparser''s init function has a return

  value we got away with ignoring errors until now, as it only

  validates the parameters and we were passing correct parameters.


  tls_strp can fail to init on memory allocation errors, which

  syzbot duly induced and reported.


  Reported-by: syzbot+abd45eb849b05194b1b6@syzkaller.appspotmail.com

  Fixes: 84c61fe1a75b ("tls: rx: do not use the standard strparser")

  Signed-off-by: Jakub Kicinski <kuba@kernel.org>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/tls
hunk_count: 1
covered_count: 0
