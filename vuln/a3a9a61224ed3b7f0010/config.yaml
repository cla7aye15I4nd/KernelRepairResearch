id: a3a9a61224ed3b7f0010
bug_link: https://syzkaller.appspot.com/bug?extid=a3a9a61224ed3b7f0010
title: 'WARNING: suspicious RCU usage in bch2_fs_quota_read'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 0ec5b3b7ccfcdca02ab322abf86455d0050ae98f
fix_commit: 8060bf1d83f7d404bacb0e5a38f2d4d8f4c9dfb7
datetime: '2024-05-06T10:58:17-04:00'
fix_commit_message: 'bcachefs: Fix snapshot_t() usage in bch2_fs_quota_read_inode()


  bch2_fs_quota_read_inode() wasn''t entirely updated to the

  bch2_snapshot_tree() helper, which takes rcu lock.


  Reported-by: syzbot+a3a9a61224ed3b7f0010@syzkaller.appspotmail.com

  Signed-off-by: Kent Overstreet <kent.overstreet@linux.dev>

  '
submodule:
- fs/bcachefs
hunk_count: 1
covered_count: 1
