id: 13bef047dbfffa5cd1af
bug_link: https://syzkaller.appspot.com/bug?extid=13bef047dbfffa5cd1af
title: 'KASAN: use-after-free Read in inet_diag_bc_sk'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: f166f890c8f026a931e1bb80f51561a1d2f41b27
fix_commit: ee1bd483cc062d5050f9537064651dd2e06baee7
datetime: '2020-05-02T16:42:51-07:00'
fix_commit_message: 'inet_diag: bc: read cgroup id only for full sockets


  Fix bug introduced by commit b1f3e43dbfac ("inet_diag: add support for

  cgroup filter").


  Signed-off-by: Dmitry Yakunin <zeil@yandex-team.ru>

  Reported-by: syzbot+ee80f840d9bf6893223b@syzkaller.appspotmail.com

  Reported-by: syzbot+13bef047dbfffa5cd1af@syzkaller.appspotmail.com

  Fixes: b1f3e43dbfac ("inet_diag: add support for cgroup filter")

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/ipv4
hunk_count: 1
covered_count: 1
