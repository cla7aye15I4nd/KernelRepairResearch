id: 7ec324747ce876a29db6
bug_link: https://syzkaller.appspot.com/bug?extid=7ec324747ce876a29db6
title: memory leak in cfserl_create
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: a2805dca5107d5603f4bbc027e81e20d93476e96
fix_commit: b53558a950a89824938e9811eddfc8efcd94e1bb
datetime: '2021-06-03T15:05:07-07:00'
fix_commit_message: 'net: caif: fix memory leak in caif_device_notify


  In case of caif_enroll_dev() fail, allocated

  link_support won''t be assigned to the corresponding

  structure. So simply free allocated pointer in case

  of error


  Fixes: 7c18d2205ea7 ("caif: Restructure how link caif link layer enroll")

  Cc: stable@vger.kernel.org

  Reported-and-tested-by: syzbot+7ec324747ce876a29db6@syzkaller.appspotmail.com

  Signed-off-by: Pavel Skripkin <paskripkin@gmail.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/caif
hunk_count: 2
covered_count: 2
