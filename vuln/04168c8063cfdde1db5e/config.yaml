id: 04168c8063cfdde1db5e
bug_link: https://syzkaller.appspot.com/bug?extid=04168c8063cfdde1db5e
title: 'BUG: unable to handle kernel paging request in vga16fb_fillrect'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 87fd9ef47597b2fcee3264eb5f288410b9f376d5
fix_commit: 8c28051cdcbe9dfcec6bd0a4709d67a09df6edae
datetime: '2021-09-08T18:52:04+02:00'
fix_commit_message: "fbmem: don't allow too huge resolutions\n\nsyzbot is reporting\
  \ page fault at vga16fb_fillrect() [1], for\nvga16fb_check_var() is failing to detect\
  \ multiplication overflow.\n\n  if (vxres * vyres > maxmem) {\n    vyres = maxmem\
  \ / vxres;\n    if (vyres < yres)\n      return -ENOMEM;\n  }\n\nSince no module\
  \ would accept too huge resolutions where multiplication\noverflow happens, let's\
  \ reject in the common path.\n\nLink: https://syzkaller.appspot.com/bug?extid=04168c8063cfdde1db5e\
  \ [1]\nReported-by: syzbot <syzbot+04168c8063cfdde1db5e@syzkaller.appspotmail.com>\n\
  Debugged-by: Randy Dunlap <rdunlap@infradead.org>\nSigned-off-by: Tetsuo Handa <penguin-kernel@I-love.SAKURA.ne.jp>\n\
  Reviewed-by: Geert Uytterhoeven <geert+renesas@glider.be>\nCc: stable@vger.kernel.org\n\
  Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>\nLink: https://patchwork.freedesktop.org/patch/msgid/185175d6-227a-7b55-433d-b070929b262c@i-love.sakura.ne.jp\n"
submodule:
- drivers/video/fbdev/core
hunk_count: 2
covered_count: 0
