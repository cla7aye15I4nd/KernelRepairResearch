id: 3f6ef1c4586bb6fd1f61
bug_link: https://syzkaller.appspot.com/bug?extid=3f6ef1c4586bb6fd1f61
title: 'BUG: unable to handle kernel paging request in ovl_set_acl'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 16257cf6658d5bde2a055caf48f143c255abade7
fix_commit: 5b52aebef8954cadff29918bb61d7fdc7be07837
datetime: '2022-11-03T08:18:46+01:00'
fix_commit_message: 'ovl: call posix_acl_release() after error checking


  The current placement of posix_acl_release() in ovl_set_or_remove_acl()

  means it can be called on an error pointer instead of actual acls.

  Fix this by moving the posix_acl_release() call after the error handling.


  Fixes: 0e641857322f ("ovl: implement set acl method") # mainline only

  Reported-by: syzbot+3f6ef1c4586bb6fd1f61@syzkaller.appspotmail.com

  Signed-off-by: Christian Brauner (Microsoft) <brauner@kernel.org>

  '
submodule:
- fs/overlayfs
hunk_count: 1
covered_count: 1
