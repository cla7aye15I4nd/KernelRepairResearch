id: 03fd9b3f71641f0ebf2d
bug_link: https://syzkaller.appspot.com/bug?extid=03fd9b3f71641f0ebf2d
title: WARNING in get_pte_pfn
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 4bdd58df05cf9df0c0e43daaa83e73d77629c252
fix_commit: c28ac3c7eb945fee6e20f47d576af68fdff1392a
datetime: '2023-12-29T11:06:48-08:00'
fix_commit_message: 'mm/mglru: skip special VMAs in lru_gen_look_around()


  Special VMAs like VM_PFNMAP can contain anon pages from COW.  There isn''t

  much profit in doing lookaround on them.  Besides, they can trigger the

  pte_special() warning in get_pte_pfn().


  Skip them in lru_gen_look_around().


  Link: https://lkml.kernel.org/r/20231223045647.1566043-1-yuzhao@google.com

  Fixes: 018ee47f1489 ("mm: multi-gen LRU: exploit locality in rmap")

  Signed-off-by: Yu Zhao <yuzhao@google.com>

  Reported-by: syzbot+03fd9b3f71641f0ebf2d@syzkaller.appspotmail.com

  Closes: https://lore.kernel.org/000000000000f9ff00060d14c256@google.com/

  Cc: <stable@vger.kernel.org>

  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>

  '
submodule:
- mm
hunk_count: 4
covered_count: 4
