id: e820fdc8ce362f2dea51
bug_link: https://syzkaller.appspot.com/bug?extid=e820fdc8ce362f2dea51
title: 'KMSAN: uninit-value in __tipc_nl_bearer_enable'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 6e1ff618737a2ffa12191dcd99f83ef07fac2e45
fix_commit: 7f36f798f89bf32c0164049cb0e3fd1af613d0bb
datetime: '2022-06-02T10:14:24-07:00'
fix_commit_message: "tipc: check attribute length for bearer name\n\nsyzbot reported\
  \ uninit-value:\n=====================================================\nBUG: KMSAN:\
  \ uninit-value in string_nocheck lib/vsprintf.c:644 [inline]\nBUG: KMSAN: uninit-value\
  \ in string+0x4f9/0x6f0 lib/vsprintf.c:725\n string_nocheck lib/vsprintf.c:644 [inline]\n\
  \ string+0x4f9/0x6f0 lib/vsprintf.c:725\n vsnprintf+0x2222/0x3650 lib/vsprintf.c:2806\n\
  \ vprintk_store+0x537/0x2150 kernel/printk/printk.c:2158\n vprintk_emit+0x28b/0xab0\
  \ kernel/printk/printk.c:2256\n vprintk_default+0x86/0xa0 kernel/printk/printk.c:2283\n\
  \ vprintk+0x15f/0x180 kernel/printk/printk_safe.c:50\n _printk+0x18d/0x1cf kernel/printk/printk.c:2293\n\
  \ tipc_enable_bearer net/tipc/bearer.c:371 [inline]\n __tipc_nl_bearer_enable+0x2022/0x22a0\
  \ net/tipc/bearer.c:1033\n tipc_nl_bearer_enable+0x6c/0xb0 net/tipc/bearer.c:1042\n\
  \ genl_family_rcv_msg_doit net/netlink/genetlink.c:731 [inline]\n\n- Do sanity check\
  \ the attribute length for TIPC_NLA_BEARER_NAME.\n- Do not use 'illegal name' in\
  \ printing message.\n\nReported-by: syzbot+e820fdc8ce362f2dea51@syzkaller.appspotmail.com\n\
  Fixes: cb30a63384bc (\"tipc: refactor function tipc_enable_bearer()\")\nAcked-by:\
  \ Jon Maloy <jmaloy@redhat.com>\nSigned-off-by: Hoang Le <hoang.h.le@dektech.com.au>\n\
  Link: https://lore.kernel.org/r/20220602063053.5892-1-hoang.h.le@dektech.com.au\n\
  Signed-off-by: Jakub Kicinski <kuba@kernel.org>\n"
submodule:
- net/tipc
hunk_count: 1
covered_count: 0
