id: 0b1279812c46e48bb0c1
bug_link: https://syzkaller.appspot.com/bug?extid=0b1279812c46e48bb0c1
title: general protection fault in fuse_do_readpage
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 90655ee279b299c33dc51be87787b54222d3d2fb
fix_commit: 3a23787ca8756920d65fda39f41353a4be1d1642
datetime: '2024-11-18T18:50:13+08:00'
fix_commit_message: "erofs: fix file-backed mounts over FUSE\n\nsyzbot reported a\
  \ null-ptr-deref in fuse_read_args_fill:\n fuse_read_folio+0xb0/0x100 fs/fuse/file.c:905\n\
  \ filemap_read_folio+0xc6/0x2a0 mm/filemap.c:2367\n do_read_cache_folio+0x263/0x5c0\
  \ mm/filemap.c:3825\n read_mapping_folio include/linux/pagemap.h:1011 [inline]\n\
  \ erofs_bread+0x34d/0x7e0 fs/erofs/data.c:41\n erofs_read_superblock fs/erofs/super.c:281\
  \ [inline]\n erofs_fc_fill_super+0x2b9/0x2500 fs/erofs/super.c:625\n\nUnlike most\
  \ filesystems, some network filesystems and FUSE need\nunavoidable valid `file`\
  \ pointers for their read I/Os [1].\nAnyway, those use cases need to be supported\
  \ too.\n\n[1] https://docs.kernel.org/filesystems/vfs.html\n\nReported-by: syzbot+0b1279812c46e48bb0c1@syzkaller.appspotmail.com\n\
  Closes: https://lore.kernel.org/r/6727bbdf.050a0220.3c8d68.0a7e.GAE@google.com\n\
  Fixes: fb176750266a (\"erofs: add file-backed mount support\")\nTested-by: syzbot+0b1279812c46e48bb0c1@syzkaller.appspotmail.com\n\
  Signed-off-by: Gao Xiang <hsiangkao@linux.alibaba.com>\nLink: https://lore.kernel.org/r/20241114234905.1873723-1-hsiangkao@linux.alibaba.com\n"
submodule:
- fs/erofs
hunk_count: 3
covered_count: 2
