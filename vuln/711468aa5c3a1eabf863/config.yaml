id: 711468aa5c3a1eabf863
bug_link: https://syzkaller.appspot.com/bug?extid=711468aa5c3a1eabf863
title: WARNING in port100_send_cmd_async/usb_submit_urb
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 48a322b6f9965b2f1e4ce81af972f0e287b07ed0
fix_commit: 5f9f0b11f0816b35867f2cf71e54d95f53f03902
datetime: '2019-11-21T11:48:17-08:00'
fix_commit_message: 'nfc: port100: handle command failure cleanly


  If starting the transfer of a command suceeds but the transfer for the reply

  fails, it is not enough to initiate killing the transfer for the

  command may still be running. You need to wait for the killing to finish

  before you can reuse URB and buffer.


  Reported-and-tested-by: syzbot+711468aa5c3a1eabf863@syzkaller.appspotmail.com

  Signed-off-by: Oliver Neukum <oneukum@suse.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- drivers/nfc
hunk_count: 1
covered_count: 1
