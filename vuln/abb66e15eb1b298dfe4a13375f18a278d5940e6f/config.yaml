id: abb66e15eb1b298dfe4a13375f18a278d5940e6f
bug_link: https://syzkaller.appspot.com/bug?extid=abb66e15eb1b298dfe4a13375f18a278d5940e6f
title: WARNING in skb_warn_bad_offload
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: c9f1f58dc2eba550f208809d272bf0b14f41edba
fix_commit: 8d74e9f88d65af8bb2e095aff506aa6eac755ada
datetime: '2017-12-13T15:14:10-05:00'
fix_commit_message: 'net: avoid skb_warn_bad_offload on IS_ERR


  skb_warn_bad_offload warns when packets enter the GSO stack that

  require skb_checksum_help or vice versa. Do not warn on arbitrary

  bad packets. Packet sockets can craft many. Syzkaller was able to

  demonstrate another one with eth_type games.


  In particular, suppress the warning when segmentation returns an

  error, which is for reasons other than checksum offload.


  See also commit 36c92474498a ("net: WARN if skb_checksum_help() is

  called on skb requiring segmentation") for context on this warning.


  Signed-off-by: Willem de Bruijn <willemb@google.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/core
hunk_count: 1
covered_count: 1
