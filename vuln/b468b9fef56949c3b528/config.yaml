id: b468b9fef56949c3b528
bug_link: https://syzkaller.appspot.com/bug?extid=b468b9fef56949c3b528
title: 'KASAN: null-ptr-deref Read in bch2_sb_set_upgrade_extra'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 5c41f75d1b921b9eaf79588cdd3b22b00fb4ec52
fix_commit: a25a83de45b435cf89e55c7fb8733f83c7826004
datetime: '2024-10-25T13:17:06-04:00'
fix_commit_message: 'bcachefs: fix null-ptr-deref in have_stripes()


  c->btree_roots_known[i].b can be NULL. In this case, a NULL pointer dereference

  occurs, so you need to add code to check the variable.


  Reported-by: syzbot+b468b9fef56949c3b528@syzkaller.appspotmail.com

  Fixes: 7773df19c35f ("bcachefs: metadata version bucket_stripe_sectors")

  Signed-off-by: Jeongjun Park <aha310510@gmail.com>

  Signed-off-by: Kent Overstreet <kent.overstreet@linux.dev>

  '
submodule:
- fs/bcachefs
hunk_count: 1
covered_count: 1
