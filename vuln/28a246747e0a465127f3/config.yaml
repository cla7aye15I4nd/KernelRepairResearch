id: 28a246747e0a465127f3
bug_link: https://syzkaller.appspot.com/bug?extid=28a246747e0a465127f3
title: memory leak in atusb_probe
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 622d13694b5f048c01caa7ba548498d9880d4cb0
fix_commit: 6b9fbe16955152626557ec6f439f3407b7769941
datetime: '2021-04-01T15:46:45-07:00'
fix_commit_message: "drivers: net: fix memory leak in atusb_probe\n\nsyzbot reported\
  \ memory leak in atusb_probe()[1].\nThe problem was in atusb_alloc_urbs().\nSince\
  \ urb is anchored, we need to release the reference\nto correctly free the urb\n\
  \nbacktrace:\n    [<ffffffff82ba0466>] kmalloc include/linux/slab.h:559 [inline]\n\
  \    [<ffffffff82ba0466>] usb_alloc_urb+0x66/0xe0 drivers/usb/core/urb.c:74\n  \
  \  [<ffffffff82ad3888>] atusb_alloc_urbs drivers/net/ieee802154/atusb.c:362 [inline][2]\n\
  \    [<ffffffff82ad3888>] atusb_probe+0x158/0x820 drivers/net/ieee802154/atusb.c:1038\
  \ [1]\n\nReported-by: syzbot+28a246747e0a465127f3@syzkaller.appspotmail.com\nSigned-off-by:\
  \ Pavel Skripkin <paskripkin@gmail.com>\nSigned-off-by: David S. Miller <davem@davemloft.net>\n"
submodule:
- drivers/net/ieee802154
hunk_count: 1
covered_count: 1
