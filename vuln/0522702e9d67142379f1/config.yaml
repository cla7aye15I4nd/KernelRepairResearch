id: 0522702e9d67142379f1
bug_link: https://syzkaller.appspot.com/bug?extid=0522702e9d67142379f1
title: 'KMSAN: kernel-usb-infoleak in ttusb_dec_send_command'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 6f005abb00848556a6bff1d3bc8a76f7dc2f9c24
fix_commit: a10feaf8c464c3f9cfdd3a8a7ce17e1c0d498da1
datetime: '2019-08-21T18:39:55-03:00'
fix_commit_message: 'media: ttusb-dec: Fix info-leak in ttusb_dec_send_command()


  The function at issue does not always initialize each byte allocated

  for ''b'' and can therefore leak uninitialized memory to a USB device in

  the call to usb_bulk_msg()


  Use kzalloc() instead of kmalloc()


  Signed-off-by: Tomas Bortoli <tomasbortoli@gmail.com>

  Reported-by: syzbot+0522702e9d67142379f1@syzkaller.appspotmail.com

  Signed-off-by: Sean Young <sean@mess.org>

  Signed-off-by: Mauro Carvalho Chehab <mchehab+samsung@kernel.org>

  '
submodule:
- drivers/media/usb/ttusb-dec
hunk_count: 1
covered_count: 1
