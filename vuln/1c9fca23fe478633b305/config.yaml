id: 1c9fca23fe478633b305
bug_link: https://syzkaller.appspot.com/bug?extid=1c9fca23fe478633b305
title: general protection fault in __bch2_insert_snapshot_whiteouts
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 6ce26ad376bdc65c2bc6d4ef7b8a939bf1bd19dc
fix_commit: 6d48e61364aedd774d688f28b5a6c9b5f7f0018c
datetime: '2024-05-20T05:37:26-04:00'
fix_commit_message: 'bcachefs: Add missing guard in bch2_snapshot_has_children()


  We additionally need to be going inconsistent if passed an invalid

  snapshot ID; that patch will need more thorough testing.


  Reported-by: syzbot+1c9fca23fe478633b305@syzkaller.appspotmail.com

  Signed-off-by: Kent Overstreet <kent.overstreet@linux.dev>

  '
submodule:
- fs/bcachefs
hunk_count: 1
covered_count: 1
