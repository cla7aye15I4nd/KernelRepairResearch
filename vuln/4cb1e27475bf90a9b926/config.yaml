id: 4cb1e27475bf90a9b926
bug_link: https://syzkaller.appspot.com/bug?extid=4cb1e27475bf90a9b926
title: 'KASAN: use-after-free Read in ext4_xattr_set_entry (4)'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: b6bd243500b6024d92eaaacf592ed8588c2c75ea
fix_commit: 6e47a3cc68fc525428297a00524833361ebbb0e9
datetime: '2021-12-09T14:11:07-05:00'
fix_commit_message: 'ext4: get rid of super block and sbi from handle_mount_ops()


  At the parsing phase of mount in the new mount api sb will not be

  available. We''ve already removed some uses of sb and sbi, but now we

  need to get rid of the rest of it.


  Use ext4_fs_context to store all of the configuration specification so

  that it can be later applied to the super block and sbi.


  Signed-off-by: Lukas Czerner <lczerner@redhat.com>

  Reviewed-by: Carlos Maiolino <cmaiolino@redhat.com>

  Link: https://lore.kernel.org/r/20211027141857.33657-9-lczerner@redhat.com

  Signed-off-by: Theodore Ts''o <tytso@mit.edu>

  '
submodule:
- fs/ext4
hunk_count: 22
covered_count: 0
