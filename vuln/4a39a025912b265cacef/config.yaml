id: 4a39a025912b265cacef
bug_link: https://syzkaller.appspot.com/bug?extid=4a39a025912b265cacef
title: 'KASAN: use-after-free Read in ext4_xattr_set_entry (2)'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: a70fd5ac2ea787cafe07b69dadd16b3648ad64ac
fix_commit: 9803387c55f7d2ce69aa64340c5fdc6b3027dbc8
datetime: '2019-12-15T18:05:20-05:00'
fix_commit_message: 'ext4: validate the debug_want_extra_isize mount option at parse
  time


  Instead of setting s_want_extra_size and then making sure that it is a

  valid value afterwards, validate the field before we set it.  This

  avoids races and other problems when remounting the file system.


  Link: https://lore.kernel.org/r/20191215063020.GA11512@mit.edu

  Cc: stable@kernel.org

  Signed-off-by: Theodore Ts''o <tytso@mit.edu>

  Reported-and-tested-by: syzbot+4a39a025912b265cacef@syzkaller.appspotmail.com

  '
submodule:
- fs/ext4
hunk_count: 6
covered_count: 0
