id: d50710fd0873a9c6b40c
bug_link: https://syzkaller.appspot.com/bug?extid=d50710fd0873a9c6b40c
title: WARNING in taprio_change
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: e16edc99d658cd41c60a44cc14d170697aa3271f
fix_commit: ed8157f1ebf1ae81a8fa2653e3f20d2076fad1c9
datetime: '2021-04-19T15:29:07-07:00'
fix_commit_message: 'net: sched: tapr: prevent cycle_time == 0 in parse_taprio_schedule


  There is a reproducible sequence from the userland that will trigger a WARN_ON()

  condition in taprio_get_start_time, which causes kernel to panic if configured

  as "panic_on_warn". Catch this condition in parse_taprio_schedule to

  prevent this condition.


  Reported as bug on syzkaller:

  https://syzkaller.appspot.com/bug?extid=d50710fd0873a9c6b40c


  Reported-by: syzbot+d50710fd0873a9c6b40c@syzkaller.appspotmail.com

  Signed-off-by: Du Cheng <ducheng2@gmail.com>

  Acked-by: Cong Wang <cong.wang@bytedance.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/sched
hunk_count: 1
covered_count: 0
