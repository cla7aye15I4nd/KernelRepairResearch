id: 618aacd49e8c8b8486bd
bug_link: https://syzkaller.appspot.com/bug?extid=618aacd49e8c8b8486bd
title: 'KMSAN: uninit-value in __request_module'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: b0e1ee435aba68c4080e3cb67adf6573aa5bcc6d
fix_commit: 62794fc4fbf52f2209dc094ea255eaef760e7d01
datetime: '2019-09-21T19:18:51-07:00'
fix_commit_message: 'net_sched: add max len check for TCA_KIND


  The TCA_KIND attribute is of NLA_STRING which does not check

  the NUL char. KMSAN reported an uninit-value of TCA_KIND which

  is likely caused by the lack of NUL.


  Change it to NLA_NUL_STRING and add a max len too.


  Fixes: 8b4c3cdd9dd8 ("net: sched: Add policy validation for tc attributes")

  Reported-and-tested-by: syzbot+618aacd49e8c8b8486bd@syzkaller.appspotmail.com

  Cc: Jamal Hadi Salim <jhs@mojatatu.com>

  Signed-off-by: Cong Wang <xiyou.wangcong@gmail.com>

  Reviewed-by: David Ahern <dsahern@gmail.com>

  Acked-by: Jiri Pirko <jiri@mellanox.com>

  Signed-off-by: Jakub Kicinski <jakub.kicinski@netronome.com>

  '
submodule:
- net/sched
hunk_count: 1
covered_count: 0
