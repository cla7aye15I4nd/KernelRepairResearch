id: 756199124937b31a9b7e
bug_link: https://syzkaller.appspot.com/bug?extid=756199124937b31a9b7e
title: WARNING in fat12_ent_blocknr
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 4ecfed61de766f4655025a71d79c9a0f4793a3f4
fix_commit: a090a5a7d73f79a9ae2dcc6e60d89bfc6864a65a
datetime: '2020-08-12T10:58:01-07:00'
fix_commit_message: 'fat: fix fat_ra_init() for data clusters == 0


  If data clusters == 0, fat_ra_init() calls the ->ent_blocknr() for the

  cluster beyond ->max_clusters.


  This checks the limit before initialization to suppress the warning.


  Reported-by: syzbot+756199124937b31a9b7e@syzkaller.appspotmail.com

  Signed-off-by: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>

  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>

  Link: http://lkml.kernel.org/r/87mu462sv4.fsf@mail.parknet.co.jp

  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

  '
submodule:
- fs/fat
hunk_count: 1
covered_count: 1
