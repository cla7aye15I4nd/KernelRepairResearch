id: 5705ba91388d7bc30828
bug_link: https://syzkaller.appspot.com/bug?extid=5705ba91388d7bc30828
title: 'BUG: unable to handle kernel paging request in compat_copy_entries'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: fc6a5d0601c5ac1d02f283a46f60b87b2033e5ca
fix_commit: b71812168571fa55e44cdd0254471331b9c4c4c6
datetime: '2018-02-25T20:07:33+01:00'
fix_commit_message: 'netfilter: ebtables: CONFIG_COMPAT: don''t trust userland offsets


  We need to make sure the offsets are not out of range of the

  total size.

  Also check that they are in ascending order.


  The WARN_ON triggered by syzkaller (it sets panic_on_warn) is

  changed to also bail out, no point in continuing parsing.


  Briefly tested with simple ruleset of

  -A INPUT --limit 1/s'' --log

  plus jump to custom chains using 32bit ebtables binary.


  Reported-by: <syzbot+845a53d13171abf8bf29@syzkaller.appspotmail.com>

  Signed-off-by: Florian Westphal <fw@strlen.de>

  Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>

  '
submodule:
- net/bridge
hunk_count: 2
covered_count: 2
