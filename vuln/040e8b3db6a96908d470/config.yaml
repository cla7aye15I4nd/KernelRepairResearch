id: 040e8b3db6a96908d470
bug_link: https://syzkaller.appspot.com/bug?extid=040e8b3db6a96908d470
title: WARNING in thrustmaster_probe/usb_submit_urb
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 86b05bb2d4a1e4774dafa89c3b0ecbf8f4335cf3
fix_commit: 50420d7c79c37a3efe4010ff9b1bb14bc61ebccf
datetime: '2025-01-09T09:57:35+01:00'
fix_commit_message: 'HID: hid-thrustmaster: Fix warning in thrustmaster_probe by adding
  endpoint check


  syzbot has found a type mismatch between a USB pipe and the transfer

  endpoint, which is triggered by the hid-thrustmaster driver[1].

  There is a number of similar, already fixed issues [2].

  In this case as in others, implementing check for endpoint type fixes the issue.


  [1] https://syzkaller.appspot.com/bug?extid=040e8b3db6a96908d470

  [2] https://syzkaller.appspot.com/bug?extid=348331f63b034f89b622


  Fixes: c49c33637802 ("HID: support for initialization of some Thrustmaster wheels")

  Reported-by: syzbot+040e8b3db6a96908d470@syzkaller.appspotmail.com

  Tested-by: syzbot+040e8b3db6a96908d470@syzkaller.appspotmail.com

  Signed-off-by: Karol Przybylski <karprzy7@gmail.com>

  Signed-off-by: Jiri Kosina <jkosina@suse.com>

  '
submodule:
- drivers/hid
hunk_count: 1
covered_count: 1
