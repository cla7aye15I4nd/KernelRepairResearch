id: f9964696181d44c0e2185ee46b4f88c10935cda0
bug_link: https://syzkaller.appspot.com/bug?extid=f9964696181d44c0e2185ee46b4f88c10935cda0
title: 'BUG: unable to handle kernel paging request in kvm_arch_vcpu_ioctl_run'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 21506525fb8ddb0342f2a2370812d47f6a1f3833
fix_commit: 7fb983b4dd569e08564134a850dfd4eb1c63d9b8
datetime: '2017-12-17T13:59:55+01:00'
fix_commit_message: 'x86/entry: Fix assumptions that the HW TSS is at the beginning
  of cpu_tss


  A future patch will move SYSENTER_stack to the beginning of cpu_tss

  to help detect overflow.  Before this can happen, fix several code

  paths that hardcode assumptions about the old layout.


  Signed-off-by: Andy Lutomirski <luto@kernel.org>

  Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

  Reviewed-by: Borislav Petkov <bp@suse.de>

  Reviewed-by: Dave Hansen <dave.hansen@intel.com>

  Reviewed-by: Thomas Gleixner <tglx@linutronix.de>

  Cc: Boris Ostrovsky <boris.ostrovsky@oracle.com>

  Cc: Borislav Petkov <bp@alien8.de>

  Cc: Borislav Petkov <bpetkov@suse.de>

  Cc: Brian Gerst <brgerst@gmail.com>

  Cc: Dave Hansen <dave.hansen@linux.intel.com>

  Cc: David Laight <David.Laight@aculab.com>

  Cc: Denys Vlasenko <dvlasenk@redhat.com>

  Cc: Eduardo Valentin <eduval@amazon.com>

  Cc: Greg KH <gregkh@linuxfoundation.org>

  Cc: H. Peter Anvin <hpa@zytor.com>

  Cc: Josh Poimboeuf <jpoimboe@redhat.com>

  Cc: Juergen Gross <jgross@suse.com>

  Cc: Linus Torvalds <torvalds@linux-foundation.org>

  Cc: Peter Zijlstra <peterz@infradead.org>

  Cc: Rik van Riel <riel@redhat.com>

  Cc: Will Deacon <will.deacon@arm.com>

  Cc: aliguori@amazon.com

  Cc: daniel.gruss@iaik.tugraz.at

  Cc: hughd@google.com

  Cc: keescook@google.com

  Link: https://lkml.kernel.org/r/20171204150605.722425540@linutronix.de

  Signed-off-by: Ingo Molnar <mingo@kernel.org>

  '
submodule:
- arch/x86/include/asm
- arch/x86/kernel
- arch/x86/kernel/cpu
- arch/x86/kvm
- arch/x86/power
hunk_count: 10
covered_count: 0
