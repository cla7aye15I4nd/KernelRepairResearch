id: d2d412349f88521938aa
bug_link: https://syzkaller.appspot.com/bug?extid=d2d412349f88521938aa
title: WARNING in cfg80211_change_iface
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 0391a45c800780f0aa33984542710451acd71b90
fix_commit: bae173563cbf469533d0c38534b874d4a2df0c85
datetime: '2021-01-28T19:10:48+01:00'
fix_commit_message: 'wext: call cfg80211_change_iface() with wiphy lock held


  This is needed now that all the driver callbacks are protected by

  the wiphy lock rather than (just) the RTNL.


  Fixes: a05829a7222e ("cfg80211: avoid holding the RTNL when calling the driver")

  Reported-by: syzbot+d2d412349f88521938aa@syzkaller.appspotmail.com

  Link: https://lore.kernel.org/r/20210128183454.e81bc6789b4b.I5deb8b6bfdc8b4ea7696cb2447ee6c58c7ce9a4e@changeid

  Signed-off-by: Johannes Berg <johannes.berg@intel.com>

  '
submodule:
- net/wireless
hunk_count: 2
covered_count: 2
