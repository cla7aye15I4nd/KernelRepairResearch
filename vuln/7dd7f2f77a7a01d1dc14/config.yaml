id: 7dd7f2f77a7a01d1dc14
bug_link: https://syzkaller.appspot.com/bug?extid=7dd7f2f77a7a01d1dc14
title: 'KASAN: use-after-free Write in refcount_warn_saturate'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 461f95f04f19382dcfd17da2d8db37e0cdc719f2
fix_commit: b83764f9220a4a14525657466f299850bbc98de9
datetime: '2020-07-07T17:38:11+02:00'
fix_commit_message: 'Bluetooth: Fix kernel oops triggered by hci_adv_monitors_clear()


  This fixes the kernel oops by removing unnecessary background scan

  update from hci_adv_monitors_clear() which shouldn''t invoke any work

  queue.


  The following test was performed.

  - Run "rmmod btusb" and verify that no kernel oops is triggered.


  Signed-off-by: Miao-chen Chou <mcchou@chromium.org>

  Reviewed-by: Abhishek Pandit-Subedi <abhishekpandit@chromium.org>

  Reviewed-by: Alain Michaud <alainm@chromium.org>

  Signed-off-by: Marcel Holtmann <marcel@holtmann.org>

  '
submodule:
- net/bluetooth
hunk_count: 1
covered_count: 0
