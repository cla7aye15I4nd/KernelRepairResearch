id: 5e70d01ee8985ae62a3b
bug_link: https://syzkaller.appspot.com/bug?extid=5e70d01ee8985ae62a3b
title: 'unregister_netdevice: waiting for DEV to become free (7)'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 08ebf57f6e1d73cc1890e1ff1b1c74887c53770b
fix_commit: 266e9b3475ba82212062771fdbc40be0e3c06ec8
datetime: '2023-04-03T21:24:21+03:00'
fix_commit_message: 'RDMA/siw: Remove namespace check from siw_netdev_event()


  syzbot is reporting that siw_netdev_event(NETDEV_UNREGISTER) cannot destroy

  siw_device created after unshare(CLONE_NEWNET) due to net namespace check.

  It seems that this check was by error there and should be removed.


  Reported-by: syzbot <syzbot+5e70d01ee8985ae62a3b@syzkaller.appspotmail.com>

  Link: https://syzkaller.appspot.com/bug?extid=5e70d01ee8985ae62a3b

  Suggested-by: Jason Gunthorpe <jgg@ziepe.ca>

  Suggested-by: Leon Romanovsky <leon@kernel.org>

  Fixes: bdcf26bf9b3a ("rdma/siw: network and RDMA core interface")

  Signed-off-by: Tetsuo Handa <penguin-kernel@I-love.SAKURA.ne.jp>

  Link: https://lore.kernel.org/r/a44e9ac5-44e2-d575-9e30-02483cc7ffd1@I-love.SAKURA.ne.jp

  Reviewed-by: Bernard Metzler <bmt@zurich.ibm.com>

  Signed-off-by: Leon Romanovsky <leon@kernel.org>

  '
submodule:
- drivers/infiniband/sw/siw
hunk_count: 1
covered_count: 0
