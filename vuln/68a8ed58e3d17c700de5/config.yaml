id: 68a8ed58e3d17c700de5
bug_link: https://syzkaller.appspot.com/bug?extid=68a8ed58e3d17c700de5
title: WARNING in geneve_exit_batch_net (2)
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 61fad6816fc10fb8793a925d5c1256d1c3db0cd2
fix_commit: 0fda7600c2e174fe27e9cf02e78e345226e441fa
datetime: '2020-03-15T00:42:35-07:00'
fix_commit_message: 'geneve: move debug check after netdev unregister


  The debug check must be done after unregister_netdevice_many() call --

  the list_del() for this is done inside .ndo_stop.


  Fixes: 2843a25348f8 ("geneve: speedup geneve tunnels dismantle")

  Reported-and-tested-by: <syzbot+68a8ed58e3d17c700de5@syzkaller.appspotmail.com>

  Cc: Haishuang Yan <yanhaishuang@cmss.chinamobile.com>

  Signed-off-by: Florian Westphal <fw@strlen.de>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- drivers/net
hunk_count: 2
covered_count: 2
