id: f584efa0ac7213c226b7
bug_link: https://syzkaller.appspot.com/bug?extid=f584efa0ac7213c226b7
title: 'KASAN: use-after-free Write in __ext4_expand_extra_isize'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 8c380ab4b7b59c0c602743810be1b712514eaebc
fix_commit: 7bc04c5c2cc467c5b40f2b03ba08da174a0d5fa7
datetime: '2019-04-25T11:55:50-04:00'
fix_commit_message: 'ext4: fix use-after-free race with debug_want_extra_isize


  When remounting with debug_want_extra_isize, we were not performing the

  same checks that we do during a normal mount.  That allowed us to set a

  value for s_want_extra_isize that reached outside the s_inode_size.


  Fixes: e2b911c53584 ("ext4: clean up feature test macros with predicate functions")

  Reported-by: syzbot+f584efa0ac7213c226b7@syzkaller.appspotmail.com

  Reviewed-by: Jan Kara <jack@suse.cz>

  Signed-off-by: Barret Rhoden <brho@google.com>

  Signed-off-by: Theodore Ts''o <tytso@mit.edu>

  Cc: stable@vger.kernel.org

  '
submodule:
- fs/ext4
hunk_count: 3
covered_count: 0
