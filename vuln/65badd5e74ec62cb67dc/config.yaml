id: 65badd5e74ec62cb67dc
bug_link: https://syzkaller.appspot.com/bug?extid=65badd5e74ec62cb67dc
title: general protection fault in kcm_sendmsg
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: aaab3076d7c7f7ebdb9e261ba21ef6af2fb8cba6
fix_commit: a47c397bb29fce1751dc755246a2c8deeca5e38f
datetime: '2021-06-07T13:34:37-07:00'
fix_commit_message: 'revert "net: kcm: fix memory leak in kcm_sendmsg"


  In commit c47cc304990a ("net: kcm: fix memory leak in kcm_sendmsg")

  I misunderstood the root case of the memory leak and came up with

  completely broken fix.


  So, simply revert this commit to avoid GPF reported by

  syzbot.


  Im so sorry for this situation.


  Fixes: c47cc304990a ("net: kcm: fix memory leak in kcm_sendmsg")

  Reported-by: syzbot+65badd5e74ec62cb67dc@syzkaller.appspotmail.com

  Signed-off-by: Pavel Skripkin <paskripkin@gmail.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/kcm
hunk_count: 1
covered_count: 1
