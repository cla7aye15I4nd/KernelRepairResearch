id: 89731ccb6fec15ce1c22
bug_link: https://syzkaller.appspot.com/bug?extid=89731ccb6fec15ce1c22
title: 'kernel panic: smack: Failed to initialize cipso DOI.'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: b57d02091b8f5eae1fce5652bb2b53857cd3c720
fix_commit: f91488ee15bd3cac467e2d6a361fc2d34d1052ae
datetime: '2021-10-22T08:46:44-07:00'
fix_commit_message: 'smackfs: use __GFP_NOFAIL for smk_cipso_doi()


  syzbot is reporting kernel panic at smk_cipso_doi() due to memory

  allocation fault injection [1]. The reason for need to use panic() was

  not explained. But since no fix was proposed for 18 months, for now

  let''s use __GFP_NOFAIL for utilizing syzbot resource on other bugs.


  Link: https://syzkaller.appspot.com/bug?extid=89731ccb6fec15ce1c22 [1]

  Reported-by: syzbot <syzbot+89731ccb6fec15ce1c22@syzkaller.appspotmail.com>

  Signed-off-by: Tetsuo Handa <penguin-kernel@I-love.SAKURA.ne.jp>

  Signed-off-by: Casey Schaufler <casey@schaufler-ca.com>

  '
submodule:
- security/smack
hunk_count: 1
covered_count: 1
