id: 2339c27f5c66c652843e
bug_link: https://syzkaller.appspot.com/bug?extid=2339c27f5c66c652843e
title: WARNING in isotp_tx_timer_handler (2)
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 231fdac3e58f4e52e387930c73bf535439607563
fix_commit: 3ea566422cbde9610c2734980d1286ab681bb40e
datetime: '2022-03-16T21:41:39+01:00'
fix_commit_message: 'can: isotp: sanitize CAN ID checks in isotp_bind()


  Syzbot created an environment that lead to a state machine status that

  can not be reached with a compliant CAN ID address configuration.

  The provided address information consisted of CAN ID 0x6000001 and 0xC28001

  which both boil down to 11 bit CAN IDs 0x001 in sending and receiving.


  Sanitize the SFF/EFF CAN ID values before performing the address checks.


  Fixes: e057dd3fc20f ("can: add ISO 15765-2:2016 transport protocol")

  Link: https://lore.kernel.org/all/20220316164258.54155-1-socketcan@hartkopp.net

  Reported-by: syzbot+2339c27f5c66c652843e@syzkaller.appspotmail.com

  Signed-off-by: Oliver Hartkopp <socketcan@hartkopp.net>

  Signed-off-by: Marc Kleine-Budde <mkl@pengutronix.de>

  '
submodule:
- net/can
hunk_count: 5
covered_count: 0
