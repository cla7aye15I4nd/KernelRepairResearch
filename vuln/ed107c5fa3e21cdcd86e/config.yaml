id: ed107c5fa3e21cdcd86e
bug_link: https://syzkaller.appspot.com/bug?extid=ed107c5fa3e21cdcd86e
title: WARNING in cfg80211_dev_rename
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: d1f3bdd4eaae1222063c2f309625656108815915
fix_commit: 0391a45c800780f0aa33984542710451acd71b90
datetime: '2021-01-28T19:10:38+01:00'
fix_commit_message: 'nl80211: call cfg80211_dev_rename() under RTNL


  This is required, and we have an assertion, move the RTNL

  unlock down to cover cfg80211_dev_rename().


  Fixes: a05829a7222e ("cfg80211: avoid holding the RTNL when calling the driver")

  Reported-by: syzbot+ed107c5fa3e21cdcd86e@syzkaller.appspotmail.com

  Link: https://lore.kernel.org/r/20210128183454.16a4ea036740.I2beeb391dc322d6f1df3ee2612e714e0a7817397@changeid

  Signed-off-by: Johannes Berg <johannes.berg@intel.com>

  '
submodule:
- net/wireless
hunk_count: 2
covered_count: 2
