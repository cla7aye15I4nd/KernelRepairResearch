id: 249018ea545364f78d04
bug_link: https://syzkaller.appspot.com/bug?extid=249018ea545364f78d04
title: 'UBSAN: shift-out-of-bounds in bch2_sb_dev_has_data'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: f108ddd467b5cad84a6d93cdd0a251ba47ceaccb
fix_commit: bcfbaea8e547881cd2cab6e05c3cd75449128590
datetime: '2024-05-20T05:37:26-04:00'
fix_commit_message: 'bcachefs: Fix shift overflows in replicas.c


  We can''t disallow unknown data_types in verify() - we have to preserve

  them unchanged for backwards compat; that means we have to add a few

  more guards.


  Reported-by: syzbot+249018ea545364f78d04@syzkaller.appspotmail.com

  Signed-off-by: Kent Overstreet <kent.overstreet@linux.dev>

  '
submodule:
- fs/bcachefs
hunk_count: 4
covered_count: 2
