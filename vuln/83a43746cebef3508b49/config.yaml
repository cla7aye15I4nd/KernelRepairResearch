id: 83a43746cebef3508b49
bug_link: https://syzkaller.appspot.com/bug?extid=83a43746cebef3508b49
title: 'KASAN: use-after-free Read in unregister_shrinker'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 30498dcc12e5fd0aa7395ef80da8466854ff6a41
fix_commit: 689d7ba4895b803244f596e56ffa3d9e4f24acdc
datetime: '2019-07-03T17:52:09-04:00'
fix_commit_message: 'nfsd: fix cleanup of nfsd_reply_cache_init on failure


  The failure to unregister the shrinker results will result in corruption

  when the nfsd_net is freed.


  Also clean up the drc_slab while we''re here.


  Reported-by: syzbot+83a43746cebef3508b49@syzkaller.appspotmail.com

  Fixes: db17b61765c2 ("nfsd4: drc containerization")

  Signed-off-by: J. Bruce Fields <bfields@redhat.com>

  '
submodule:
- fs/nfsd
hunk_count: 3
covered_count: 3
