id: a9d09761be47db706560
bug_link: https://syzkaller.appspot.com/bug?extid=a9d09761be47db706560
title: general protection fault in debugfs_create_files
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 2c1cf00eeacb784781cf1c9896b8af001246d339
fix_commit: 36991ca68db9dd43bac7f3519f080ee3939263ef
datetime: '2019-01-31T14:07:59+01:00'
fix_commit_message: 'blk-mq: protect debugfs_create_files() from failures


  If debugfs were to return a non-NULL error for a debugfs call, using

  that pointer later in debugfs_create_files() would crash.


  Fix that by properly checking the pointer before referencing it.


  Reported-by: Michal Hocko <mhocko@kernel.org>

  Reported-and-tested-by: syzbot+b382ba6a802a3d242790@syzkaller.appspotmail.com

  Reported-by: Tetsuo Handa <penguin-kernel@I-love.SAKURA.ne.jp>

  Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

  '
submodule:
- block
hunk_count: 1
covered_count: 1
