id: c715e1bd8dfbcb1ab176
bug_link: https://syzkaller.appspot.com/bug?extid=c715e1bd8dfbcb1ab176
title: 'BUG: sleeping function called from invalid context in __hci_cmd_sync_sk'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 92d4abd66f7080075793970fc8f241239e58a9e7
fix_commit: acab8ff29a2a226409cfe04e6d2e0896928c1b3a
datetime: '2023-10-11T11:15:40-07:00'
fix_commit_message: 'Bluetooth: ISO: Fix invalid context error


  This moves the hci_le_terminate_big_sync call from rx_work

  to cmd_sync_work, to avoid calling sleeping function from

  an invalid context.


  Reported-by: syzbot+c715e1bd8dfbcb1ab176@syzkaller.appspotmail.com

  Fixes: a0bfde167b50 ("Bluetooth: ISO: Add support for connecting multiple BISes")

  Signed-off-by: Iulia Tanasescu <iulia.tanasescu@nxp.com>

  Signed-off-by: Luiz Augusto von Dentz <luiz.von.dentz@intel.com>

  '
submodule:
- net/bluetooth
hunk_count: 2
covered_count: 2
