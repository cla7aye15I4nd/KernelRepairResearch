id: 6d04f6a1b31a0ae12ca9
bug_link: https://syzkaller.appspot.com/bug?extid=6d04f6a1b31a0ae12ca9
title: general protection fault in j1939_jsk_del
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: c48c8c1e2e81e71a0f13b83cc5124333f3750064
fix_commit: fd81ebfe7975b9a69494430676d16f7125aac3ee
datetime: '2019-11-13T10:42:34+01:00'
fix_commit_message: 'can: j1939: socket: rework socket locking for j1939_sk_release()
  and j1939_sk_sendmsg()


  j1939_sk_sendmsg() should be protected by lock_sock() to avoid race with

  j1939_sk_bind() and j1939_sk_release().


  Reported-by: syzbot+afd421337a736d6c1ee6@syzkaller.appspotmail.com

  Reported-by: syzbot+6d04f6a1b31a0ae12ca9@syzkaller.appspotmail.com

  Fixes: 9d71dd0c7009 ("can: add support of SAE J1939 protocol")

  Signed-off-by: Oleksij Rempel <o.rempel@pengutronix.de>

  '
submodule:
- net/can
hunk_count: 2
covered_count: 0
