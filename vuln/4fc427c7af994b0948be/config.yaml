id: 4fc427c7af994b0948be
bug_link: https://syzkaller.appspot.com/bug?extid=4fc427c7af994b0948be
title: WARNING in bpf_check (2)
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: da85d8bfd1512461bcfb64929e8426cf340b3707
fix_commit: afd594240806acc138cf696c09f2f4829d55d02f
datetime: '2018-11-16T21:10:00-08:00'
fix_commit_message: "bpf: fix off-by-one error in adjust_subprog_starts\n\nWhen patching\
  \ in a new sequence for the first insn of a subprog, the start\n of that subprog\
  \ does not change (it's the first insn of the sequence), so\n adjust_subprog_starts\
  \ should check start <= off (rather than < off).\nAlso added a test to test_verifier.c\
  \ (it's essentially the syz reproducer).\n\nFixes: cc8b0b92a169 (\"bpf: introduce\
  \ function calls (function boundaries)\")\nReported-by: syzbot+4fc427c7af994b0948be@syzkaller.appspotmail.com\n\
  Signed-off-by: Edward Cree <ecree@solarflare.com>\nAcked-by: Yonghong Song <yhs@fb.com>\n\
  Signed-off-by: Alexei Starovoitov <ast@kernel.org>\n"
submodule:
- kernel/bpf
- tools/testing/selftests/bpf
hunk_count: 2
covered_count: 0
