id: d5455bac3ba1ee9114e5
bug_link: https://syzkaller.appspot.com/bug?extid=d5455bac3ba1ee9114e5
title: 'KASAN: use-after-free Read in sha512_ctx_mgr_resubmit'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 820684cc269f8295f13c890491dcbe07fdc647af
fix_commit: ab8085c130edd65be0d95cc95c28b51c4c6faf9d
datetime: '2018-09-04T11:37:04+08:00'
fix_commit_message: 'crypto: x86 - remove SHA multibuffer routines and mcryptd


  As it turns out, the AVX2 multibuffer SHA routines are currently

  broken [0], in a way that would have likely been noticed if this

  code were in wide use. Since the code is too complicated to be

  maintained by anyone except the original authors, and since the

  performance benefits for real-world use cases are debatable to

  begin with, it is better to drop it entirely for the moment.


  [0] https://marc.info/?l=linux-crypto-vger&m=153476243825350&w=2


  Suggested-by: Eric Biggers <ebiggers@google.com>

  Cc: Megha Dey <megha.dey@linux.intel.com>

  Cc: Tim Chen <tim.c.chen@linux.intel.com>

  Cc: Geert Uytterhoeven <geert@linux-m68k.org>

  Cc: Martin Schwidefsky <schwidefsky@de.ibm.com>

  Cc: Heiko Carstens <heiko.carstens@de.ibm.com>

  Cc: Thomas Gleixner <tglx@linutronix.de>

  Cc: Ingo Molnar <mingo@redhat.com>

  Signed-off-by: Ard Biesheuvel <ard.biesheuvel@linaro.org>

  Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

  '
submodule:
- arch/m68k/configs
- arch/s390/configs
- arch/x86/crypto
- arch/x86/crypto/sha1-mb
- arch/x86/crypto/sha256-mb
- arch/x86/crypto/sha512-mb
- crypto
- include/crypto
hunk_count: 48
covered_count: 2
