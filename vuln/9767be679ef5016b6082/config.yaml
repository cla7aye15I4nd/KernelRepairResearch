id: 9767be679ef5016b6082
bug_link: https://syzkaller.appspot.com/bug?extid=9767be679ef5016b6082
title: 'KMSAN: uninit-value in pagecache_write'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 131294c35ed6f777bd4e79d42af13b5c41bf2775
fix_commit: 956510c0c7439e90b8103aaeaf4da92878c622f0
datetime: '2022-12-08T21:49:25-05:00'
fix_commit_message: 'fs: ext4: initialize fsdata in pagecache_write()


  When aops->write_begin() does not initialize fsdata, KMSAN reports

  an error passing the latter to aops->write_end().


  Fix this by unconditionally initializing fsdata.


  Cc: Eric Biggers <ebiggers@kernel.org>

  Fixes: c93d8f885809 ("ext4: add basic fs-verity support")

  Reported-by: syzbot+9767be679ef5016b6082@syzkaller.appspotmail.com

  Signed-off-by: Alexander Potapenko <glider@google.com>

  Reviewed-by: Eric Biggers <ebiggers@google.com>

  Link: https://lore.kernel.org/r/20221121112134.407362-1-glider@google.com

  Signed-off-by: Theodore Ts''o <tytso@mit.edu>

  Cc: stable@kernel.org

  '
submodule:
- fs/ext4
hunk_count: 1
covered_count: 1
