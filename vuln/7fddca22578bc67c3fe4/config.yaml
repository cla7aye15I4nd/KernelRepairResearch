id: 7fddca22578bc67c3fe4
bug_link: https://syzkaller.appspot.com/bug?extid=7fddca22578bc67c3fe4
title: memory leak in kobject_set_name_vargs
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 1a473d6092d5d182914bea854ce0b21e6d12519d
fix_commit: 4f488fbca2a86cc7714a128952eead92cac279ab
datetime: '2019-06-14T15:46:33+02:00'
fix_commit_message: 'cfg80211: fix memory leak of wiphy device name


  In wiphy_new_nm(), if an error occurs after dev_set_name() and

  device_initialize() have already been called, it''s necessary to call

  put_device() (via wiphy_free()) to avoid a memory leak.


  Reported-by: syzbot+7fddca22578bc67c3fe4@syzkaller.appspotmail.com

  Fixes: 1f87f7d3a3b4 ("cfg80211: add rfkill support")

  Cc: stable@vger.kernel.org

  Signed-off-by: Eric Biggers <ebiggers@google.com>

  Signed-off-by: Johannes Berg <johannes.berg@intel.com>

  '
submodule:
- net/wireless
hunk_count: 1
covered_count: 0
