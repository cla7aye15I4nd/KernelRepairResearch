id: 9c1fe13fcb51574b249b
bug_link: https://syzkaller.appspot.com/bug?extid=9c1fe13fcb51574b249b
title: 'KMSAN: uninit-value in zswap_store'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 7882b0187bbeb647967a7b5998ce4ad26ef68a9a
fix_commit: 65121eff3e4c8c90f8126debf3c369228691c591
datetime: '2024-07-08T23:59:37-04:00'
fix_commit_message: 'ext4: avoid writing unitialized memory to disk in EA inodes


  If the extended attribute size is not a multiple of block size, the last

  block in the EA inode will have uninitialized tail which will get

  written to disk. We will never expose the data to userspace but still

  this is not a good practice so just zero out the tail of the block as it

  isn''t going to cause a noticeable performance overhead.


  Fixes: e50e5129f384 ("ext4: xattr-in-inode support")

  Reported-by: syzbot+9c1fe13fcb51574b249b@syzkaller.appspotmail.com

  Reported-by: Hugh Dickins <hughd@google.com>

  Signed-off-by: Jan Kara <jack@suse.cz>

  Link: https://patch.msgid.link/20240613150234.25176-1-jack@suse.cz

  Signed-off-by: Theodore Ts''o <tytso@mit.edu>

  '
submodule:
- fs/ext4
hunk_count: 1
covered_count: 0
