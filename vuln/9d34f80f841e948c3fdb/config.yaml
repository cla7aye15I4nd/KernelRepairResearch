id: 9d34f80f841e948c3fdb
bug_link: https://syzkaller.appspot.com/bug?extid=9d34f80f841e948c3fdb
title: 'KMSAN: kernel-usb-infoleak in usbtmc_write'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 0088d7581b12c6b310fb57a25b7c07622655c23d
fix_commit: 625fa77151f00c1bd00d34d60d6f2e710b3f9aad
datetime: '2024-09-11T15:34:17+02:00'
fix_commit_message: 'USB: usbtmc: prevent kernel-usb-infoleak


  The syzbot reported a kernel-usb-infoleak in usbtmc_write,

  we need to clear the structure before filling fields.


  Fixes: 4ddc645f40e9 ("usb: usbtmc: Add ioctl for vendor specific write")

  Reported-and-tested-by: syzbot+9d34f80f841e948c3fdb@syzkaller.appspotmail.com

  Closes: https://syzkaller.appspot.com/bug?extid=9d34f80f841e948c3fdb

  Signed-off-by: Edward Adam Davis <eadavis@qq.com>

  Cc: stable <stable@kernel.org>

  Link: https://lore.kernel.org/r/tencent_9649AA6EC56EDECCA8A7D106C792D1C66B06@qq.com

  Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

  '
submodule:
- drivers/usb/class
hunk_count: 1
covered_count: 1
