id: 91ae49e1c1a2634d20c0
bug_link: https://syzkaller.appspot.com/bug?extid=91ae49e1c1a2634d20c0
title: 'KMSAN: uninit-value in ima_add_template_entry (2)'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: fee873761bd978d077d8c55334b4966ac4cb7b59
fix_commit: 98e2fb26d1a9eafe79f46d15d54e68e014d81d8c
datetime: '2024-12-31T17:51:16+09:00'
fix_commit_message: 'exfat: fix the new buffer was not zeroed before writing


  Before writing, if a buffer_head marked as new, its data must

  be zeroed, otherwise uninitialized data in the page cache will

  be written.


  So this commit uses folio_zero_new_buffers() to zero the new

  buffers before ->write_end().


  Fixes: 6630ea49103c ("exfat: move extend valid_size into ->page_mkwrite()")

  Reported-by: syzbot+91ae49e1c1a2634d20c0@syzkaller.appspotmail.com

  Closes: https://syzkaller.appspot.com/bug?extid=91ae49e1c1a2634d20c0

  Tested-by: syzbot+91ae49e1c1a2634d20c0@syzkaller.appspotmail.com

  Signed-off-by: Yuezhang Mo <Yuezhang.Mo@sony.com>

  Reviewed-by: Sungjong Seo <sj1557.seo@samsung.com>

  Signed-off-by: Namjae Jeon <linkinjeon@kernel.org>

  '
submodule:
- fs/exfat
hunk_count: 3
covered_count: 3
