id: 35b87c668935bb55e666
bug_link: https://syzkaller.appspot.com/bug?extid=35b87c668935bb55e666
title: 'UBSAN: shift-out-of-bounds in __access_remote_vm'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 51e76a232f8c037f1d9e9922edc25b003d5f3414
fix_commit: caad9dd8792a2622737b7273cb34835fd9536cd2
datetime: '2022-09-30T17:39:52+03:00'
fix_commit_message: 'fs/ntfs3: Avoid UBSAN error on true_sectors_per_clst()


  syzbot reported UBSAN error as below:


  [   76.901829][ T6677] ================================================================================

  [   76.903908][ T6677] UBSAN: shift-out-of-bounds in fs/ntfs3/super.c:675:13

  [   76.905363][ T6677] shift exponent -247 is negative


  This patch avoid this error.


  Link: https://syzkaller.appspot.com/bug?id=b0299c09a14aababf0f1c862dd4ebc8ab9eb0179

  Fixes: a3b774342fa7 (fs/ntfs3: validate BOOT sectors_per_clusters)

  Cc: Author: Randy Dunlap <rdunlap@infradead.org>

  Reported-by: syzbot+35b87c668935bb55e666@syzkaller.appspotmail.com

  Signed-off-by: Shigeru Yoshida <syoshida@redhat.com>

  Signed-off-by: Konstantin Komarov <almaz.alexandrovich@paragon-software.com>

  '
submodule:
- fs/ntfs3
hunk_count: 1
covered_count: 1
