id: 8992fc10a192067b8d8a
bug_link: https://syzkaller.appspot.com/bug?extid=8992fc10a192067b8d8a
title: 'KASAN: slab-use-after-free Read in bch2_fs_recovery'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: e6b3a655ac7ba5282b1504851488236865804cb8
fix_commit: 2fe79ce7d1e8ec5059e7dfc15f3c769ae9679569
datetime: '2024-06-21T10:17:07-04:00'
fix_commit_message: 'bcachefs: Fix a UAF after write_super()


  write_super() may reallocate the superblock buffer - but

  bch_sb_field_ext was referencing it; don''t use it after the write_super

  call.


  Reported-by: syzbot+8992fc10a192067b8d8a@syzkaller.appspotmail.com

  Signed-off-by: Kent Overstreet <kent.overstreet@linux.dev>

  '
submodule:
- fs/bcachefs
hunk_count: 1
covered_count: 1
