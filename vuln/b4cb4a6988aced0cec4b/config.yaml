id: b4cb4a6988aced0cec4b
bug_link: https://syzkaller.appspot.com/bug?extid=b4cb4a6988aced0cec4b
title: kernel BUG in bch2_reconstruct_snapshots
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 32a01cd4334175a0ae42b3c3d7f37fd26468ecc3
fix_commit: b2e2bed119809a5ca384241e0631f04c6142ae08
datetime: '2025-06-19T14:37:04-04:00'
fix_commit_message: 'bcachefs: Add missing key type checks to check_snapshot_exists()


  For now we only have one key type in these btrees, but forward

  compatibility means we do have to check.


  Reported-by: syzbot+b4cb4a6988aced0cec4b@syzkaller.appspotmail.com

  Signed-off-by: Kent Overstreet <kent.overstreet@linux.dev>

  '
submodule:
- fs/bcachefs
hunk_count: 2
covered_count: 2
