id: 87cfa083e727a224754b
bug_link: https://syzkaller.appspot.com/bug?extid=87cfa083e727a224754b
title: 'KMSAN: uninit-value in _copy_to_iter (2)'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 55e49dc43a835b19567e62142cb1c87dc7db7b3c
fix_commit: 670ae9caaca467ea1bfd325cb2a5c98ba87f94ad
datetime: '2018-06-12T04:59:29+03:00'
fix_commit_message: 'vhost: fix info leak due to uninitialized memory


  struct vhost_msg within struct vhost_msg_node is copied to userspace.

  Unfortunately it turns out on 64 bit systems vhost_msg has padding after

  type which gcc doesn''t initialize, leaking 4 uninitialized bytes to

  userspace.


  This padding also unfortunately means 32 bit users of this interface are

  broken on a 64 bit kernel which will need to be fixed separately.


  Fixes: CVE-2018-1118

  Cc: stable@vger.kernel.org

  Reported-by: Kevin Easton <kevin@guarana.org>

  Signed-off-by: Michael S. Tsirkin <mst@redhat.com>

  Reported-by: syzbot+87cfa083e727a224754b@syzkaller.appspotmail.com

  Signed-off-by: Michael S. Tsirkin <mst@redhat.com>

  '
submodule:
- drivers/vhost
hunk_count: 1
covered_count: 1
