id: eb6e5365f23c02517dda
bug_link: https://syzkaller.appspot.com/bug?extid=eb6e5365f23c02517dda
title: WARNING in vkms_plane_duplicate_state
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 45fdfdb6475905704134afba3c0ef5f24c2b5921
fix_commit: 7cdf33ab02e01300e7e6289acbac9cd8759f8712
datetime: '2018-11-29T10:30:39+01:00'
fix_commit_message: 'drm/vkms: Fix plane duplicate_state


  We need to handle allocation failures and bail out. While at it, tune

  the allocation failures down to debug level.


  syzbot injected an allocation failure and then hit this WARN_ON.


  Reported-by: syzbot+eb6e5365f23c02517dda@syzkaller.appspotmail.com

  Signed-off-by: Daniel Vetter <daniel.vetter@intel.com>

  Cc: Haneen Mohammed <hamohammed.sa@gmail.com>

  Cc: Sean Paul <seanpaul@chromium.org>

  Cc: Daniel Vetter <daniel.vetter@ffwll.ch>

  Cc: Rodrigo Siqueira <rodrigosiqueiramelo@gmail.com>

  Cc: Gustavo Padovan <gustavo.padovan@collabora.com>

  Reviewed-by: Eric Anholt <eric@anholt.net>

  Link: https://patchwork.freedesktop.org/patch/msgid/20181128101033.4840-1-daniel.vetter@ffwll.ch

  '
submodule:
- drivers/gpu/drm/vkms
hunk_count: 1
covered_count: 1
