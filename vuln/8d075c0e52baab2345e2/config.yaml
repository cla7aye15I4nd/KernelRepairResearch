id: 8d075c0e52baab2345e2
bug_link: https://syzkaller.appspot.com/bug?extid=8d075c0e52baab2345e2
title: 'KASAN: use-after-free Read in sysv_new_inode (2)'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 00dac020ca2a2d82c3e4057a930794cca593ea77
fix_commit: 448fa70158f9b348e71869cfe4a31988e07b20b2
datetime: '2025-02-21T10:32:47+01:00'
fix_commit_message: 'sysv: Remove the filesystem


  Since 2002 (change "Replace BKL for chain locking with sysvfs-private

  rwlock") the sysv filesystem was doing IO under a rwlock in its

  get_block() function (yes, a non-sleepable lock hold over a function

  used to read inode metadata for all reads and writes).  Nobody noticed

  until syzbot in 2023 [1]. This shows nobody is using the filesystem.

  Just drop it.


  [1] https://lore.kernel.org/all/0000000000000ccf9a05ee84f5b0@google.com/


  Signed-off-by: Jan Kara <jack@suse.cz>

  Link: https://lore.kernel.org/r/20250220163940.10155-2-jack@suse.cz

  Reviewed-by: Jeff Layton <jlayton@kernel.org>

  Reviewed-by: "Darrick J. Wong" <djwong@kernel.org>

  Signed-off-by: Christian Brauner <brauner@kernel.org>

  '
submodule:
- Documentation/filesystems
- arch/loongarch/configs
- arch/m68k/configs
- arch/mips/configs
- arch/parisc/configs
- arch/powerpc/configs
- fs
- fs/sysv
- include/linux
hunk_count: 37
covered_count: 2
