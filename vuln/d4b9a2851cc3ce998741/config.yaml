id: d4b9a2851cc3ce998741
bug_link: https://syzkaller.appspot.com/bug?extid=d4b9a2851cc3ce998741
title: 'KMSAN: uninit-value in fib_get_nhs'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 74c78b4291b4466b44a57b3b7c3b98ad02628686
fix_commit: 7a3429bace0e08d94c39245631ea6bc109dafa49
datetime: '2021-12-31T14:31:59+00:00'
fix_commit_message: "ipv4: Check attribute length for RTA_GATEWAY in multipath route\n\
  \nsyzbot reported uninit-value:\n============================================================\n\
  \  BUG: KMSAN: uninit-value in fib_get_nhs+0xac4/0x1f80\n  net/ipv4/fib_semantics.c:708\n\
  \   fib_get_nhs+0xac4/0x1f80 net/ipv4/fib_semantics.c:708\n   fib_create_info+0x2411/0x4870\
  \ net/ipv4/fib_semantics.c:1453\n   fib_table_insert+0x45c/0x3a10 net/ipv4/fib_trie.c:1224\n\
  \   inet_rtm_newroute+0x289/0x420 net/ipv4/fib_frontend.c:886\n\nAdd helper to validate\
  \ RTA_GATEWAY length before using the attribute.\n\nFixes: 4e902c57417c (\"[IPv4]:\
  \ FIB configuration using struct fib_config\")\nReported-by: syzbot+d4b9a2851cc3ce998741@syzkaller.appspotmail.com\n\
  Signed-off-by: David Ahern <dsahern@kernel.org>\nCc: Thomas Graf <tgraf@suug.ch>\n\
  Signed-off-by: David S. Miller <davem@davemloft.net>\n"
submodule:
- net/ipv4
hunk_count: 4
covered_count: 2
