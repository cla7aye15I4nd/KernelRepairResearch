id: 9c251bdd09f83b92ba95
bug_link: https://syzkaller.appspot.com/bug?extid=9c251bdd09f83b92ba95
title: 'KMSAN: uninit-value in af_alg_free_areq_sgls'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 221e00d1fce976d8a04ff591a0150caf84e176f8
fix_commit: 2546da99212f22034aecf279da9c47cbfac6c981
datetime: '2018-07-13T18:24:23+08:00'
fix_commit_message: 'crypto: af_alg - Initialize sg_num_bytes in error code path


  The RX SGL in processing is already registered with the RX SGL tracking

  list to support proper cleanup. The cleanup code path uses the

  sg_num_bytes variable which must therefore be always initialized, even

  in the error code path.


  Signed-off-by: Stephan Mueller <smueller@chronox.de>

  Reported-by: syzbot+9c251bdd09f83b92ba95@syzkaller.appspotmail.com

  #syz test: https://github.com/google/kmsan.git master

  CC: <stable@vger.kernel.org> #4.14

  Fixes: e870456d8e7c ("crypto: algif_skcipher - overhaul memory management")

  Fixes: d887c52d6ae4 ("crypto: algif_aead - overhaul memory management")

  Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

  '
submodule:
- crypto
hunk_count: 1
covered_count: 1
