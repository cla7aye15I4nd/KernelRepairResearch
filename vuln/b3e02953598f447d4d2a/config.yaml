id: b3e02953598f447d4d2a
bug_link: https://syzkaller.appspot.com/bug?extid=b3e02953598f447d4d2a
title: 'BUG: sleeping function called from invalid context in crypto_put_default_null_skcipher'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 1047e21aecdf17c8a9ab9fd4bd24c6647453f93d
fix_commit: dcc47a028c24e793ce6d6efebfef1a1e92f80297
datetime: '2025-02-22T15:56:03+08:00'
fix_commit_message: 'crypto: null - Use spin lock instead of mutex


  As the null algorithm may be freed in softirq context through

  af_alg, use spin locks instead of mutexes to protect the default

  null algorithm.


  Reported-by: syzbot+b3e02953598f447d4d2a@syzkaller.appspotmail.com

  Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

  '
submodule:
- crypto
hunk_count: 3
covered_count: 3
