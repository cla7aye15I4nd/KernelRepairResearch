id: 8267241609ae8c23b248
bug_link: https://syzkaller.appspot.com/bug?extid=8267241609ae8c23b248
title: 'INFO: rcu detected stall in cleanup_net (4)'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 53467ecb6f38d7cbd86359ff1c8958b8b568dc57
fix_commit: b5b73b26b3ca34574124ed7ae9c5ba8391a7f176
datetime: '2020-09-11T17:21:51-07:00'
fix_commit_message: 'taprio: Fix allowing too small intervals


  It''s possible that the user specifies an interval that couldn''t allow

  any packet to be transmitted. This also avoids the issue of the

  hrtimer handler starving the other threads because it''s running too

  often.


  The solution is to reject interval sizes that according to the current

  link speed wouldn''t allow any packet to be transmitted.


  Reported-by: syzbot+8267241609ae8c23b248@syzkaller.appspotmail.com

  Fixes: 5a781ccbd19e ("tc: Add support for configuring the taprio scheduler")

  Signed-off-by: Vinicius Costa Gomes <vinicius.gomes@intel.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/sched
hunk_count: 8
covered_count: 0
