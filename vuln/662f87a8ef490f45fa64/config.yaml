id: 662f87a8ef490f45fa64
bug_link: https://syzkaller.appspot.com/bug?extid=662f87a8ef490f45fa64
title: general protection fault in autofs_fill_super
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: fe2c34bab6d46469ad3095955dc37e984dc24e38
fix_commit: 66917f85db6002ed09cd24186258892fcfca64b6
datetime: '2023-11-20T14:56:36+01:00'
fix_commit_message: 'autofs: add: new_inode check in autofs_fill_super()


  Add missing NULL check of root_inode in autofs_fill_super().


  While we are at it simplify the logic by taking advantage of the VFS

  cleanup procedures and get rid of the goto error handling, as suggested

  by Al Viro.


  Signed-off-by: Ian Kent <raven@themaw.net>

  Link: https://lore.kernel.org/r/20231119225319.331156-1-raven@themaw.net

  Reviewed-by: Bill O''Donnell <bodonnel@redhat.com>

  Cc: Al Viro <viro@zeniv.linux.org.uk>

  Cc: Christian Brauner <brauner@kernel.org>

  Cc: Bill O''Donnell <billodo@redhat.com>

  Reported-by: <syzbot+662f87a8ef490f45fa64@syzkaller.appspotmail.com>

  Signed-off-by: Christian Brauner <brauner@kernel.org>

  '
submodule:
- fs/autofs
hunk_count: 2
covered_count: 2
