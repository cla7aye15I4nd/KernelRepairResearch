id: e417648b303855b91d8a
bug_link: https://syzkaller.appspot.com/bug?extid=e417648b303855b91d8a
title: WARNING in __i2c_transfer (2)
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: fc74e0a40e4f9fd0468e34045b0c45bba11dcbb2
fix_commit: bb436283e25aaf1533ce061605d23a9564447bdf
datetime: '2021-12-31T14:28:22+01:00'
fix_commit_message: 'i2c: validate user data in compat ioctl


  Wrong user data may cause warning in i2c_transfer(), ex: zero msgs.

  Userspace should not be able to trigger warnings, so this patch adds

  validation checks for user data in compact ioctl to prevent reported

  warnings


  Reported-and-tested-by: syzbot+e417648b303855b91d8a@syzkaller.appspotmail.com

  Fixes: 7d5cb45655f2 ("i2c compat ioctls: move to ->compat_ioctl()")

  Signed-off-by: Pavel Skripkin <paskripkin@gmail.com>

  Signed-off-by: Wolfram Sang <wsa@kernel.org>

  '
submodule:
- drivers/i2c
hunk_count: 1
covered_count: 1
