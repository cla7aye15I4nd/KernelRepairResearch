id: 38e7237add3712479d65
bug_link: https://syzkaller.appspot.com/bug?extid=38e7237add3712479d65
title: WARNING in implement
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 0a3f9f7fc59feb8a91a2793b8b60977895c72365
fix_commit: 4aa2dcfbad538adf7becd0034a3754e1bd01b2b5
datetime: '2024-06-04T09:49:35+02:00'
fix_commit_message: "HID: core: remove unnecessary WARN_ON() in implement()\n\nSyzkaller\
  \ hit a warning [1] in a call to implement() when trying\nto write a value into\
  \ a field of smaller size in an output report.\n\nSince implement() already has\
  \ a warn message printed out with the\nhelp of hid_warn() and value in question\
  \ gets trimmed with:\n\t...\n\tvalue &= m;\n\t...\nWARN_ON may be considered superfluous.\
  \ Remove it to suppress future\nsyzkaller triggers.\n\n[1]\nWARNING: CPU: 0 PID:\
  \ 5084 at drivers/hid/hid-core.c:1451 implement drivers/hid/hid-core.c:1451 [inline]\n\
  WARNING: CPU: 0 PID: 5084 at drivers/hid/hid-core.c:1451 hid_output_report+0x548/0x760\
  \ drivers/hid/hid-core.c:1863\nModules linked in:\nCPU: 0 PID: 5084 Comm: syz-executor424\
  \ Not tainted 6.9.0-rc7-syzkaller-00183-gcf87f46fd34d #0\nHardware name: Google\
  \ Google Compute Engine/Google Compute Engine, BIOS Google 04/02/2024\nRIP: 0010:implement\
  \ drivers/hid/hid-core.c:1451 [inline]\nRIP: 0010:hid_output_report+0x548/0x760\
  \ drivers/hid/hid-core.c:1863\n...\nCall Trace:\n <TASK>\n __usbhid_submit_report\
  \ drivers/hid/usbhid/hid-core.c:591 [inline]\n usbhid_submit_report+0x43d/0x9e0\
  \ drivers/hid/usbhid/hid-core.c:636\n hiddev_ioctl+0x138b/0x1f00 drivers/hid/usbhid/hiddev.c:726\n\
  \ vfs_ioctl fs/ioctl.c:51 [inline]\n __do_sys_ioctl fs/ioctl.c:904 [inline]\n __se_sys_ioctl+0xfc/0x170\
  \ fs/ioctl.c:890\n do_syscall_x64 arch/x86/entry/common.c:52 [inline]\n do_syscall_64+0xf5/0x240\
  \ arch/x86/entry/common.c:83\n entry_SYSCALL_64_after_hwframe+0x77/0x7f\n...\n\n\
  Fixes: 95d1c8951e5b (\"HID: simplify implement() a bit\")\nReported-by: <syzbot+5186630949e3c55f0799@syzkaller.appspotmail.com>\n\
  Suggested-by: Alan Stern <stern@rowland.harvard.edu>\nSigned-off-by: Nikita Zhandarovich\
  \ <n.zhandarovich@fintech.ru>\nSigned-off-by: Jiri Kosina <jkosina@suse.com>\n"
submodule:
- drivers/hid
hunk_count: 1
covered_count: 1
