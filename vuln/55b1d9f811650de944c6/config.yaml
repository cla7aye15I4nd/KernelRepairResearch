id: 55b1d9f811650de944c6
bug_link: https://syzkaller.appspot.com/bug?extid=55b1d9f811650de944c6
title: WARNING in ion_dma_buf_begin_cpu_access
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 1376b0a2160319125c3a2822e8c09bd283cd8141
fix_commit: 0a2bc00341dcfcc793c0dbf4f8d43adf60458b05
datetime: '2018-06-25T22:54:04+08:00'
fix_commit_message: 'staging: android: ion: Return an ERR_PTR in ion_map_kernel


  The expected return value from ion_map_kernel is an ERR_PTR. The error

  path for a vmalloc failure currently just returns NULL, triggering

  a warning in ion_buffer_kmap_get. Encode the vmalloc failure as an ERR_PTR.


  Reported-by: syzbot+55b1d9f811650de944c6@syzkaller.appspotmail.com

  Signed-off-by: Laura Abbott <labbott@redhat.com>

  Cc: stable <stable@vger.kernel.org>

  Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

  '
submodule:
- drivers/staging/android/ion
hunk_count: 1
covered_count: 0
