id: 2e3cb81b5d1fe18a374b
bug_link: https://syzkaller.appspot.com/bug?extid=2e3cb81b5d1fe18a374b
title: general protection fault in crypto_skcipher_encrypt
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 6d48e61364aedd774d688f28b5a6c9b5f7f0018c
fix_commit: c06a8b75679d73473c0c382bcc676ee4b7657bee
datetime: '2024-05-20T05:37:26-04:00'
fix_commit_message: 'bcachefs: Fix bch2_alloc_ciphers()


  Don''t put error pointers in bch_fs, that''s gross.


  This fixes (?) the check in bch2_checksum_type_valid() - depending on

  our error paths, or depending on what our error paths are doing it at

  least makes the code saner.


  Reported-by: syzbot+2e3cb81b5d1fe18a374b@syzkaller.appspotmail.com

  Signed-off-by: Kent Overstreet <kent.overstreet@linux.dev>

  '
submodule:
- fs/bcachefs
hunk_count: 3
covered_count: 0
