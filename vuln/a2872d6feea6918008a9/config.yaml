id: a2872d6feea6918008a9
bug_link: https://syzkaller.appspot.com/bug?extid=a2872d6feea6918008a9
title: 'KASAN: use-after-free Read in seq_escape'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 6fd941784b8ac3e74313f7112f0586076dc36544
fix_commit: 33458eaba4dfe778a426df6a19b7aad2ff9f7eec
datetime: '2018-10-12T09:28:09-04:00'
fix_commit_message: 'ext4: fix use-after-free race in ext4_remount()''s error path


  It''s possible for ext4_show_quota_options() to try reading

  s_qf_names[i] while it is being modified by ext4_remount() --- most

  notably, in ext4_remount''s error path when the original values of the

  quota file name gets restored.


  Reported-by: syzbot+a2872d6feea6918008a9@syzkaller.appspotmail.com

  Signed-off-by: Theodore Ts''o <tytso@mit.edu>

  Cc: stable@kernel.org # 3.2+

  '
submodule:
- fs/ext4
hunk_count: 15
covered_count: 11
