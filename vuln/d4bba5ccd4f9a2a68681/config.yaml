id: d4bba5ccd4f9a2a68681
bug_link: https://syzkaller.appspot.com/bug?extid=d4bba5ccd4f9a2a68681
title: 'KASAN: null-ptr-deref Read in css_task_iter_advance'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: cee0c33c546a93957a52ae9ab6bebadbee765ec5
fix_commit: c596687a008b579c503afb7a64fcacc7270fae9e
datetime: '2019-06-10T09:08:27-07:00'
fix_commit_message: 'cgroup: Fix css_task_iter_advance_css_set() cset skip condition


  While adding handling for dying task group leaders c03cd7738a83

  ("cgroup: Include dying leaders with live threads in PROCS

  iterations") added an inverted cset skip condition to

  css_task_iter_advance_css_set().  It should skip cset if it''s

  completely empty but was incorrectly testing for the inverse condition

  for the dying_tasks list.  Fix it.


  Signed-off-by: Tejun Heo <tj@kernel.org>

  Fixes: c03cd7738a83 ("cgroup: Include dying leaders with live threads in PROCS iterations")

  Reported-by: syzbot+d4bba5ccd4f9a2a68681@syzkaller.appspotmail.com

  '
submodule:
- kernel/cgroup
hunk_count: 1
covered_count: 0
