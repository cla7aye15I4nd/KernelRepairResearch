id: 864a269c27ee06b58374
bug_link: https://syzkaller.appspot.com/bug?extid=864a269c27ee06b58374
title: 'WARNING: suspicious RCU usage in __cfg80211_bss_update'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 968509128207f122d7177ffb6ff51c9c6fa7e13d
fix_commit: 1184950e341c11b6f82bc5b59564411d9537ab27
datetime: '2024-01-03T15:34:53+01:00'
fix_commit_message: 'wifi: cfg80211: fix RCU dereference in __cfg80211_bss_update


  Replace rcu_dereference() with rcu_access_pointer() since we hold

  the lock here (and aren''t in an RCU critical section).


  Fixes: 32af9a9e1069 ("wifi: cfg80211: free beacon_ies when overridden from hidden
  BSS")

  Reported-and-tested-by: syzbot+864a269c27ee06b58374@syzkaller.appspotmail.com

  Signed-off-by: Edward Adam Davis <eadavis@qq.com>

  Link: https://msgid.link/tencent_BF8F0DF0258C8DBF124CDDE4DD8D992DCF07@qq.com

  Signed-off-by: Johannes Berg <johannes.berg@intel.com>

  '
submodule:
- net/wireless
hunk_count: 1
covered_count: 1
