id: cf71097ffb6755df8251
bug_link: https://syzkaller.appspot.com/bug?extid=cf71097ffb6755df8251
title: memory leak in _r8712_init_xmit_priv
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 6eaae198076080886b9e7d57f4ae06fa782f90ef
fix_commit: ac83631230f77dda94154ed0ebfd368fc81c70a3
datetime: '2023-07-27T09:50:57+02:00'
fix_commit_message: 'staging: r8712: Fix memory leak in _r8712_init_xmit_priv()


  In the above mentioned routine, memory is allocated in several places.

  If the first succeeds and a later one fails, the routine will leak memory.

  This patch fixes commit 2865d42c78a9 ("staging: r8712u: Add the new driver

  to the mainline kernel"). A potential memory leak in

  r8712_xmit_resource_alloc() is also addressed.


  Fixes: 2865d42c78a9 ("staging: r8712u: Add the new driver to the mainline kernel")

  Reported-by: syzbot+cf71097ffb6755df8251@syzkaller.appspotmail.com

  Closes: https://syzkaller.appspot.com/x/log.txt?x=11ac3fa0a80000

  Cc: stable@vger.kernel.org

  Cc: Nam Cao <namcaov@gmail.com>

  Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net>

  Reviewed-by: Nam Cao <namcaov@gmail.com>

  Link: https://lore.kernel.org/r/20230714175417.18578-1-Larry.Finger@lwfinger.net

  Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

  '
submodule:
- drivers/staging/rtl8712
hunk_count: 6
covered_count: 5
