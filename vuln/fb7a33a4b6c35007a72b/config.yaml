id: fb7a33a4b6c35007a72b
bug_link: https://syzkaller.appspot.com/bug?extid=fb7a33a4b6c35007a72b
title: general protection fault in hrtimer_active (2)
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 518e7b94817abed94becfe6a44f1ece0d4745afe
fix_commit: b7e31be385584afe7f073130e8e570d53c95f7fe
datetime: '2018-03-01T22:32:45+01:00'
fix_commit_message: 'KVM: x86: fix vcpu initialization with userspace lapic


  Moving the code around broke this rare configuration.

  Use this opportunity to finally call lapic reset from vcpu reset.


  Reported-by: syzbot+fb7a33a4b6c35007a72b@syzkaller.appspotmail.com

  Suggested-by: Paolo Bonzini <pbonzini@redhat.com>

  Fixes: 0b2e9904c159 ("KVM: x86: move LAPIC initialization after VMCS creation")

  Cc: stable@vger.kernel.org

  Signed-off-by: Radim Krčmář <rkrcmar@redhat.com>

  '
submodule:
- arch/x86/kvm
hunk_count: 4
covered_count: 1
