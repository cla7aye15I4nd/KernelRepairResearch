id: 7a4842f0b1801230a989
bug_link: https://syzkaller.appspot.com/bug?extid=7a4842f0b1801230a989
title: 'KASAN: slab-out-of-bounds Read in udf_get_filelongad (2)'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: b405c1e58b73981da0f8df03b00666b22b9397ae
fix_commit: c226964ec786f3797ed389a16392ce4357697d24
datetime: '2024-10-02T14:32:29+02:00'
fix_commit_message: 'udf: refactor inode_bmap() to handle error


  Refactor inode_bmap() to handle error since udf_next_aext() can return

  error now. On situations like ftruncate, udf_extend_file() can now

  detect errors and bail out early without resorting to checking for

  particular offsets and assuming internal behavior of these functions.


  Reported-by: syzbot+7a4842f0b1801230a989@syzkaller.appspotmail.com

  Closes: https://syzkaller.appspot.com/bug?extid=7a4842f0b1801230a989

  Tested-by: syzbot+7a4842f0b1801230a989@syzkaller.appspotmail.com

  Signed-off-by: Zhao Mengmeng <zhaomengmeng@kylinos.cn>

  Suggested-by: Jan Kara <jack@suse.cz>

  Signed-off-by: Jan Kara <jack@suse.cz>

  Link: https://patch.msgid.link/20241001115425.266556-4-zhaomzhao@126.com

  '
submodule:
- fs/udf
hunk_count: 14
covered_count: 2
