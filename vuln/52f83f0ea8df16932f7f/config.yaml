id: 52f83f0ea8df16932f7f
bug_link: https://syzkaller.appspot.com/bug?extid=52f83f0ea8df16932f7f
title: WARNING in __snd_rawmidi_transmit_ack
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 0fca97a29b83e3f315c14ed2372cfd0f9ee0a006
fix_commit: 39675f7a7c7e7702f7d5341f1e0d01db746543a0
datetime: '2018-07-17T17:33:17+02:00'
fix_commit_message: 'ALSA: rawmidi: Change resized buffers atomically


  The SNDRV_RAWMIDI_IOCTL_PARAMS ioctl may resize the buffers and the

  current code is racy.  For example, the sequencer client may write to

  buffer while it being resized.


  As a simple workaround, let''s switch to the resized buffer inside the

  stream runtime lock.


  Reported-by: syzbot+52f83f0ea8df16932f7f@syzkaller.appspotmail.com

  Cc: <stable@vger.kernel.org>

  Signed-off-by: Takashi Iwai <tiwai@suse.de>

  '
submodule:
- sound/core
hunk_count: 4
covered_count: 0
