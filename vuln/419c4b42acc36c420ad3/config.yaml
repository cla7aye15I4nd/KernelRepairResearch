id: 419c4b42acc36c420ad3
bug_link: https://syzkaller.appspot.com/bug?extid=419c4b42acc36c420ad3
title: 'KCSAN: data-race in try_to_migrate_one / zap_page_range_single'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: b4c829fa4d56f3b566bbbb41c9a8ff0c83ae84c5
fix_commit: 2e976567233228ff928c2405f7e03ebb7fb7aa50
datetime: '2025-05-11T17:48:08-07:00'
fix_commit_message: 'mm: annotate data race in update_hiwater_rss


  mm_struct.hiwater_rss can be accessed concurrently without proper

  synchronization as reported by KCSAN.


  This data race is benign as it only affects accounting information.

  Annotate it with data_race() to make KCSAN happy.


  Link: https://lkml.kernel.org/r/20250331-mm-maxrss-data-race-v2-1-cf958e6205bf@iencinas.com

  Signed-off-by: Ignacio Encinas <ignacio@iencinas.com>

  Reported-by: syzbot+419c4b42acc36c420ad3@syzkaller.appspotmail.com

  Closes: https://lore.kernel.org/all/67e3390c.050a0220.1ec46.0001.GAE@google.com/

  Suggested-by: Lorenzo Stoakes <lorenzo.stoakes@oracle.com>

  Acked-by: Pedro Falcato <pfalcato@suse.de>

  Cc: Liam Howlett <liam.howlett@oracle.com>

  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>

  '
submodule:
- include/linux
hunk_count: 2
covered_count: 1
