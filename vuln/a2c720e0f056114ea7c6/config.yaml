id: a2c720e0f056114ea7c6
bug_link: https://syzkaller.appspot.com/bug?extid=a2c720e0f056114ea7c6
title: general protection fault in btrfs_stop_all_workers
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: be539518262774ed04336e7c68354b823dc6c5e4
fix_commit: 385de0ef387dc7f33fc5b828136cbc9516b3ec1a
datetime: '2022-05-16T17:03:16+02:00'
fix_commit_message: 'btrfs: use a normal workqueue for rmw_workers


  rmw_workers doesn''t need ordered execution or thread disabling threshold

  (as the thresh parameter is less than DFT_THRESHOLD).


  Just switch to the normal workqueues that use a lot less resources,

  especially in the work_struct vs btrfs_work structures.


  Reviewed-by: Qu Wenruo <wqu@suse.com>

  Signed-off-by: Christoph Hellwig <hch@lst.de>

  Reviewed-by: David Sterba <dsterba@suse.com>

  Signed-off-by: David Sterba <dsterba@suse.com>

  '
submodule:
- fs/btrfs
hunk_count: 12
covered_count: 1
