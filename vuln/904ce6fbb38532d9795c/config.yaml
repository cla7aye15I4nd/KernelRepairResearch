id: 904ce6fbb38532d9795c
bug_link: https://syzkaller.appspot.com/bug?extid=904ce6fbb38532d9795c
title: memory leak in hwsim_new_radio_nl
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: a8938bc881d2a03f9b77f19fae924fe798a01285
fix_commit: 098abbd48ec1accf111dde50a2a5392f2a15f59c
datetime: '2023-05-16T10:29:34-07:00'
fix_commit_message: 'mac80211_hwsim: fix memory leak in hwsim_new_radio_nl


  When parse_pmsr_capa failed in hwsim_new_radio_nl, the memory resources

  applied for by pmsr_capa are not released. Add release processing to the

  incorrect path.


  Fixes: 92d13386ec55 ("mac80211_hwsim: add PMSR capability support")

  Reported-by: syzbot+904ce6fbb38532d9795c@syzkaller.appspotmail.com

  Signed-off-by: Zhengchao Shao <shaozhengchao@huawei.com>

  Reviewed-by: Simon Horman <simon.horman@corigine.com>

  Link: https://lore.kernel.org/r/20230515092227.2691437-1-shaozhengchao@huawei.com

  Signed-off-by: Johannes Berg <johannes.berg@intel.com>

  '
submodule:
- drivers/net/wireless/virtual
hunk_count: 1
covered_count: 1
