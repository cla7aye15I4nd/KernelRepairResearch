id: b0975ce9355b347c1546
bug_link: https://syzkaller.appspot.com/bug?extid=b0975ce9355b347c1546
title: 'KMSAN: uninit-value in tipc_node_get_mtu'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 9d0c75bf6e03d9bf80c55b0f677dc9b982958fd5
fix_commit: 335b929b28aeb5bfc0698adb21deaf685b2982d1
datetime: '2018-04-12T21:55:38-04:00'
fix_commit_message: 'tipc: fix missing initializer in tipc_sendmsg()


  The stack variable ''dnode'' in __tipc_sendmsg() may theoretically

  end up tipc_node_get_mtu() as an unitilalized variable.


  We fix this by intializing the variable at declaration. We also add

  a default else clause to the two conditional ones already there, so

  that we never end up in the named function if the given address

  type is illegal.


  Reported-by: syzbot+b0975ce9355b347c1546@syzkaller.appspotmail.com

  Signed-off-by: Jon Maloy <jon.maloy@ericsson.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/tipc
hunk_count: 2
covered_count: 2
