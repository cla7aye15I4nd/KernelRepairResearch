id: 92e65e9b7a42d379f92e
bug_link: https://syzkaller.appspot.com/bug?extid=92e65e9b7a42d379f92e
title: 'KASAN: use-after-free Read in bch2_btree_node_read_done'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 7c9cef5f8bf10a803fd0937ea071a93778f1108a
fix_commit: d89a34b14df5c205de698c23c3950b2b947cdb97
datetime: '2025-06-16T19:03:52-04:00'
fix_commit_message: 'bcachefs: Move bset size check before csum check


  In syzbot''s crash, the bset''s u64s is larger than the btree node.


  Reported-by: syzbot+bfaeaa8e26281970158d@syzkaller.appspotmail.com

  Signed-off-by: Alan Huang <mmpgouride@gmail.com>

  Signed-off-by: Kent Overstreet <kent.overstreet@linux.dev>

  '
submodule:
- fs/bcachefs
hunk_count: 9
covered_count: 2
