id: 4aff7bdaa254c1d9f008
bug_link: https://syzkaller.appspot.com/bug?extid=4aff7bdaa254c1d9f008
title: kernel BUG in bch2_btree_write_buffer_flush_locked
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 9963a14da1091c114764bec8723cf81677ca691e
fix_commit: b3d82c2f27611c897c3877a51de8f8df755165af
datetime: '2024-12-21T01:36:20-05:00'
fix_commit_message: 'bcachefs: Guard against journal seq overflow


  Wraparound is impractical to handle since in various places we use 0 as

  a sentinal value - but 64 bits (or 56, because the btree write buffer

  steals a few bits) is enough for all practical purposes.


  Reported-by: syzbot+73ed43fbe826227bd4e0@syzkaller.appspotmail.com

  Signed-off-by: Kent Overstreet <kent.overstreet@linux.dev>

  '
submodule:
- fs/bcachefs
hunk_count: 3
covered_count: 0
