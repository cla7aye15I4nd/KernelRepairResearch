id: 0049bebbf3042dbd2e8f
bug_link: https://syzkaller.appspot.com/bug?extid=0049bebbf3042dbd2e8f
title: 'KMSAN: uninit-value in rds_connect'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: e3058450965972e67cc0e5492c08c4cdadafc134
fix_commit: dd3ac9a684358b8c1d5c432ca8322aaf5e4f28ee
datetime: '2019-04-12T10:25:03-07:00'
fix_commit_message: 'net/rds: Check address length before reading address family


  syzbot is reporting uninitialized value at rds_connect() [1] and

  rds_bind() [2]. This is because syzbot is passing ulen == 0 whereas

  these functions expect that it is safe to access sockaddr->family field

  in order to determine minimal address length for validation.


  [1] https://syzkaller.appspot.com/bug?id=f4e61c010416c1e6f0fa3ffe247561b60a50ad71

  [2] https://syzkaller.appspot.com/bug?id=a4bf9e41b7e055c3823fdcd83e8c58ca7270e38f


  Reported-by: syzbot <syzbot+0049bebbf3042dbd2e8f@syzkaller.appspotmail.com>

  Reported-by: syzbot <syzbot+915c9f99f3dbc4bd6cd1@syzkaller.appspotmail.com>

  Signed-off-by: Tetsuo Handa <penguin-kernel@I-love.SAKURA.ne.jp>

  Acked-by: Santosh Shilimkar <santosh.shilimkar@oracle.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/rds
hunk_count: 2
covered_count: 1
