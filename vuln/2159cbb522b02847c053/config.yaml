id: 2159cbb522b02847c053
bug_link: https://syzkaller.appspot.com/bug?extid=2159cbb522b02847c053
title: WARNING in io_pin_pages
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: ee116574de8415b0673c466e6cd28ba5f70c41a2
fix_commit: 0c0a4eae26ac78379d0c1db053de168a8febc6c9
datetime: '2024-11-26T07:59:17-07:00'
fix_commit_message: "io_uring: check for overflows in io_pin_pages\n\nWARNING: CPU:\
  \ 0 PID: 5834 at io_uring/memmap.c:144 io_pin_pages+0x149/0x180 io_uring/memmap.c:144\n\
  CPU: 0 UID: 0 PID: 5834 Comm: syz-executor825 Not tainted 6.12.0-next-20241118-syzkaller\
  \ #0\nCall Trace:\n <TASK>\n __io_uaddr_map+0xfb/0x2d0 io_uring/memmap.c:183\n io_rings_map\
  \ io_uring/io_uring.c:2611 [inline]\n io_allocate_scq_urings+0x1c0/0x650 io_uring/io_uring.c:3470\n\
  \ io_uring_create+0x5b5/0xc00 io_uring/io_uring.c:3692\n io_uring_setup io_uring/io_uring.c:3781\
  \ [inline]\n ...\n </TASK>\n\nio_pin_pages()'s uaddr parameter came directly from\
  \ the user and can be\ngarbage. Don't just add size to it as it can overflow.\n\n\
  Cc: stable@vger.kernel.org\nReported-by: syzbot+2159cbb522b02847c053@syzkaller.appspotmail.com\n\
  Signed-off-by: Pavel Begunkov <asml.silence@gmail.com>\nLink: https://lore.kernel.org/r/1b7520ddb168e1d537d64be47414a0629d0d8f8f.1732581026.git.asml.silence@gmail.com\n\
  Signed-off-by: Jens Axboe <axboe@kernel.dk>\n"
submodule:
- io_uring
hunk_count: 1
covered_count: 1
