id: 56edda805363e0a093b8
bug_link: https://syzkaller.appspot.com/bug?extid=56edda805363e0a093b8
title: 'BUG: unable to handle kernel NULL pointer dereference in mempool_alloc_noprof
  (2)'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: d89a34b14df5c205de698c23c3950b2b947cdb97
fix_commit: 56be92c63f02e0f6fd855075acb1471ea1c68539
datetime: '2025-06-16T19:03:52-04:00'
fix_commit_message: 'bcachefs: Fix pool->alloc NULL pointer dereference


  btree_interior_update_pool has not been initialized before the

  filesystem becomes read-write, thus mempool_alloc in bch2_btree_update_start

  will trigger pool->alloc NULL pointer dereference in mempool_alloc_noprof


  Reported-by: syzbot+2f3859bd28f20fa682e6@syzkaller.appspotmail.com

  Signed-off-by: Alan Huang <mmpgouride@gmail.com>

  Signed-off-by: Kent Overstreet <kent.overstreet@linux.dev>

  '
submodule:
- fs/bcachefs
hunk_count: 4
covered_count: 1
