id: a9ac39bf55329e206219
bug_link: https://syzkaller.appspot.com/bug?extid=a9ac39bf55329e206219
title: 'KASAN: use-after-free Read in task_is_descendant'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: a811dc61559e0c8003f1086c2a4dc8e4d5ae4cb8
fix_commit: 9474f4e7cd71a633fa1ef93b7daefd44bbdfd482
datetime: '2019-01-16T12:00:56-08:00'
fix_commit_message: 'Yama: Check for pid death before checking ancestry


  It''s possible that a pid has died before we take the rcu lock, in which

  case we can''t walk the ancestry list as it may be detached. Instead, check

  for death first before doing the walk.


  Reported-by: syzbot+a9ac39bf55329e206219@syzkaller.appspotmail.com

  Fixes: 2d514487faf1 ("security: Yama LSM")

  Cc: stable@vger.kernel.org

  Suggested-by: Oleg Nesterov <oleg@redhat.com>

  Signed-off-by: Kees Cook <keescook@chromium.org>

  Signed-off-by: James Morris <james.morris@microsoft.com>

  '
submodule:
- security/yama
hunk_count: 1
covered_count: 1
