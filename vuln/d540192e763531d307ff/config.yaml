id: d540192e763531d307ff
bug_link: https://syzkaller.appspot.com/bug?extid=d540192e763531d307ff
title: 'kernel panic: trans should be locked, unlocked by bch2_btree_update_start'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 72c0d9cb0fc48b6d382c3b5b6f702108a612cfdb
fix_commit: 5c4acbc8ce9025fe6e318966af8d3c42ffc6e9ca
datetime: '2025-06-24T15:46:59-04:00'
fix_commit_message: 'bcachefs: Don''t unlock the trans if ret doesn''t match BCH_ERR_operation_blocked


  Reported-by: syzbot+d540192e763531d307ff@syzkaller.appspotmail.com

  Signed-off-by: Alan Huang <mmpgouride@gmail.com>

  Signed-off-by: Kent Overstreet <kent.overstreet@linux.dev>

  '
submodule:
- fs/bcachefs
hunk_count: 1
covered_count: 1
