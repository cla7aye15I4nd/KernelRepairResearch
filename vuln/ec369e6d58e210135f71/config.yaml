id: ec369e6d58e210135f71
bug_link: https://syzkaller.appspot.com/bug?extid=ec369e6d58e210135f71
title: WARNING in ethnl_req_get_phydev
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 6af91e3d2cfc8bb579b1aa2d22cd91f8c34acdf6
fix_commit: cff69f72d33318f4ccfe7d5ff6c5616d00dd45a7
datetime: '2024-08-30T12:14:57-07:00'
fix_commit_message: 'ethtool: pse-pd: move pse validation into set


  Move validation into set, removing .set_validate operation as its current

  implementation holds the rtnl lock for acquiring the PHY device, defeating

  the intended purpose of checking before grabbing the lock.


  Reported-by: syzbot+ec369e6d58e210135f71@syzkaller.appspotmail.com

  Closes: https://syzkaller.appspot.com/bug?extid=ec369e6d58e210135f71

  Fixes: 31748765bed3 ("net: ethtool: pse-pd: Target the command to the requested
  PHY")

  Signed-off-by: Diogo Jahchan Koike <djahchankoike@gmail.com>

  Reviewed-by: Maxime Chevallier <maxime.chevallier@bootlin.com>

  Link: https://patch.msgid.link/20240829184830.5861-1-djahchankoike@gmail.com

  Signed-off-by: Jakub Kicinski <kuba@kernel.org>

  '
submodule:
- net/ethtool
hunk_count: 4
covered_count: 3
