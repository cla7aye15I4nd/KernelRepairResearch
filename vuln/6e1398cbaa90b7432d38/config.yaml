id: 6e1398cbaa90b7432d38
bug_link: https://syzkaller.appspot.com/bug?extid=6e1398cbaa90b7432d38
title: general protection fault in strlen
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 7155f8f391576f133ed26c8d6bb8c7f03ceb404a
fix_commit: cd443f1e91ca600a092e780e8250cd6a2954b763
datetime: '2018-01-18T15:14:51-05:00'
fix_commit_message: 'netlink: reset extack earlier in netlink_rcv_skb


  Move up the extack reset/initialization in netlink_rcv_skb, so that

  those ''goto ack'' will not skip it. Otherwise, later on netlink_ack

  may use the uninitialized extack and cause kernel crash.


  Fixes: cbbdf8433a5f ("netlink: extack needs to be reset each time through loop")

  Reported-by: syzbot+03bee3680a37466775e7@syzkaller.appspotmail.com

  Signed-off-by: Xin Long <lucien.xin@gmail.com>

  Acked-by: David Ahern <dsahern@gmail.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/netlink
hunk_count: 2
covered_count: 2
