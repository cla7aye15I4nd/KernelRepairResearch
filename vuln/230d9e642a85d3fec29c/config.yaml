id: 230d9e642a85d3fec29c
bug_link: https://syzkaller.appspot.com/bug?extid=230d9e642a85d3fec29c
title: WARNING in add_uevent_var
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 911a26484c33e10de6237228ca1d7293548e9f49
fix_commit: a7cfebcb7594a24609268f91299ab85ba064bf82
datetime: '2018-04-19T15:46:34+02:00'
fix_commit_message: 'cfg80211: limit wiphy names to 128 bytes


  There''s currently no limit on wiphy names, other than netlink

  message size and memory limitations, but that causes issues when,

  for example, the wiphy name is used in a uevent, e.g. in rfkill

  where we use the same name for the rfkill instance, and then the

  buffer there is "only" 2k for the environment variables.


  This was reported by syzkaller, which used a 4k name.


  Limit the name to something reasonable, I randomly picked 128.


  Reported-by: syzbot+230d9e642a85d3fec29c@syzkaller.appspotmail.com

  Signed-off-by: Johannes Berg <johannes.berg@intel.com>

  '
submodule:
- include/uapi/linux
- net/wireless
hunk_count: 2
covered_count: 1
