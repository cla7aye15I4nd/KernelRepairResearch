id: d6734079f30f7fc39021
bug_link: https://syzkaller.appspot.com/bug?extid=d6734079f30f7fc39021
title: kernel BUG at drivers/dma-buf/dma-buf.c:LINE!
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 3650b228f83adda7e5ee532e2b90429c03f7b9ec
fix_commit: e722a295cf493388dae474745d30e91e1a2ec549
datetime: '2020-10-26T06:53:09+01:00'
fix_commit_message: 'staging: ion: remove from the tree


  The ION android code has long been marked to be removed, now that we

  dma-buf support merged into the real part of the kernel.


  It was thought that we could wait to remove the ion kernel at a later

  time, but as the out-of-tree Android fork of the ion code has diverged

  quite a bit, and any Android device using the ion interface uses that

  forked version and not this in-tree version, the in-tree copy of the

  code is abandonded and not used by anyone.


  Combine this abandoned codebase with the need to make changes to it in

  order to keep the kernel building properly, which then causes merge

  issues when merging those changes into the out-of-tree Android code, and

  you end up with two different groups of people (the in-kernel-tree

  developers, and the Android kernel developers) who are both annoyed at

  the current situation.  Because of this problem, just drop the in-kernel

  copy of the ion code now, as it''s not used, and is only causing problems

  for everyone involved.


  Cc: "Arve Hjønnevåg" <arve@android.com>

  Cc: "Christian König" <christian.koenig@amd.com>

  Cc: Christian Brauner <christian@brauner.io>

  Cc: Christoph Hellwig <hch@infradead.org>

  Cc: Hridya Valsaraju <hridya@google.com>

  Cc: Joel Fernandes <joel@joelfernandes.org>

  Cc: John Stultz <john.stultz@linaro.org>

  Cc: Laura Abbott <laura@labbott.name>

  Cc: Martijn Coenen <maco@android.com>

  Cc: Shuah Khan <shuah@kernel.org>

  Cc: Sumit Semwal <sumit.semwal@linaro.org>

  Cc: Suren Baghdasaryan <surenb@google.com>

  Cc: Todd Kjos <tkjos@android.com>

  Acked-by: Shuah Khan <skhan@linuxfoundation.org>

  Link: https://lore.kernel.org/r/20200827123627.538189-1-gregkh@linuxfoundation.org

  Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

  '
submodule:
- drivers/staging/android
- drivers/staging/android/ion
- drivers/staging/android/uapi
- tools/testing/selftests
- tools/testing/selftests/android
- tools/testing/selftests/android/ion
hunk_count: 29
covered_count: 0
