id: 02a42d9b1bd395cbcab4
bug_link: https://syzkaller.appspot.com/bug?extid=02a42d9b1bd395cbcab4
title: general protection fault in hsr_proxy_announce
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 62540317771138c34dc87448366741bd7658681f
fix_commit: a7789fd4caaf96ecfed5e28c4cddb927e6bebadb
datetime: '2024-09-11T15:49:41-07:00'
fix_commit_message: 'net: hsr: prevent NULL pointer dereference in hsr_proxy_announce()


  In the function hsr_proxy_annouance() added in the previous commit

  5f703ce5c981 ("net: hsr: Send supervisory frames to HSR network

  with ProxyNodeTable data"), the return value of the hsr_port_get_hsr()

  function is not checked to be a NULL pointer, which causes a NULL

  pointer dereference.


  To solve this, we need to add code to check whether the return value

  of hsr_port_get_hsr() is NULL.


  Reported-by: syzbot+02a42d9b1bd395cbcab4@syzkaller.appspotmail.com

  Fixes: 5f703ce5c981 ("net: hsr: Send supervisory frames to HSR network with ProxyNodeTable
  data")

  Signed-off-by: Jeongjun Park <aha310510@gmail.com>

  Reviewed-by: Simon Horman <horms@kernel.org>

  Acked-by: Lukasz Majewski <lukma@denx.de>

  Link: https://patch.msgid.link/20240907190341.162289-1-aha310510@gmail.com

  Signed-off-by: Jakub Kicinski <kuba@kernel.org>

  '
submodule:
- net/hsr
hunk_count: 2
covered_count: 2
