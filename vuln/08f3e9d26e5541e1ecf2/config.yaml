id: 08f3e9d26e5541e1ecf2
bug_link: https://syzkaller.appspot.com/bug?extid=08f3e9d26e5541e1ecf2
title: 'KCSAN: data-race in process_srcu / synchronize_srcu'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 7441e7661d6586ae36329b7956e4d713d81e9903
fix_commit: 844a378de3372c923909681706d62336d702531e
datetime: '2020-01-24T10:33:51-08:00'
fix_commit_message: 'srcu: Apply *_ONCE() to ->srcu_last_gp_end


  The ->srcu_last_gp_end field is accessed from any CPU at any time

  by synchronize_srcu(), so non-initialization references need to use

  READ_ONCE() and WRITE_ONCE().  This commit therefore makes that change.


  Reported-by: syzbot+08f3e9d26e5541e1ecf2@syzkaller.appspotmail.com

  Acked-by: Marco Elver <elver@google.com>

  Signed-off-by: Paul E. McKenney <paulmck@kernel.org>

  '
submodule:
- kernel/rcu
hunk_count: 3
covered_count: 3
