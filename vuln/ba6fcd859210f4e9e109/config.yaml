id: ba6fcd859210f4e9e109
bug_link: https://syzkaller.appspot.com/bug?extid=ba6fcd859210f4e9e109
title: 'INFO: task hung in io_uring_cancel_generic'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 9c6882608bce249a8918744ecdb65748534e3f17
fix_commit: 1b48773f9fd09f311d1166ce1dd50652ebe05218
datetime: '2021-07-11T16:39:06-06:00'
fix_commit_message: 'io_uring: fix io_drain_req()


  io_drain_req() return whether the request has been consumed or not, not

  an error code. Fix a stupid mistake slipped from optimisation patches.


  Reported-by: syzbot+ba6fcd859210f4e9e109@syzkaller.appspotmail.com

  Fixes: 76cc33d79175a ("io_uring: refactor io_req_defer()")

  Signed-off-by: Pavel Begunkov <asml.silence@gmail.com>

  Link: https://lore.kernel.org/r/4d3c53c4274ffff307c8ae062fc7fda63b978df2.1626039606.git.asml.silence@gmail.com

  Signed-off-by: Jens Axboe <axboe@kernel.dk>

  '
submodule:
- fs
hunk_count: 1
covered_count: 0
