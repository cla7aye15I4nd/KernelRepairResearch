id: 50ee810676e6a089487b
bug_link: https://syzkaller.appspot.com/bug?extid=50ee810676e6a089487b
title: 'KMSAN: kernel-infoleak in _copy_to_iter (5)'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 22f69de18ee86e81dc41253869e5dd963ccea429
fix_commit: 08c27f3322fec11950b8f1384aa0f3b11d028528
datetime: '2021-04-05T15:06:03-07:00'
fix_commit_message: 'batman-adv: initialize "struct batadv_tvlv_tt_vlan_data"->reserved
  field


  KMSAN found uninitialized value at batadv_tt_prepare_tvlv_local_data()

  [1], for commit ced72933a5e8ab52 ("batman-adv: use CRC32C instead of CRC16

  in TT code") inserted ''reserved'' field into "struct batadv_tvlv_tt_data"

  and commit 7ea7b4a142758dea ("batman-adv: make the TT CRC logic VLAN

  specific") moved that field to "struct batadv_tvlv_tt_vlan_data" but left

  that field uninitialized.


  [1] https://syzkaller.appspot.com/bug?id=07f3e6dba96f0eb3cabab986adcd8a58b9bdbe9d


  Reported-by: syzbot <syzbot+50ee810676e6a089487b@syzkaller.appspotmail.com>

  Tested-by: syzbot <syzbot+50ee810676e6a089487b@syzkaller.appspotmail.com>

  Signed-off-by: Tetsuo Handa <penguin-kernel@I-love.SAKURA.ne.jp>

  Fixes: ced72933a5e8ab52 ("batman-adv: use CRC32C instead of CRC16 in TT code")

  Fixes: 7ea7b4a142758dea ("batman-adv: make the TT CRC logic VLAN specific")

  Acked-by: Sven Eckelmann <sven@narfation.org>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/batman-adv
hunk_count: 2
covered_count: 0
