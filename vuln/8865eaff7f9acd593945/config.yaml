id: 8865eaff7f9acd593945
bug_link: https://syzkaller.appspot.com/bug?extid=8865eaff7f9acd593945
title: 'KASAN: use-after-free Read in psock_write_space'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: d3303a65a00c94372ddab831570647488e6c06e2
fix_commit: 581e7226a5d43f629eb6399a121f85f6a15f81be
datetime: '2018-01-24T15:54:30-05:00'
fix_commit_message: 'kcm: Only allow TCP sockets to be attached to a KCM mux


  TCP sockets for IPv4 and IPv6 that are not listeners or in closed

  stated are allowed to be attached to a KCM mux.


  Fixes: ab7ac4eb9832 ("kcm: Kernel Connection Multiplexor module")

  Reported-by: syzbot+8865eaff7f9acd593945@syzkaller.appspotmail.com

  Signed-off-by: Tom Herbert <tom@quantonium.net>

  Reviewed-by: Eric Dumazet <edumazet@google.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/kcm
hunk_count: 1
covered_count: 1
