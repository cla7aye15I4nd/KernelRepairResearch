id: c0138741c2290fc5e63f
bug_link: https://syzkaller.appspot.com/bug?extid=c0138741c2290fc5e63f
title: 'WARNING: locking bug in loop_control_ioctl'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 8e18ebef4dd4c83cea65730821da423553ed6019
fix_commit: 628bd85947091830a8c4872adfd5ed1d515a9cf2
datetime: '2018-11-12T08:44:06-07:00'
fix_commit_message: 'loop: Fix double mutex_unlock(&loop_ctl_mutex) in loop_control_ioctl()


  Commit 0a42e99b58a20883 ("loop: Get rid of loop_index_mutex") forgot to

  remove mutex_unlock(&loop_ctl_mutex) from loop_control_ioctl() when

  replacing loop_index_mutex with loop_ctl_mutex.


  Fixes: 0a42e99b58a20883 ("loop: Get rid of loop_index_mutex")

  Reported-by: syzbot <syzbot+c0138741c2290fc5e63f@syzkaller.appspotmail.com>

  Reviewed-by: Ming Lei <ming.lei@redhat.com>

  Reviewed-by: Jan Kara <jack@suse.cz>

  Signed-off-by: Tetsuo Handa <penguin-kernel@I-love.SAKURA.ne.jp>

  Signed-off-by: Jens Axboe <axboe@kernel.dk>

  '
submodule:
- drivers/block
hunk_count: 1
covered_count: 1
