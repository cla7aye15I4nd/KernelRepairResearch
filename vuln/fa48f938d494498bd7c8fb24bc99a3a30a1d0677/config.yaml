id: fa48f938d494498bd7c8fb24bc99a3a30a1d0677
bug_link: https://syzkaller.appspot.com/bug?extid=fa48f938d494498bd7c8fb24bc99a3a30a1d0677
title: WARNING in snd_timer_user_info_compat
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 20e3f985bb875fea4f86b04eba4b6cc29bfd6b71
fix_commit: 3d4e8303f2c747c8540a0a0126d0151514f6468b
datetime: '2017-11-21T16:36:11+01:00'
fix_commit_message: 'ALSA: timer: Remove kernel warning at compat ioctl error paths


  Some timer compat ioctls have NULL checks of timer instance with

  snd_BUG_ON() that bring up WARN_ON() when the debug option is set.

  Actually the condition can be met in the normal situation and it''s

  confusing and bad to spew kernel warnings with stack trace there.

  Let''s remove snd_BUG_ON() invocation and replace with the simple

  checks.  Also, correct the error code to EBADFD to follow the native

  ioctl error handling.


  Reported-by: syzbot <syzkaller@googlegroups.com>

  Cc: <stable@vger.kernel.org>

  Signed-off-by: Takashi Iwai <tiwai@suse.de>

  '
submodule:
- sound/core
hunk_count: 2
covered_count: 2
