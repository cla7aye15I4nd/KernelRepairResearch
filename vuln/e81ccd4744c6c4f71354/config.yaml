id: e81ccd4744c6c4f71354
bug_link: https://syzkaller.appspot.com/bug?extid=e81ccd4744c6c4f71354
title: general protection fault in rb_erase
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 799578ab16e86b074c184ec5abbda0bc698c7b0b
fix_commit: 18aded17492088962ef43f00825179598b3e8c58
datetime: '2018-10-02T18:21:19-04:00'
fix_commit_message: "ext4: fix EXT4_IOC_SWAP_BOOT\n\nThe code EXT4_IOC_SWAP_BOOT ioctl\
  \ hasn't been updated in a while, and\nit's a bit broken with respect to more modern\
  \ ext4 kernels, especially\nmetadata checksums.\n\nOther problems fixed with this\
  \ commit:\n\n* Don't allow installing a DAX, swap file, or an encrypted file as\
  \ a\n  boot loader.\n\n* Respect the immutable and append-only flags.\n\n* Wait\
  \ until any DIO operations are finished *before* calling\n  truncate_inode_pages().\n\
  \n* Don't swap inode->i_flags, since these flags have nothing to do with\n  the\
  \ inode blocks --- and it will give the IMA/audit code heartburn\n  when the inode\
  \ is evicted.\n\nSigned-off-by: Theodore Ts'o <tytso@mit.edu>\nCc: stable@kernel.org\n\
  Reported-by: syzbot+e81ccd4744c6c4f71354@syzkaller.appspotmail.com\n"
submodule:
- fs/ext4
hunk_count: 7
covered_count: 7
