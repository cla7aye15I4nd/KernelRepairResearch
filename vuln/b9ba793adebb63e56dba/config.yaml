id: b9ba793adebb63e56dba
bug_link: https://syzkaller.appspot.com/bug?extid=b9ba793adebb63e56dba
title: 'UBSAN: shift-out-of-bounds in dbAllocBits'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 69b41ac87e4a664de78a395ff97166f0b2943210
fix_commit: fad376fce0af58deebc5075b8539dc05bf639af3
datetime: '2023-01-03T10:43:37-06:00'
fix_commit_message: "fs/jfs: fix shift exponent db_agl2size negative\n\nAs a shift\
  \ exponent, db_agl2size can not be less than 0. Add the missing\ncheck to fix the\
  \ shift-out-of-bounds bug reported by syzkaller:\n\n UBSAN: shift-out-of-bounds\
  \ in fs/jfs/jfs_dmap.c:2227:15\n shift exponent -744642816 is negative\n\nReported-by:\
  \ syzbot+0be96567042453c0c820@syzkaller.appspotmail.com\nFixes: 1da177e4c3f4 (\"\
  Linux-2.6.12-rc2\")\nSigned-off-by: Liu Shixin <liushixin2@huawei.com>\nSigned-off-by:\
  \ Dave Kleikamp <dave.kleikamp@oracle.com>\n"
submodule:
- fs/jfs
hunk_count: 1
covered_count: 1
