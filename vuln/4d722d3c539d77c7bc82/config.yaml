id: 4d722d3c539d77c7bc82
bug_link: https://syzkaller.appspot.com/bug?extid=4d722d3c539d77c7bc82
title: kernel BUG in __bkey_unpack_pos
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: f8f1dde6868139f2294786365c56d7ff5cc3f4e7
fix_commit: dc537189b5cf09e61839491fc6a465c5659d7dbd
datetime: '2024-11-08T14:07:11-05:00'
fix_commit_message: 'bcachefs: Fix validate_bset() repair path


  When we truncate a bset (due to it extending past the end of the btree

  node), we can''t skip the rest of the validation for e.g. the packed

  format (if it''s the first bset in the node).


  Reported-by: syzbot+4d722d3c539d77c7bc82@syzkaller.appspotmail.com

  Signed-off-by: Kent Overstreet <kent.overstreet@linux.dev>

  '
submodule:
- fs/bcachefs
hunk_count: 2
covered_count: 0
