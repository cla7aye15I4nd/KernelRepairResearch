id: 6eb09d75211863f15e3e
bug_link: https://syzkaller.appspot.com/bug?extid=6eb09d75211863f15e3e
title: memory leak in skb_copy (2)
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: b6fe6f03716da246b453369f98a553d4ab21447c
fix_commit: 84d2db91f14a32dc856a5972e3f0907089093c7a
datetime: '2023-11-22T10:55:48+00:00'
fix_commit_message: 'nfc: virtual_ncidev: Add variable to check if ndev is running


  syzbot reported an memory leak that happens when an skb is add to

  send_buff after virtual nci closed.

  This patch adds a variable to track if the ndev is running before

  handling new skb in send function.


  Signed-off-by: Nguyen Dinh Phi <phind.uet@gmail.com>

  Reported-by: syzbot+6eb09d75211863f15e3e@syzkaller.appspotmail.com

  Closes: https://lore.kernel.org/lkml/00000000000075472b06007df4fb@google.com

  Reviewed-by: Bongsu Jeon

  Reviewed-by: Krzysztof Kozlowski <krzysztof.kozlowski@linaro.org>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- drivers/nfc
hunk_count: 3
covered_count: 3
