id: 9c6f0f1f8e32223df9a4
bug_link: https://syzkaller.appspot.com/bug?extid=9c6f0f1f8e32223df9a4
title: 'KASAN: slab-out-of-bounds Read in br_mrp_parse'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 07153961f82878dee73717f64761d67dff9546c1
fix_commit: 617504c67e01d30310558442777a4112ea6d587d
datetime: '2020-05-25T18:09:26-07:00'
fix_commit_message: 'bridge: mrp: Fix out-of-bounds read in br_mrp_parse


  The issue was reported by syzbot. When the function br_mrp_parse was

  called with a valid net_bridge_port, the net_bridge was an invalid

  pointer. Therefore the check br->stp_enabled could pass/fail

  depending where it was pointing in memory.

  The fix consists of setting the net_bridge pointer if the port is a

  valid pointer.


  Reported-by: syzbot+9c6f0f1f8e32223df9a4@syzkaller.appspotmail.com

  Fixes: 6536993371fa ("bridge: mrp: Integrate MRP into the bridge")

  Signed-off-by: Horatiu Vultur <horatiu.vultur@microchip.com>

  Acked-by: Nikolay Aleksandrov <nikolay@cumulusnetworks.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/bridge
hunk_count: 1
covered_count: 1
