id: 4ef359e6b423499fa4e1
bug_link: https://syzkaller.appspot.com/bug?extid=4ef359e6b423499fa4e1
title: 'WARNING: lock held when returning to user space in ieee80211_change_mac'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 092197f1f47f8359b46ea62445d87561949b577d
fix_commit: ceb3d688f92231e9d9e663c56a1c8bee90140bad
datetime: '2022-10-07T14:41:14+02:00'
fix_commit_message: 'wifi: mac80211: unlock on error in ieee80211_can_powered_addr_change()


  Unlock before returning -EOPNOTSUPP.


  Fixes: 3c06e91b40db ("wifi: mac80211: Support POWERED_ADDR_CHANGE feature")

  Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com>

  Signed-off-by: Johannes Berg <johannes.berg@intel.com>

  '
submodule:
- net/mac80211
hunk_count: 1
covered_count: 1
