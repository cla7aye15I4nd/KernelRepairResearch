id: 21e6887c0be14181206d
bug_link: https://syzkaller.appspot.com/bug?extid=21e6887c0be14181206d
title: 'INFO: task hung in io_uring_cancel_generic (2)'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: e47498afeca9a0c6d07eeeacc46d563555a3f677
fix_commit: 78a780602075d8b00c98070fa26e389b3b3efa72
datetime: '2021-12-10T13:56:28-07:00'
fix_commit_message: 'io_uring: ensure task_work gets run as part of cancelations


  If we successfully cancel a work item but that work item needs to be

  processed through task_work, then we can be sleeping uninterruptibly

  in io_uring_cancel_generic() and never process it. Hence we don''t

  make forward progress and we end up with an uninterruptible sleep

  warning.


  While in there, correct a comment that should be IFF, not IIF.


  Reported-and-tested-by: syzbot+21e6887c0be14181206d@syzkaller.appspotmail.com

  Cc: stable@vger.kernel.org

  Signed-off-by: Jens Axboe <axboe@kernel.dk>

  '
submodule:
- fs
hunk_count: 2
covered_count: 2
