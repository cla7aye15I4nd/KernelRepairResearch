id: e4c8abb920efa77bace9
bug_link: https://syzkaller.appspot.com/bug?extid=e4c8abb920efa77bace9
title: WARNING in port_delete
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: f0654ba94e33699b295ce4f3dc73094db6209035
fix_commit: 7c32ae35fbf9cffb7aa3736f44dec10c944ca18e
datetime: '2019-04-12T12:50:10+02:00'
fix_commit_message: 'ALSA: seq: Cover unsubscribe_port() in list_mutex


  The call of unsubscribe_port() which manages the group count and

  module refcount from delete_and_unsubscribe_port() looks racy; it''s

  not covered by the group list lock, and it''s likely a cause of the

  reported unbalance at port deletion.  Let''s move the call inside the

  group list_mutex to plug the hole.


  Reported-by: syzbot+e4c8abb920efa77bace9@syzkaller.appspotmail.com

  Signed-off-by: Takashi Iwai <tiwai@suse.de>

  '
submodule:
- sound/core/seq
hunk_count: 1
covered_count: 0
