id: c8ae65286134dd1b800d
bug_link: https://syzkaller.appspot.com/bug?extid=c8ae65286134dd1b800d
title: 'KASAN: use-after-free Read in drm_gem_object_release_handle'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: d3d6b1bf85aefe0ebc0624574b3bb62f0693914c
fix_commit: 24013314be6ee4ee456114a671e9fa3461323de8
datetime: '2022-12-04T18:56:52+01:00'
fix_commit_message: 'drm/shmem-helper: Remove errant put in error path


  drm_gem_shmem_mmap() doesn''t own this reference, resulting in the GEM

  object getting prematurely freed leading to a later use-after-free.


  Link: https://syzkaller.appspot.com/bug?extid=c8ae65286134dd1b800d

  Reported-by: syzbot+c8ae65286134dd1b800d@syzkaller.appspotmail.com

  Fixes: 2194a63a818d ("drm: Add library for shmem backed GEM objects")

  Cc: stable@vger.kernel.org

  Signed-off-by: Rob Clark <robdclark@chromium.org>

  Reviewed-by: Daniel Vetter <daniel.vetter@ffwll.ch>

  Signed-off-by: Javier Martinez Canillas <javierm@redhat.com>

  Link: https://patchwork.freedesktop.org/patch/msgid/20221130185748.357410-2-robdclark@gmail.com

  '
submodule:
- drivers/gpu/drm
hunk_count: 1
covered_count: 0
