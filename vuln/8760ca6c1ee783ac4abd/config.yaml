id: 8760ca6c1ee783ac4abd
bug_link: https://syzkaller.appspot.com/bug?extid=8760ca6c1ee783ac4abd
title: 'BUG: sleeping function called from invalid context in _copy_to_iter'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: f4083a752a3b7dc2076432129c8469d02c25318e
fix_commit: 876c14ad014d0e39c57cbfde53e13d17cdb6d645
datetime: '2021-08-13T10:31:22-07:00'
fix_commit_message: 'af_unix: fix holding spinlock in oob handling


  syzkaller found that OOB code was holding spinlock

  while calling a function in which it could sleep.


  Reported-by: syzbot+8760ca6c1ee783ac4abd@syzkaller.appspotmail.com

  Fixes: 314001f0bf92 ("af_unix: Add OOB support")

  Signed-off-by: Rao Shoaib <rao.shoaib@oracle.com>

  Link: https://lore.kernel.org/r/20210811220652.567434-1-Rao.Shoaib@oracle.com

  Signed-off-by: Jakub Kicinski <kuba@kernel.org>

  '
submodule:
- net/unix
hunk_count: 2
covered_count: 2
