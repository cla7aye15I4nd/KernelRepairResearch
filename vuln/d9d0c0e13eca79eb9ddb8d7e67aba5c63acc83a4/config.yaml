id: d9d0c0e13eca79eb9ddb8d7e67aba5c63acc83a4
bug_link: https://syzkaller.appspot.com/bug?extid=d9d0c0e13eca79eb9ddb8d7e67aba5c63acc83a4
title: general protection fault in binder_poll
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 7928b2cbe55b2a410a0f5c1f154610059c57b1b2
fix_commit: f88982679f54f75daa5b8eff3da72508f1e7422f
datetime: '2018-02-16T11:15:44+01:00'
fix_commit_message: 'binder: check for binder_thread allocation failure in binder_poll()


  If the kzalloc() in binder_get_thread() fails, binder_poll()

  dereferences the resulting NULL pointer.


  Fix it by returning POLLERR if the memory allocation failed.


  This bug was found by syzkaller using fault injection.


  Reported-by: syzbot <syzkaller@googlegroups.com>

  Fixes: 457b9a6f09f0 ("Staging: android: add binder driver")

  Cc: stable@vger.kernel.org

  Signed-off-by: Eric Biggers <ebiggers@google.com>

  Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

  '
submodule:
- drivers/android
hunk_count: 1
covered_count: 1
