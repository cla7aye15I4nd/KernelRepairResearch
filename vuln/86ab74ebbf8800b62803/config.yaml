id: 86ab74ebbf8800b62803
bug_link: https://syzkaller.appspot.com/bug?extid=86ab74ebbf8800b62803
title: 'upstream boot error: kernel panic: VFS: Unable to mount root fs on unknown-block(0,0)'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 49da96d77938db21864dae6b7736b71e96c1d203
fix_commit: c43ddbf97f46b93727718408d60a47ce8c08f30c
datetime: '2021-06-22T21:50:15-04:00'
fix_commit_message: 'scsi: virtio_scsi: Do not overwrite SCSI status


  When a sense code is present we should not override the SAM status; the

  driver already sets it based on the response from the hypervisor.


  In addition we should only copy the sense buffer if one is actually

  provided by the hypervisor.


  Link: https://lore.kernel.org/r/20210622091153.29231-1-hare@suse.de

  Fixes: 464a00c9e0ad ("scsi: core: Kill DRIVER_SENSE")

  Tested-by: Guenter Roeck <linux@roeck-us.net>

  Tested-by: Jiri Slaby <jirislaby@kernel.org>

  Signed-off-by: Hannes Reinecke <hare@suse.de>

  Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>

  '
submodule:
- drivers/scsi
hunk_count: 1
covered_count: 0
