id: 23bc20037854bb335d59
bug_link: https://syzkaller.appspot.com/bug?extid=23bc20037854bb335d59
title: general protection fault in lbmStartIO
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: b3856da7906257a80a764d3dfc6b25e876a4403c
fix_commit: 6306ff39a7fcb7e9c59a00e6860b933b71a2ed3e
datetime: '2023-10-28T13:29:22+02:00'
fix_commit_message: 'jfs: fix log->bdev_handle null ptr deref in lbmStartIO


  When sbi->flag is JFS_NOINTEGRITY in lmLogOpen(), log->bdev_handle can''t

  be inited, so it value will be NULL.

  Therefore, add the "log ->no_integrity=1" judgment in lbmStartIO() to avoid such

  problems.


  Reported-and-tested-by: syzbot+23bc20037854bb335d59@syzkaller.appspotmail.com

  Signed-off-by: Lizhi Xu <lizhi.xu@windriver.com>

  Link: https://lore.kernel.org/r/20231009094557.1398920-1-lizhi.xu@windriver.com

  Reviewed-by: Jan Kara <jack@suse.cz>

  Signed-off-by: Christian Brauner <brauner@kernel.org>

  '
submodule:
- fs/jfs
hunk_count: 1
covered_count: 1
