id: 9833a1d29d4a44361e2c
bug_link: https://syzkaller.appspot.com/bug?extid=9833a1d29d4a44361e2c
title: 'UBSAN: shift-out-of-bounds in bch2_bkey_format_invalid'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 5dfd3746b6c486db18bc75de89c7abce41c7826c
fix_commit: 61692c7812ab2aca17a3751f6e7798acbdae4b6b
datetime: '2024-05-08T14:57:19-04:00'
fix_commit_message: 'bcachefs: bch2_bkey_format_field_overflows()


  Fix another shift-by-64 by factoring out a common helper for

  bch2_bkey_format_invalid() and bformat_needs_redo() (where it was

  already fixed).


  Reported-by: syzbot+9833a1d29d4a44361e2c@syzkaller.appspotmail.com

  Signed-off-by: Kent Overstreet <kent.overstreet@linux.dev>

  '
submodule:
- fs/bcachefs
hunk_count: 3
covered_count: 1
