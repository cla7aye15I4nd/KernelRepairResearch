id: 4a4f1eba14eb5c3417d1
bug_link: https://syzkaller.appspot.com/bug?extid=4a4f1eba14eb5c3417d1
title: WARNING in btrfs_issue_discard
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: f398e70dd69e6ceea71463a5380e6118f219197e
fix_commit: a208b3f132b48e1f94f620024e66fea635925877
datetime: '2024-01-18T23:35:57+01:00'
fix_commit_message: 'btrfs: don''t warn if discard range is not aligned to sector


  There''s a warning in btrfs_issue_discard() when the range is not aligned

  to 512 bytes, originally added in 4d89d377bbb0 ("btrfs:

  btrfs_issue_discard ensure offset/length are aligned to sector

  boundaries"). We can''t do sub-sector writes anyway so the adjustment is

  the only thing that we can do and the warning is unnecessary.


  CC: stable@vger.kernel.org # 4.19+

  Reported-by: syzbot+4a4f1eba14eb5c3417d1@syzkaller.appspotmail.com

  Reviewed-by: Johannes Thumshirn <johannes.thumshirn@wdc.com>

  Reviewed-by: Anand Jain <anand.jain@oracle.com>

  Signed-off-by: David Sterba <dsterba@suse.com>

  '
submodule:
- fs/btrfs
hunk_count: 1
covered_count: 1
