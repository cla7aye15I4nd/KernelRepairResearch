id: e69f06a0f30116c68056
bug_link: https://syzkaller.appspot.com/bug?extid=e69f06a0f30116c68056
title: 'KMSAN: uninit-value in __sctp_v6_cmp_addr (2)'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: bcd6f8954dc4a3aa32edda5602e43a0174dc8f0f
fix_commit: 2e8750469242cad8f01f320131fd5a6f540dbb99
datetime: '2025-08-27T17:15:21-07:00'
fix_commit_message: "sctp: initialize more fields in sctp_v6_from_sk()\n\nsyzbot found\
  \ that sin6_scope_id was not properly initialized,\nleading to undefined behavior.\n\
  \nClear sin6_scope_id and sin6_flowinfo.\n\nBUG: KMSAN: uninit-value in __sctp_v6_cmp_addr+0x887/0x8c0\
  \ net/sctp/ipv6.c:649\n  __sctp_v6_cmp_addr+0x887/0x8c0 net/sctp/ipv6.c:649\n  sctp_inet6_cmp_addr+0x4f2/0x510\
  \ net/sctp/ipv6.c:983\n  sctp_bind_addr_conflict+0x22a/0x3b0 net/sctp/bind_addr.c:390\n\
  \  sctp_get_port_local+0x21eb/0x2440 net/sctp/socket.c:8452\n  sctp_get_port net/sctp/socket.c:8523\
  \ [inline]\n  sctp_listen_start net/sctp/socket.c:8567 [inline]\n  sctp_inet_listen+0x710/0xfd0\
  \ net/sctp/socket.c:8636\n  __sys_listen_socket net/socket.c:1912 [inline]\n  __sys_listen\
  \ net/socket.c:1927 [inline]\n  __do_sys_listen net/socket.c:1932 [inline]\n  __se_sys_listen\
  \ net/socket.c:1930 [inline]\n  __x64_sys_listen+0x343/0x4c0 net/socket.c:1930\n\
  \  x64_sys_call+0x271d/0x3e20 arch/x86/include/generated/asm/syscalls_64.h:51\n\
  \  do_syscall_x64 arch/x86/entry/syscall_64.c:63 [inline]\n  do_syscall_64+0xd9/0x210\
  \ arch/x86/entry/syscall_64.c:94\n entry_SYSCALL_64_after_hwframe+0x77/0x7f\n\n\
  Local variable addr.i.i created at:\n  sctp_get_port net/sctp/socket.c:8515 [inline]\n\
  \  sctp_listen_start net/sctp/socket.c:8567 [inline]\n  sctp_inet_listen+0x650/0xfd0\
  \ net/sctp/socket.c:8636\n  __sys_listen_socket net/socket.c:1912 [inline]\n  __sys_listen\
  \ net/socket.c:1927 [inline]\n  __do_sys_listen net/socket.c:1932 [inline]\n  __se_sys_listen\
  \ net/socket.c:1930 [inline]\n  __x64_sys_listen+0x343/0x4c0 net/socket.c:1930\n\
  \nFixes: 1da177e4c3f4 (\"Linux-2.6.12-rc2\")\nReported-by: syzbot+e69f06a0f30116c68056@syzkaller.appspotmail.com\n\
  Closes: https://lore.kernel.org/netdev/68adc0a2.050a0220.37038e.00c4.GAE@google.com/T/#u\n\
  Signed-off-by: Eric Dumazet <edumazet@google.com>\nCc: Marcelo Ricardo Leitner <marcelo.leitner@gmail.com>\n\
  Acked-by: Xin Long <lucien.xin@gmail.com>\nLink: https://patch.msgid.link/20250826141314.1802610-1-edumazet@google.com\n\
  Signed-off-by: Jakub Kicinski <kuba@kernel.org>\n"
submodule:
- net/sctp
hunk_count: 1
covered_count: 0
