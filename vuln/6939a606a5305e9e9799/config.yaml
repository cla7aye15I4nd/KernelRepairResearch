id: 6939a606a5305e9e9799
bug_link: https://syzkaller.appspot.com/bug?extid=6939a606a5305e9e9799
title: 'KASAN: use-after-free Read in skcipher_recvmsg'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 76d09ea7c22f2cabf1f66ffc287c23b19b120be9
fix_commit: f7d76e05d058b832b373237566cc1af8251371b5
datetime: '2018-12-07T14:15:00+08:00'
fix_commit_message: 'crypto: user - fix use_after_free of struct xxx_request


  All crypto_stats functions use the struct xxx_request for feeding stats,

  but in some case this structure could already be freed.


  For fixing this, the needed parameters (len and alg) will be stored

  before the request being executed.

  Fixes: cac5818c25d0 ("crypto: user - Implement a generic crypto statistics")

  Reported-by: syzbot <syzbot+6939a606a5305e9e9799@syzkaller.appspotmail.com>


  Signed-off-by: Corentin Labbe <clabbe@baylibre.com>

  Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

  '
submodule:
- crypto
- include/crypto
- include/linux
hunk_count: 31
covered_count: 3
