id: 1cb36954e127c98dd037
bug_link: https://syzkaller.appspot.com/bug?extid=1cb36954e127c98dd037
title: 'KMSAN: uninit-value in linear_transfer (2)'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 5e93a125f521efd00d71af31c2a301f3d46af48c
fix_commit: 65766ee0bf7fe8b3be80e2e1c3ef54ad59b29476
datetime: '2018-11-09T14:12:04+01:00'
fix_commit_message: 'ALSA: oss: Use kvzalloc() for local buffer allocations


  PCM OSS layer may allocate a few temporary buffers, one for the core

  read/write and another for the conversions via plugins.  Currently

  both are allocated via vmalloc().  But as the allocation size is

  equivalent with the PCM period size, the required size might be quite

  small, depending on the application.


  This patch replaces these vmalloc() calls with kvzalloc() for covering

  small period sizes better.  Also, we use "z"-alloc variant here for

  addressing the possible uninitialized access reported by syzkaller.


  Reported-by: syzbot+1cb36954e127c98dd037@syzkaller.appspotmail.com

  Cc: <stable@vger.kernel.org>

  Signed-off-by: Takashi Iwai <tiwai@suse.de>

  '
submodule:
- sound/core/oss
hunk_count: 4
covered_count: 2
