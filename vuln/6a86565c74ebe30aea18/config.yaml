id: 6a86565c74ebe30aea18
bug_link: https://syzkaller.appspot.com/bug?extid=6a86565c74ebe30aea18
title: general protection fault in ip_set_comment_free
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: f66ee0410b1c3481ee75e5db9b34547b4d582465
fix_commit: 8af1c6fbd9239877998c7f5a591cb2c88d41fb66
datetime: '2020-02-22T12:13:45+01:00'
fix_commit_message: 'netfilter: ipset: Fix forceadd evaluation path


  When the forceadd option is enabled, the hash:* types should find and replace

  the first entry in the bucket with the new one if there are no reuseable

  (deleted or timed out) entries. However, the position index was just not set

  to zero and remained the invalid -1 if there were no reuseable entries.


  Reported-by: syzbot+6a86565c74ebe30aea18@syzkaller.appspotmail.com

  Fixes: 23c42a403a9c ("netfilter: ipset: Introduction of new commands and protocol
  version 7")

  Signed-off-by: Jozsef Kadlecsik <kadlec@netfilter.org>

  '
submodule:
- net/netfilter
hunk_count: 1
covered_count: 0
