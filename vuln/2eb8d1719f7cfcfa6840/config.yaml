id: 2eb8d1719f7cfcfa6840
bug_link: https://syzkaller.appspot.com/bug?extid=2eb8d1719f7cfcfa6840
title: general protection fault in rose_rt_ioctl
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 9b8c88f875c04d4cb9111bd5dd9291c7e9691bf5
fix_commit: 1cc8a5b534e5f9b5e129e54ee2e63c9f5da4f39a
datetime: '2025-08-27T17:27:52-07:00'
fix_commit_message: "net: rose: fix a typo in rose_clear_routes()\n\nsyzbot crashed\
  \ in rose_clear_routes(), after a recent patch typo.\n\nKASAN: null-ptr-deref in\
  \ range [0x0000000000000010-0x0000000000000017]\nCPU: 0 UID: 0 PID: 10591 Comm:\
  \ syz.3.1856 Not tainted syzkaller #0 PREEMPT(full)\nHardware name: Google Google\
  \ Compute Engine/Google Compute Engine, BIOS Google 07/12/2025\n RIP: 0010:rose_clear_routes\
  \ net/rose/rose_route.c:565 [inline]\n RIP: 0010:rose_rt_ioctl+0x162/0x1250 net/rose/rose_route.c:760\n\
  \ <TASK>\n  rose_ioctl+0x3ce/0x8b0 net/rose/af_rose.c:1381\n  sock_do_ioctl+0xd9/0x300\
  \ net/socket.c:1238\n  sock_ioctl+0x576/0x790 net/socket.c:1359\n  vfs_ioctl fs/ioctl.c:51\
  \ [inline]\n  __do_sys_ioctl fs/ioctl.c:598 [inline]\n  __se_sys_ioctl+0xfc/0x170\
  \ fs/ioctl.c:584\n  do_syscall_x64 arch/x86/entry/syscall_64.c:63 [inline]\n  do_syscall_64+0xfa/0x3b0\
  \ arch/x86/entry/syscall_64.c:94\n entry_SYSCALL_64_after_hwframe+0x77/0x7f\n\n\
  Fixes: da9c9c877597 (\"net: rose: include node references in rose_neigh refcount\"\
  )\nReported-by: syzbot+2eb8d1719f7cfcfa6840@syzkaller.appspotmail.com\nCloses: https://lore.kernel.org/netdev/68af3e29.a70a0220.3cafd4.002e.GAE@google.com/T/#u\n\
  Signed-off-by: Eric Dumazet <edumazet@google.com>\nCc: Takamitsu Iwai <takamitz@amazon.co.jp>\n\
  Reviewed-by: Kuniyuki Iwashima <kuniyu@google.com>\nLink: https://patch.msgid.link/20250827172149.5359-1-edumazet@google.com\n\
  Signed-off-by: Jakub Kicinski <kuba@kernel.org>\n"
submodule:
- net/rose
hunk_count: 1
covered_count: 1
