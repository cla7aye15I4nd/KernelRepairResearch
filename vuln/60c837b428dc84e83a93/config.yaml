id: 60c837b428dc84e83a93
bug_link: https://syzkaller.appspot.com/bug?extid=60c837b428dc84e83a93
title: 'KASAN: slab-out-of-bounds Read in getname_kernel'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: e70cc2bd579e8a9d6d153762f0fe294d0e652ff0
fix_commit: 02f51d45937f7bc7f4dee21e9f85b2d5eac37104
datetime: '2018-07-14T11:11:09-07:00'
fix_commit_message: 'autofs: fix slab out of bounds read in getname_kernel()


  The autofs subsystem does not check that the "path" parameter is present

  for all cases where it is required when it is passed in via the "param"

  struct.


  In particular it isn''t checked for the AUTOFS_DEV_IOCTL_OPENMOUNT_CMD

  ioctl command.


  To solve it, modify validate_dev_ioctl(function to check that a path has

  been provided for ioctl commands that require it.


  Link: http://lkml.kernel.org/r/153060031527.26631.18306637892746301555.stgit@pluto.themaw.net

  Signed-off-by: Tomas Bortoli <tomasbortoli@gmail.com>

  Signed-off-by: Ian Kent <raven@themaw.net>

  Reported-by: syzbot+60c837b428dc84e83a93@syzkaller.appspotmail.com

  Cc: Dmitry Vyukov <dvyukov@google.com>

  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>

  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

  '
submodule:
- fs/autofs
hunk_count: 4
covered_count: 0
