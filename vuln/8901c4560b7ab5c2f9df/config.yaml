id: 8901c4560b7ab5c2f9df
bug_link: https://syzkaller.appspot.com/bug?extid=8901c4560b7ab5c2f9df
title: 'KMSAN: uninit-value in udf_get_fileshortad'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: c226964ec786f3797ed389a16392ce4357697d24
fix_commit: 264db9d666ad9a35075cc9ed9ec09d021580fbb1
datetime: '2024-10-02T14:32:37+02:00'
fix_commit_message: 'udf: fix uninit-value use in udf_get_fileshortad


  Check for overflow when computing alen in udf_current_aext to mitigate

  later uninit-value use in udf_get_fileshortad KMSAN bug[1].

  After applying the patch reproducer did not trigger any issue[2].


  [1] https://syzkaller.appspot.com/bug?extid=8901c4560b7ab5c2f9df

  [2] https://syzkaller.appspot.com/x/log.txt?x=10242227980000


  Reported-by: syzbot+8901c4560b7ab5c2f9df@syzkaller.appspotmail.com

  Closes: https://syzkaller.appspot.com/bug?extid=8901c4560b7ab5c2f9df

  Tested-by: syzbot+8901c4560b7ab5c2f9df@syzkaller.appspotmail.com

  Suggested-by: Jan Kara <jack@suse.com>

  Signed-off-by: Gianfranco Trad <gianf.trad@gmail.com>

  Signed-off-by: Jan Kara <jack@suse.cz>

  Link: https://patch.msgid.link/20240925074613.8475-3-gianf.trad@gmail.com

  '
submodule:
- fs/udf
hunk_count: 1
covered_count: 1
