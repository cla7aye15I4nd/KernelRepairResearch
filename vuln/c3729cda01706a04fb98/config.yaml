id: c3729cda01706a04fb98
bug_link: https://syzkaller.appspot.com/bug?extid=c3729cda01706a04fb98
title: 'WARNING: CPU: NUM PID: NUM at mm/page_alloc.c:LINE get_page_from_freeli'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 6acd87d50998ef0afafc441613aeaf5a8f5c9eff
fix_commit: 12724ba38992bd045e92a9a88a868a530f89d13e
datetime: '2023-01-10T16:41:45+08:00'
fix_commit_message: 'erofs: fix kvcalloc() misuse with __GFP_NOFAIL


  As reported by syzbot [1], kvcalloc() cannot work with  __GFP_NOFAIL.

  Let''s use kcalloc() instead.


  [1] https://lore.kernel.org/r/0000000000007796bd05f1852ec2@google.com


  Reported-by: syzbot+c3729cda01706a04fb98@syzkaller.appspotmail.com

  Fixes: fe3e5914e6dc ("erofs: try to leave (de)compressed_pages on stack if possible")

  Fixes: 4f05687fd703 ("erofs: introduce struct z_erofs_decompress_backend")

  Reviewed-by: Chao Yu <chao@kernel.org>

  Signed-off-by: Gao Xiang <hsiangkao@linux.alibaba.com>

  Link: https://lore.kernel.org/r/20230110074927.41651-1-hsiangkao@linux.alibaba.com

  '
submodule:
- fs/erofs
hunk_count: 3
covered_count: 0
