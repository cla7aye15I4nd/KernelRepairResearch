id: 80899a8a8efe8968cde7
bug_link: https://syzkaller.appspot.com/bug?extid=80899a8a8efe8968cde7
title: WARNING in r871xu_dev_remove
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: c4283950a9a4d3bf4a3f362e406c80ab14f10714
fix_commit: b4383c971bc5263efe2b0915ba67ebf2bf3f1ee5
datetime: '2020-07-17T12:08:44+02:00'
fix_commit_message: 'staging: rtl8712: handle firmware load failure


  when firmware fails to load we should not call unregister_netdev()

  this patch fixes a race condition between rtl871x_load_fw_cb() and

  r871xu_dev_remove() and fixes the bug reported by syzbot


  Reported-by: syzbot+80899a8a8efe8968cde7@syzkaller.appspotmail.com

  Link: https://syzkaller.appspot.com/bug?extid=80899a8a8efe8968cde7

  Signed-off-by: Rustam Kovhaev <rkovhaev@gmail.com>

  Cc: stable <stable@vger.kernel.org>

  Link: https://lore.kernel.org/r/20200716151324.1036204-1-rkovhaev@gmail.com

  Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

  '
submodule:
- drivers/staging/rtl8712
hunk_count: 4
covered_count: 2
