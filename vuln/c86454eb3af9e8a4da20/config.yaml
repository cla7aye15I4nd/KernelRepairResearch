id: c86454eb3af9e8a4da20
bug_link: https://syzkaller.appspot.com/bug?extid=c86454eb3af9e8a4da20
title: 'INFO: trying to register non-static key in ida_destroy'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: d9aeaa6d4ca44df5fae745fd47aede8b3f6137f1
fix_commit: 8c279e9394cade640ed86ec6c6645a0e7df5e0b6
datetime: '2019-10-16T16:33:58-03:00'
fix_commit_message: 'media: uvcvideo: Fix error path in control parsing failure


  When parsing the UVC control descriptors fails, the error path tries to

  cleanup a media device that hasn''t been initialised, potentially

  resulting in a crash. Fix this by initialising the media device before

  the error handling path can be reached.


  Fixes: 5a254d751e52 ("[media] uvcvideo: Register a v4l2_device")

  Reported-by: syzbot+c86454eb3af9e8a4da20@syzkaller.appspotmail.com

  Signed-off-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com>

  Signed-off-by: Mauro Carvalho Chehab <mchehab+samsung@kernel.org>

  '
submodule:
- drivers/media/usb/uvc
hunk_count: 2
covered_count: 1
