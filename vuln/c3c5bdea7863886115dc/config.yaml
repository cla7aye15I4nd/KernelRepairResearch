id: c3c5bdea7863886115dc
bug_link: https://syzkaller.appspot.com/bug?extid=c3c5bdea7863886115dc
title: 'linux-next test error: KASAN: use-after-free Read in l2cap_sock_release'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 89bd6147964ea3d72708ee30ba309ac675a5b997
fix_commit: 2a154903cec20fb64ff4d7d617ca53c16f8fd53a
datetime: '2020-02-05T09:05:04+01:00'
fix_commit_message: "Bluetooth: prefetch channel before killing sock\n\nPrefetch channel\
  \ before killing sock in order to fix UAF like\n\n BUG: KASAN: use-after-free in\
  \ l2cap_sock_release+0x24c/0x290 net/bluetooth/l2cap_sock.c:1212\n Read of size\
  \ 8 at addr ffff8880944904a0 by task syz-fuzzer/9751\n\nReported-by: syzbot+c3c5bdea7863886115dc@syzkaller.appspotmail.com\n\
  Fixes: 6c08fc896b60 (\"Bluetooth: Fix refcount use-after-free issue\")\nCc: Manish\
  \ Mandlik <mmandlik@google.com>\nSigned-off-by: Hillf Danton <hdanton@sina.com>\n\
  Signed-off-by: Marcel Holtmann <marcel@holtmann.org>\n"
submodule:
- net/bluetooth
hunk_count: 2
covered_count: 2
