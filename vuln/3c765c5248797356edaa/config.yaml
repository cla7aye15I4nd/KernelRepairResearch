id: 3c765c5248797356edaa
bug_link: https://syzkaller.appspot.com/bug?extid=3c765c5248797356edaa
title: kernel BUG in ntfs_read_inode_mount
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 2b76e68d7249f2f209b3ee3d15e8a2fb805220a3
fix_commit: 714fbf2647b1a33d914edd695d4da92029c7e7c0
datetime: '2022-03-22T15:57:00-07:00'
fix_commit_message: 'ntfs: add sanity check on allocation size


  ntfs_read_inode_mount invokes ntfs_malloc_nofs with zero allocation

  size.  It triggers one BUG in the __ntfs_malloc function.


  Fix this by adding sanity check on ni->attr_list_size.


  Link: https://lkml.kernel.org/r/20220120094914.47736-1-dzm91@hust.edu.cn

  Reported-by: syzbot+3c765c5248797356edaa@syzkaller.appspotmail.com

  Signed-off-by: Dongliang Mu <mudongliangabcd@gmail.com>

  Acked-by: Anton Altaparmakov <anton@tuxera.com>

  Signed-off-by: Andrew Morton <akpm@linux-foundation.org>

  Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>

  '
submodule:
- fs/ntfs
hunk_count: 1
covered_count: 1
