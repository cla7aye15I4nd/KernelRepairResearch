id: dd73570cf9918519e789
bug_link: https://syzkaller.appspot.com/bug?extid=dd73570cf9918519e789
title: 'WARNING: lock held when returning to user space in ns_ioctl'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 400e4064b63a4c302dff11136828f54de91eda2a
fix_commit: 280e36f0d5b997173d014c07484c03a7f7750668
datetime: '2024-07-18T09:50:08+02:00'
fix_commit_message: 'nsfs: use cleanup guard


  Ensure that rcu read lock is given up before returning.


  Link: https://lore.kernel.org/r/20240716-elixier-fliesen-1ab342151a61@brauner

  Fixes: ca567df74a28 ("nsfs: add pid translation ioctls")

  Reported-by: syzbot+a3e82ae343b26b4d2335@syzkaller.appspotmail.com

  Signed-off-by: Christian Brauner <brauner@kernel.org>

  '
submodule:
- fs
hunk_count: 2
covered_count: 2
