id: b90b904ef6bdfdafec1d
bug_link: https://syzkaller.appspot.com/bug?extid=b90b904ef6bdfdafec1d
title: 'KMSAN: uninit-value in des3_ede_decrypt'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: c0ec2a712daf133d9996a8a1b7ee2d4996080363
fix_commit: 7cfc2ab3f0259212ecd130937893cb1d5c25ecc9
datetime: '2024-02-24T08:37:24+08:00'
fix_commit_message: 'crypto: lskcipher - Copy IV in lskcipher glue code always


  The lskcipher glue code for skcipher needs to copy the IV every

  time rather than only on the first and last request.  Otherwise

  those algorithms that use IV to perform chaining may break, e.g.,

  CBC.


  This is because crypto_skcipher_import/export do not include the

  IV as part of the saved state.


  Reported-by: syzbot+b90b904ef6bdfdafec1d@syzkaller.appspotmail.com

  Fixes: 662ea18d089b ("crypto: skcipher - Make use of internal state")

  Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

  '
submodule:
- crypto
hunk_count: 2
covered_count: 2
