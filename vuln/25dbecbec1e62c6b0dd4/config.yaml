id: 25dbecbec1e62c6b0dd4
bug_link: https://syzkaller.appspot.com/bug?extid=25dbecbec1e62c6b0dd4
title: divide error in nbd_ioctl
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 3111885015b458c97b4cf272e2a87f1d6f0ed06a
fix_commit: bc811f05d77f47059c197a98b6ad242eb03999cb
datetime: '2018-09-04T11:54:58-06:00'
fix_commit_message: 'nbd: don''t allow invalid blocksize settings


  syzbot reports a divide-by-zero off the NBD_SET_BLKSIZE ioctl.

  We need proper validation of the input here. Not just if it''s

  zero, but also if the value is a power-of-2 and in a valid

  range. Add that.


  Cc: stable@vger.kernel.org

  Reported-by: syzbot <syzbot+25dbecbec1e62c6b0dd4@syzkaller.appspotmail.com>

  Reviewed-by: Josef Bacik <josef@toxicpanda.com>

  Signed-off-by: Jens Axboe <axboe@kernel.dk>

  '
submodule:
- drivers/block
hunk_count: 1
covered_count: 1
