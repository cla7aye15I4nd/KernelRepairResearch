id: b68605d7fadd21510de1
bug_link: https://syzkaller.appspot.com/bug?extid=b68605d7fadd21510de1
title: 'KASAN: global-out-of-bounds Read in qmi_wwan_probe'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 4f07b80c973348a99b5d2a32476a2e7877e94a05
fix_commit: 904d88d743b0c94092c5117955eab695df8109e8
datetime: '2019-06-24T10:07:12-07:00'
fix_commit_message: "qmi_wwan: Fix out-of-bounds read\n\nThe syzbot reported\n\n Call\
  \ Trace:\n  __dump_stack lib/dump_stack.c:77 [inline]\n  dump_stack+0xca/0x13e lib/dump_stack.c:113\n\
  \  print_address_description+0x67/0x231 mm/kasan/report.c:188\n  __kasan_report.cold+0x1a/0x32\
  \ mm/kasan/report.c:317\n  kasan_report+0xe/0x20 mm/kasan/common.c:614\n  qmi_wwan_probe+0x342/0x360\
  \ drivers/net/usb/qmi_wwan.c:1417\n  usb_probe_interface+0x305/0x7a0 drivers/usb/core/driver.c:361\n\
  \  really_probe+0x281/0x660 drivers/base/dd.c:509\n  driver_probe_device+0x104/0x210\
  \ drivers/base/dd.c:670\n  __device_attach_driver+0x1c2/0x220 drivers/base/dd.c:777\n\
  \  bus_for_each_drv+0x15c/0x1e0 drivers/base/bus.c:454\n\nCaused by too many confusing\
  \ indirections and casts.\nid->driver_info is a pointer stored in a long.  We want\
  \ the\npointer here, not the address of it.\n\nThanks-to: Hillf Danton <hdanton@sina.com>\n\
  Reported-by: syzbot+b68605d7fadd21510de1@syzkaller.appspotmail.com\nCc: Kristian\
  \ Evensen <kristian.evensen@gmail.com>\nFixes: e4bf63482c30 (\"qmi_wwan: Add quirk\
  \ for Quectel dynamic config\")\nSigned-off-by: Bj√∏rn Mork <bjorn@mork.no>\nSigned-off-by:\
  \ David S. Miller <davem@davemloft.net>\n"
submodule:
- drivers/net/usb
hunk_count: 1
covered_count: 1
