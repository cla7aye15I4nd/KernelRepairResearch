id: fe013f55a2814a9e8cfd
bug_link: https://syzkaller.appspot.com/bug?extid=fe013f55a2814a9e8cfd
title: 'linux-next boot error: general protection fault in add_mtd_device'
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 9661524b9b26a45ecb045d7d36f85e83d8021a86
fix_commit: 7ec4cdb321738d44ae5d405e7b6ac73dfbf99caa
datetime: '2022-08-01T21:33:11+02:00'
fix_commit_message: 'mtd: core: check partition before dereference


  syzbot is reporting NULL pointer dereference at mtd_check_of_node() [1],

  for mtdram test device (CONFIG_MTD_MTDRAM) is not partition.


  Link: https://syzkaller.appspot.com/bug?extid=fe013f55a2814a9e8cfd [1]

  Reported-by: syzbot <syzbot+fe013f55a2814a9e8cfd@syzkaller.appspotmail.com>

  Reported-by: kernel test robot <oliver.sang@intel.com>

  Fixes: ad9b10d1eaada169 ("mtd: core: introduce of support for dynamic partitions")

  Signed-off-by: Tetsuo Handa <penguin-kernel@I-love.SAKURA.ne.jp>

  CC: stable@vger.kernel.org

  Signed-off-by: Richard Weinberger <richard@nod.at>

  '
submodule:
- drivers/mtd
hunk_count: 1
covered_count: 1
