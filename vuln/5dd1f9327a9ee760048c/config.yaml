id: 5dd1f9327a9ee760048c
bug_link: https://syzkaller.appspot.com/bug?extid=5dd1f9327a9ee760048c
title: general protection fault in __smc_diag_dump
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 41c80be24be4eae27571ce524def9467c9705ce5
fix_commit: b03faa1fafc8018295401dc558bdc76362d860a4
datetime: '2019-02-07T18:06:18-08:00'
fix_commit_message: 'net/smc: postpone release of clcsock


  According to RFC7609 (http://www.rfc-editor.org/info/rfc7609)

  first the SMC-R connection is shut down and then the normal TCP

  connection FIN processing drives cleanup of the internal TCP connection.

  The unconditional release of the clcsock during active socket closing

  has to be postponed if the peer has not yet signalled socket closing.


  Signed-off-by: Ursula Braun <ubraun@linux.ibm.com>

  Signed-off-by: David S. Miller <davem@davemloft.net>

  '
submodule:
- net/smc
hunk_count: 2
covered_count: 0
