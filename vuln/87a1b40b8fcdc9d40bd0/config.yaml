id: 87a1b40b8fcdc9d40bd0
bug_link: https://syzkaller.appspot.com/bug?extid=87a1b40b8fcdc9d40bd0
title: possible deadlock in do_io_accounting (3)
source_page: https://syzkaller.appspot.com/upstream/fixed
trigger_commit: 2db9dbf71bf98d02a0bf33e798e5bfd2a9944696
fix_commit: 76518d3798855242817e8a8ed76b2d72f4415624
datetime: '2020-03-25T10:04:01-05:00'
fix_commit_message: 'proc: io_accounting: Use new infrastructure to fix deadlocks
  in execve


  This changes do_io_accounting to use the new exec_update_mutex

  instead of cred_guard_mutex.


  This fixes possible deadlocks when the trace is accessing

  /proc/$pid/io for instance.


  This should be safe, as the credentials are only used for reading.


  Signed-off-by: Bernd Edlinger <bernd.edlinger@hotmail.de>

  Signed-off-by: Eric W. Biederman <ebiederm@xmission.com>

  '
submodule:
- fs/proc
hunk_count: 2
covered_count: 0
